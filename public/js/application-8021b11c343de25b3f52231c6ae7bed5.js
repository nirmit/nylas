function Gauge(t,e){this.placeholderName=t;var i=this;this.configure=function(t){this.config=t,this.config.size=.9*this.config.size,this.config.raduis=.97*this.config.size/2,this.config.cx=this.config.size/2,this.config.cy=this.config.size/2,this.config.min=void 0!=t.min?t.min:0,this.config.max=void 0!=t.max?t.max:100,this.config.range=this.config.max-this.config.min,this.config.majorTicks=t.majorTicks||5,this.config.minorTicks=t.minorTicks||2,this.config.greenColor=t.greenColor||"#109618",this.config.yellowColor=t.yellowColor||"#FF9900",this.config.redColor=t.redColor||"#DC3912",this.config.transitionDuration=t.transitionDuration||500,this.config.defaultVal=t.defaultVal||this.config.min},this.render=function(){this.body=d3.select("#"+this.placeholderName).append("svg:svg").attr("class","gauge").attr("width",this.config.size).attr("height",this.config.size),this.body.append("svg:circle").attr("cx",this.config.cx).attr("cy",this.config.cy).attr("r",this.config.raduis).style("fill","#ccc").style("stroke","#000").style("stroke-width","0.5px"),this.body.append("svg:circle").attr("cx",this.config.cx).attr("cy",this.config.cy).attr("r",.9*this.config.raduis).style("fill","#fff").style("stroke","#e0e0e0").style("stroke-width","2px");for(var t in this.config.greenZones)this.drawBand(this.config.greenZones[t].from,this.config.greenZones[t].to,i.config.greenColor);for(var t in this.config.yellowZones)this.drawBand(this.config.yellowZones[t].from,this.config.yellowZones[t].to,i.config.yellowColor);for(var t in this.config.redZones)this.drawBand(this.config.redZones[t].from,this.config.redZones[t].to,i.config.redColor);if(void 0!=this.config.label){var e=Math.round(this.config.size/9);this.body.append("svg:text").attr("x",this.config.cx).attr("y",this.config.cy/2+e/2).attr("dy",e/2).attr("text-anchor","middle").text(this.config.label).style("font-size",e+"px").style("fill","#333").style("stroke-width","0px")}for(var e=Math.round(this.config.size/16),n=this.config.range/(this.config.majorTicks-1),a=this.config.min;a<=this.config.max;a+=n){for(var r=n/this.config.minorTicks,o=a+r;o<Math.min(a+n,this.config.max);o+=r){var s=this.valueToPoint(o,.75),l=this.valueToPoint(o,.85);this.body.append("svg:line").attr("x1",s.x).attr("y1",s.y).attr("x2",l.x).attr("y2",l.y).style("stroke","#666").style("stroke-width","1px")}var s=this.valueToPoint(a,.7),l=this.valueToPoint(a,.85);if(this.body.append("svg:line").attr("x1",s.x).attr("y1",s.y).attr("x2",l.x).attr("y2",l.y).style("stroke","#333").style("stroke-width","2px"),a==this.config.min||a==this.config.max){var h=this.valueToPoint(a,.63);this.body.append("svg:text").attr("x",h.x).attr("y",h.y).attr("dy",e/3).attr("text-anchor",a==this.config.min?"start":"end").text(a).style("font-size",e+"px").style("fill","#333").style("stroke-width","0px")}}var u=this.body.append("svg:g").attr("class","pointerContainer"),c=(this.config.min+this.config.max)/2,d=this.buildPointerPath(c),p=d3.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("basis");u.selectAll("path").data([d]).enter().append("svg:path").attr("d",p).style("fill","#dc3912").style("stroke","#c63310").style("fill-opacity",.7),u.append("svg:circle").attr("cx",this.config.cx).attr("cy",this.config.cy).attr("r",.12*this.config.raduis).style("fill","#4684EE").style("stroke","#666").style("opacity",1);var e=Math.round(this.config.size/10);u.selectAll("text").data([c]).enter().append("svg:text").attr("x",this.config.cx).attr("y",this.config.size-this.config.cy/4-e).attr("dy",e/2).attr("text-anchor","middle").style("font-size",e+"px").style("fill","#000").style("stroke-width","0px"),this.redraw(this.config.defaultVal,0)},this.buildPointerPath=function(t){function e(t,e){var n=i.valueToPoint(t,e);return n.x-=i.config.cx,n.y-=i.config.cy,n}var n=this.config.range/13,a=e(t,.85),r=e(t-n,.12),o=e(t+n,.12),s=t-this.config.range*(1/.75)/2,l=e(s,.28),h=e(s-n,.12),u=e(s+n,.12);return[a,r,u,l,h,o,a]},this.drawBand=function(t,e,n){0>=e-t||this.body.append("svg:path").style("fill",n).attr("d",d3.svg.arc().startAngle(this.valueToRadians(t)).endAngle(this.valueToRadians(e)).innerRadius(.65*this.config.raduis).outerRadius(.85*this.config.raduis)).attr("transform",function(){return"translate("+i.config.cx+", "+i.config.cy+") rotate(270)"})},this.redraw=function(t,e){var n=this.body.select(".pointerContainer");n.selectAll("text").text(Math.round(t));var a=n.selectAll("path");a.transition().duration(void 0!=e?e:this.config.transitionDuration).attrTween("transform",function(){var e=t;t>i.config.max?e=i.config.max+.02*i.config.range:t<i.config.min&&(e=i.config.min-.02*i.config.range);var n=i.valueToDegrees(e)-90,a=i._currentRotation||n;return i._currentRotation=n,function(t){var e=a+(n-a)*t;return"translate("+i.config.cx+", "+i.config.cy+") rotate("+e+")"}})},this.valueToDegrees=function(t){return t/this.config.range*270-(this.config.min/this.config.range*270+45)},this.valueToRadians=function(t){return this.valueToDegrees(t)*Math.PI/180},this.valueToPoint=function(t,e){return{x:this.config.cx-this.config.raduis*e*Math.cos(this.valueToRadians(t)),y:this.config.cy-this.config.raduis*e*Math.sin(this.valueToRadians(t))}},this.configure(e)}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=at.type(t);return"function"!==i&&!at.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(at.isFunction(e))return at.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return at.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(dt.test(e))return at.filter(e,t,i);e=at.filter(e,t)}return at.grep(t,function(t){return at.inArray(t,e)>=0!==i})}function a(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e=bt[t]={};return at.each(t.match(yt)||[],function(t,i){e[i]=!0}),e}function o(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(ft.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(o(),at.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(St,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Tt.test(i)?at.parseJSON(i):i)}catch(t){}at.data(t,e,i)}else i=void 0}return i}function h(t){var e;for(e in t)if(("data"!==e||!at.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,i,n){if(at.acceptData(t)){var a,r,o=at.expando,s=t.nodeType,l=s?at.cache:t,h=s?t[o]:t[o]&&o;if(h&&l[h]&&(n||l[h].data)||void 0!==i||"string"!=typeof e)return h||(h=s?t[o]=$.pop()||at.guid++:o),l[h]||(l[h]=s?{}:{toJSON:at.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[h]=at.extend(l[h],e):l[h].data=at.extend(l[h].data,e)),r=l[h],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[at.camelCase(e)]=i),"string"==typeof e?(a=r[e],null==a&&(a=r[at.camelCase(e)])):a=r,a}}function c(t,e,i){if(at.acceptData(t)){var n,a,r=t.nodeType,o=r?at.cache:t,s=r?t[at.expando]:at.expando;if(o[s]){if(e&&(n=i?o[s]:o[s].data)){at.isArray(e)?e=e.concat(at.map(e,at.camelCase)):e in n?e=[e]:(e=at.camelCase(e),e=e in n?[e]:e.split(" ")),a=e.length;for(;a--;)delete n[e[a]];if(i?!h(n):!at.isEmptyObject(n))return}(i||(delete o[s].data,h(o[s])))&&(r?at.cleanData([t],!0):it.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(t){}}function g(t){var e=zt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function m(t,e){var i,n,a=0,r=typeof t.getElementsByTagName!==wt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==wt?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[a]);a++)!e||at.nodeName(n,e)?r.push(n):at.merge(r,m(n,e));return void 0===e||e&&at.nodeName(t,e)?at.merge([t],r):r}function x(t){Ft.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e){return at.nodeName(t,"table")&&at.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==at.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){for(var i,n=0;null!=(i=t[n]);n++)at._data(i,"globalEval",!e||at._data(e[n],"globalEval"))}function M(t,e){if(1===e.nodeType&&at.hasData(t)){var i,n,a,r=at._data(t),o=at._data(e,r),s=r.events;if(s){delete o.handle,o.events={};for(i in s)for(n=0,a=s[i].length;n<a;n++)at.event.add(e,i,s[i][n])}o.data&&(o.data=at.extend({},o.data))}}function w(t,e){var i,n,a;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!it.noCloneEvent&&e[at.expando]){a=at._data(e);for(n in a.events)at.removeEvent(e,n,a.handle);e.removeAttribute(at.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,b(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),it.html5Clone&&t.innerHTML&&!at.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ft.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function T(e,i){var n,a=at(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(a[0]))?n.display:at.css(a[0],"display");return a.detach(),r}function S(t){var e=ft,i=Qt[t];return i||(i=T(t,e),"none"!==i&&i||(Zt=(Zt||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Zt[0].contentWindow||Zt[0].contentDocument).document,e.write(),e.close(),i=T(t,e),Zt.detach()),Qt[t]=i),i}function C(t,e){return{get:function(){var i=t();if(null!=i)return i?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,a=de.length;a--;)if(e=de[a]+i,e in t)return e;return n}function A(t,e){for(var i,n,a,r=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(r[o]=at._data(n,"olddisplay"),i=n.style.display,e?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&At(n)&&(r[o]=at._data(n,"olddisplay",S(n.nodeName)))):(a=At(n),(i&&"none"!==i||!a)&&at._data(n,"olddisplay",a?i:at.css(n,"display"))));for(o=0;o<s;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function P(t,e,i){var n=le.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function F(t,e,i,n,a){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=at.css(t,i+kt[r],!0,a)),n?("content"===i&&(o-=at.css(t,"padding"+kt[r],!0,a)),"margin"!==i&&(o-=at.css(t,"border"+kt[r]+"Width",!0,a))):(o+=at.css(t,"padding"+kt[r],!0,a),"padding"!==i&&(o+=at.css(t,"border"+kt[r]+"Width",!0,a)));return o}function D(t,e,i){var n=!0,a="width"===e?t.offsetWidth:t.offsetHeight,r=te(t),o=it.boxSizing&&"border-box"===at.css(t,"boxSizing",!1,r);if(a<=0||null==a){if(a=ee(t,e,r),(a<0||null==a)&&(a=t.style[e]),ne.test(a))return a;n=o&&(it.boxSizingReliable()||a===t.style[e]),a=parseFloat(a)||0}return a+F(t,e,i||(o?"border":"content"),n,r)+"px"}function L(t,e,i,n,a){return new L.prototype.init(t,e,i,n,a)}function B(){return setTimeout(function(){pe=void 0}),pe=at.now()}function I(t,e){var i,n={height:t},a=0;for(e=e?1:0;a<4;a+=2-e)i=kt[a],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function E(t,e,i){for(var n,a=(ye[e]||[]).concat(ye["*"]),r=0,o=a.length;r<o;r++)if(n=a[r].call(i,e,t))return n}function z(t,e,i){var n,a,r,o,s,l,h,u,c=this,d={},p=t.style,f=t.nodeType&&At(t),g=at._data(t,"fxshow");i.queue||(s=at._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,at.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],h=at.css(t,"display"),u="none"===h?at._data(t,"olddisplay")||S(t.nodeName):h,"inline"===u&&"none"===at.css(t,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",it.shrinkWrapBlocks()||c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(a=e[n],ge.exec(a)){if(delete e[n],r=r||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!g||void 0===g[n])continue;f=!0}d[n]=g&&g[n]||at.style(t,n)}else h=void 0;if(at.isEmptyObject(d))"inline"===("none"===h?S(t.nodeName):h)&&(p.display=h);else{g?"hidden"in g&&(f=g.hidden):g=at._data(t,"fxshow",{}),r&&(g.hidden=!f),f?at(t).show():c.done(function(){at(t).hide()}),c.done(function(){var e;at._removeData(t,"fxshow");for(e in d)at.style(t,e,d[e])});for(n in d)o=E(f?g[n]:0,n,c),n in g||(g[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function W(t,e){var i,n,a,r,o;for(i in t)if(n=at.camelCase(i),a=e[n],r=t[i],at.isArray(r)&&(a=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),o=at.cssHooks[n],o&&"expand"in o){r=o.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=a)}else e[n]=a}function N(t,e,i){var n,a,r=0,o=ve.length,s=at.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=pe||B(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,r=1-n,o=0,l=h.tweens.length;o<l;o++)h.tweens[o].run(r);return s.notifyWith(t,[h,r,i]),r<1&&l?i:(s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:at.extend({},e),opts:at.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:pe||B(),duration:i.duration,tweens:[],createTween:function(e,i){var n=at.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(a)return this;for(a=!0;i<n;i++)h.tweens[i].run(1);return e?s.resolveWith(t,[h,e]):s.rejectWith(t,[h,e]),this}}),u=h.props;for(W(u,h.opts.specialEasing);r<o;r++)if(n=ve[r].call(h,t,u,h.opts))return n;return at.map(u,E,h),at.isFunction(h.opts.start)&&h.opts.start.call(t,h),at.fx.timer(at.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function V(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,r=e.toLowerCase().match(yt)||[];if(at.isFunction(i))for(;n=r[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function R(t,e,i,n){function a(s){var l;return r[s]=!0,at.each(t[s]||[],function(t,s){var h=s(e,i,n);return"string"!=typeof h||o||r[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),a(h),!1)}),l}var r={},o=t===He;return a(e.dataTypes[0])||!r["*"]&&a("*")}function j(t,e){var i,n,a=at.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((a[n]?t:i||(i={}))[n]=e[n]);return i&&at.extend(!0,t,i),t}function O(t,e,i){for(var n,a,r,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}n||(n=o)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function H(t,e,i,n){var a,r,o,s,l,h={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=h[l+" "+r]||h["* "+r],!o)for(a in h)if(s=a.split(" "),s[1]===r&&(o=h[l+" "+s[0]]||h["* "+s[0]])){o===!0?o=h[a]:h[a]!==!0&&(r=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function X(t,e,i,n){var a;if(at.isArray(e))at.each(e,function(e,a){i||qe.test(t)?n(t,a):X(t+"["+("object"==typeof a?e:"")+"]",a,i,n)});else if(i||"object"!==at.type(e))n(t,e);else for(a in e)X(t+"["+a+"]",e[a],i,n)}function Y(){try{return new t.XMLHttpRequest}catch(t){}}function q(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function U(t){return at.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var $=[],G=$.slice,J=$.concat,K=$.push,Z=$.indexOf,Q={},tt=Q.toString,et=Q.hasOwnProperty,it={},nt="1.11.1",at=function(t,e){return new at.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};at.fn=at.prototype={jquery:nt,constructor:at,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=at.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return at.each(this,t,e)},map:function(t){return this.pushStack(at.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:$.sort,splice:$.splice},at.extend=at.fn.extend=function(){var t,e,i,n,a,r,o=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"==typeof o||at.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(a=arguments[s]))for(n in a)t=o[n],i=a[n],o!==i&&(h&&i&&(at.isPlainObject(i)||(e=at.isArray(i)))?(e?(e=!1,r=t&&at.isArray(t)?t:[]):r=t&&at.isPlainObject(t)?t:{},o[n]=at.extend(h,r,i)):void 0!==i&&(o[n]=i));return o},at.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===at.type(t)},isArray:Array.isArray||function(t){return"array"===at.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!at.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==at.type(t)||t.nodeType||at.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(it.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&at.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ot,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var a,r=0,o=t.length,s=i(t);if(n){if(s)for(;r<o&&(a=e.apply(t[r],n),a!==!1);r++);else for(r in t)if(a=e.apply(t[r],n),a===!1)break}else if(s)for(;r<o&&(a=e.call(t[r],r,t[r]),a!==!1);r++);else for(r in t)if(a=e.call(t[r],r,t[r]),a===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?at.merge(n,"string"==typeof t?[t]:t):K.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(Z)return Z.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;)t[a++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[a++]=e[n++];return t.length=a,t},grep:function(t,e,i){for(var n,a=[],r=0,o=t.length,s=!i;r<o;r++)n=!e(t[r],r),n!==s&&a.push(t[r]);return a},map:function(t,e,n){var a,r=0,o=t.length,s=i(t),l=[];if(s)for(;r<o;r++)a=e(t[r],r,n),null!=a&&l.push(a);else for(r in t)a=e(t[r],r,n),null!=a&&l.push(a);return J.apply([],l)},guid:1,proxy:function(t,e){var i,n,a;if("string"==typeof e&&(a=t[e],e=t,t=a),at.isFunction(t))return i=G.call(arguments,2),n=function(){return t.apply(e||this,i.concat(G.call(arguments)))},n.guid=t.guid=t.guid||at.guid++,n},now:function(){return+new Date},support:it}),at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var ht=function(t){function e(t,e,i,n){var a,r,o,s,l,h,c,p,f,g;if((e?e.ownerDocument||e:R)!==L&&D(e),e=e||L,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(I&&!n){if(a=vt.exec(t))if(o=a[1]){if(9===s){if(r=e.getElementById(o),!r||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(o))&&N(e,r)&&r.id===o)return i.push(r),i}else{if(a[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((o=a[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(o)),i}if(_.qsa&&(!E||!E.test(t))){if(p=c=V,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(h=S(t),(c=e.getAttribute("id"))?p=c.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=h.length;l--;)h[l]=p+d(h[l]);f=yt.test(t)&&u(e.parentNode)||e,g=h.join(",")}if(g)try{return Q.apply(i,f.querySelectorAll(g)),i}catch(t){}finally{c||e.removeAttribute("id")}}}return k(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>M.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[V]=!0,t}function a(t){var e=L.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)M.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var a,r=t([],i.length,e),o=r.length;o--;)i[a=r[o]]&&(i[a]=!(n[a]=i[a]))})})}function u(t){return t&&typeof t.getElementsByTagName!==U&&t}function c(){}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,a=i&&"parentNode"===n,r=O++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r)}:function(e,i,o){var s,l,h=[j,r];if(o){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||a){if(l=e[V]||(e[V]={}),(s=l[n])&&s[0]===j&&s[1]===r)return h[2]=s[2];if(l[n]=h,h[2]=t(e,i,o))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var a=0,r=i.length;a<r;a++)e(t,i[a],n);return n}function m(t,e,i,n,a){for(var r,o=[],s=0,l=t.length,h=null!=e;s<l;s++)(r=t[s])&&(i&&!i(r,n,a)||(o.push(r),h&&e.push(s)));return o}function x(t,e,i,a,r,o){return a&&!a[V]&&(a=x(a)),r&&!r[V]&&(r=x(r,o)),n(function(n,o,s,l){var h,u,c,d=[],p=[],f=o.length,x=n||g(e||"*",s.nodeType?[s]:s,[]),v=!t||!n&&e?x:m(x,d,t,s,l),y=i?r||(n?t:f||a)?[]:o:v;if(i&&i(v,y,s,l),a)for(h=m(y,p),a(h,[],s,l),u=h.length;u--;)(c=h[u])&&(y[p[u]]=!(v[p[u]]=c));if(n){if(r||t){if(r){for(h=[],u=y.length;u--;)(c=y[u])&&h.push(v[u]=c);r(null,y=[],h,l)}for(u=y.length;u--;)(c=y[u])&&(h=r?et.call(n,c):d[u])>-1&&(n[h]=!(o[h]=c))}}else y=m(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):Q.apply(o,y)})}function v(t){for(var e,i,n,a=t.length,r=M.relative[t[0].type],o=r||M.relative[" "],s=r?1:0,l=p(function(t){return t===e},o,!0),h=p(function(t){return et.call(e,t)>-1},o,!0),u=[function(t,i,n){return!r&&(n||i!==A)||((e=i).nodeType?l(t,i,n):h(t,i,n))}];s<a;s++)if(i=M.relative[t[s].type])u=[p(f(u),i)];else{if(i=M.filter[t[s].type].apply(null,t[s].matches),i[V]){for(n=++s;n<a&&!M.relative[t[n].type];n++);return x(s>1&&f(u),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),i,s<n&&v(t.slice(s,n)),n<a&&v(t=t.slice(n)),n<a&&d(t))}u.push(i)}return f(u)}function y(t,i){var a=i.length>0,r=t.length>0,o=function(n,o,s,l,h){var u,c,d,p=0,f="0",g=n&&[],x=[],v=A,y=n||r&&M.find.TAG("*",h),b=j+=null==v?1:Math.random()||.1,_=y.length;for(h&&(A=o!==L&&o);f!==_&&null!=(u=y[f]);f++){if(r&&u){for(c=0;d=t[c++];)if(d(u,o,s)){l.push(u);break}h&&(j=b)}a&&((u=!d&&u)&&p--,n&&g.push(u))}if(p+=f,a&&f!==p){for(c=0;d=i[c++];)d(g,x,o,s);if(n){if(p>0)for(;f--;)g[f]||x[f]||(x[f]=K.call(l));x=m(x)}Q.apply(l,x),h&&!n&&x.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(j=b,A=v),g};return a?n(o):o}var b,_,M,w,T,S,C,k,A,P,F,D,L,B,I,E,z,W,N,V="sizzle"+-new Date,R=t.document,j=0,O=0,H=i(),X=i(),Y=i(),q=function(t,e){return t===e&&(F=!0),0},U="undefined",$=1<<31,G={}.hasOwnProperty,J=[],K=J.pop,Z=J.push,Q=J.push,tt=J.slice,et=J.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=at.replace("w","w#"),ot="\\["+nt+"*("+at+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+at+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ht=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,xt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Mt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(J=tt.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(t){Q={apply:J.length?function(t,e){Z.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:R,n=i.defaultView;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,B=i.documentElement,I=!T(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){D()},!1):n.attachEvent&&n.attachEvent("onunload",function(){D()})),_.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=a(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=xt.test(i.getElementsByClassName)&&a(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),_.getById=a(function(t){return B.appendChild(t).id=V,!i.getElementsByName||!i.getElementsByName(V).length}),_.getById?(M.find.ID=function(t,e){if(typeof e.getElementById!==U&&I){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},M.filter.ID=function(t){var e=t.replace(_t,Mt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(_t,Mt);return function(t){var i=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return i&&i.value===e}}),M.find.TAG=_.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==U)return e.getElementsByTagName(t)}:function(t,e){var i,n=[],a=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[a++];)1===i.nodeType&&n.push(i);return n}return r},M.find.CLASS=_.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!==U&&I)return e.getElementsByClassName(t)},z=[],E=[],(_.qsa=xt.test(i.querySelectorAll))&&(a(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&E.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||E.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll(":checked").length||E.push(":checked")}),a(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&E.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||E.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),E.push(",.*:")})),(_.matchesSelector=xt.test(W=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&a(function(t){_.disconnectedMatch=W.call(t,"div"),W.call(t,"[s!='']:x"),z.push("!=",st)}),E=E.length&&new RegExp(E.join("|")),z=z.length&&new RegExp(z.join("|")),e=xt.test(B.compareDocumentPosition),N=e||xt.test(B.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return F=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===R&&N(R,t)?-1:e===i||e.ownerDocument===R&&N(R,e)?1:P?et.call(P,t)-et.call(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return F=!0,0;var n,a=0,r=t.parentNode,s=e.parentNode,l=[t],h=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:P?et.call(P,t)-et.call(P,e):0;if(r===s)return o(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)h.unshift(n);for(;l[a]===h[a];)a++;return a?o(l[a],h[a]):l[a]===R?-1:h[a]===R?1:0},i):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&D(t),i=i.replace(ct,"='$1']"),_.matchesSelector&&I&&(!z||!z.test(i))&&(!E||!E.test(i)))try{var n=W.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&D(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&D(t);var i=M.attrHandle[e.toLowerCase()],n=i&&G.call(M.attrHandle,e.toLowerCase())?i(t,e,!I):void 0;return void 0!==n?n:_.attributes||!I?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,a=0;if(F=!_.detectDuplicates,P=!_.sortStable&&t.slice(0),t.sort(q),F){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return P=null,t},w=e.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},M=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,Mt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,Mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,Mt).toLowerCase();return"*"===t?function(){
return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(a){var r=e.attr(a,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,a){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,d,p,f,g=r!==o?"nextSibling":"previousSibling",m=e.parentNode,x=s&&e.nodeName.toLowerCase(),v=!l&&!s;if(m){if(r){for(;g;){for(c=e;c=c[g];)if(s?c.nodeName.toLowerCase()===x:1===c.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&v){for(u=m[V]||(m[V]={}),h=u[t]||[],p=h[0]===j&&h[1],d=h[0]===j&&h[2],c=p&&m.childNodes[p];c=++p&&c&&c[g]||(d=p=0)||f.pop();)if(1===c.nodeType&&++d&&c===e){u[t]=[j,p,d];break}}else if(v&&(h=(e[V]||(e[V]={}))[t])&&h[0]===j)d=h[1];else for(;(c=++p&&c&&c[g]||(d=p=0)||f.pop())&&((s?c.nodeName.toLowerCase()!==x:1!==c.nodeType)||!++d||(v&&((c[V]||(c[V]={}))[t]=[j,d]),c!==e)););return d-=a,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,i){var a,r=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[V]?r(i):r.length>1?(a=[t,t,"",i],M.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,a=r(t,i),o=a.length;o--;)n=et.call(t,a[o]),t[n]=!(e[n]=a[o])}):function(t){return r(t,0,a)}):r}},pseudos:{not:n(function(t){var e=[],i=[],a=C(t.replace(lt,"$1"));return a[V]?n(function(t,e,i,n){for(var r,o=a(t,null,n,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,a(e,null,r,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,Mt).toLowerCase(),function(e){var i;do if(i=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===B},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[i<0?i+e:i]}),even:h(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=l(b);return c.prototype=M.filters=M.pseudos,M.setFilters=new c,S=e.tokenize=function(t,i){var n,a,r,o,s,l,h,u=X[t+" "];if(u)return i?0:u.slice(0);for(s=t,l=[],h=M.preFilter;s;){n&&!(a=ht.exec(s))||(a&&(s=s.slice(a[0].length)||s),l.push(r=[])),n=!1,(a=ut.exec(s))&&(n=a.shift(),r.push({value:n,type:a[0].replace(lt," ")}),s=s.slice(n.length));for(o in M.filter)!(a=ft[o].exec(s))||h[o]&&!(a=h[o](a))||(n=a.shift(),r.push({value:n,type:o,matches:a}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):X(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],a=[],r=Y[t+" "];if(!r){for(e||(e=S(t)),i=e.length;i--;)r=v(e[i]),r[V]?n.push(r):a.push(r);r=Y(t,y(a,n)),r.selector=t}return r},k=e.select=function(t,e,i,n){var a,r,o,s,l,h="function"==typeof t&&t,c=!n&&S(t=h.selector||t);if(i=i||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&_.getById&&9===e.nodeType&&I&&M.relative[r[1].type]){if(e=(M.find.ID(o.matches[0].replace(_t,Mt),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(a=ft.needsContext.test(t)?0:r.length;a--&&(o=r[a],!M.relative[s=o.type]);)if((l=M.find[s])&&(n=l(o.matches[0].replace(_t,Mt),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(a,1),t=n.length&&d(r),!t)return Q.apply(i,n),i;break}}return(h||C(t,c))(n,e,!I,i,yt.test(t)&&u(e.parentNode)||e),i},_.sortStable=V.split("").sort(q).join("")===V,_.detectDuplicates=!!F,D(),_.sortDetached=a(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||r(it,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);at.find=ht,at.expr=ht.selectors,at.expr[":"]=at.expr.pseudos,at.unique=ht.uniqueSort,at.text=ht.getText,at.isXMLDoc=ht.isXML,at.contains=ht.contains;var ut=at.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;at.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?at.find.matchesSelector(n,t)?[n]:[]:at.find.matches(t,at.grep(e,function(t){return 1===t.nodeType}))},at.fn.extend({find:function(t){var e,i=[],n=this,a=n.length;if("string"!=typeof t)return this.pushStack(at(t).filter(function(){for(e=0;e<a;e++)if(at.contains(n[e],this))return!0}));for(e=0;e<a;e++)at.find(t,n[e],i);return i=this.pushStack(a>1?at.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ut.test(t)?at(t):t||[],!1).length}});var pt,ft=t.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=at.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:gt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||pt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof at?e[0]:e,at.merge(this,at.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),ct.test(i[1])&&at.isPlainObject(e))for(i in e)at.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=ft.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pt.find(t);this.length=1,this[0]=n}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):at.isFunction(t)?"undefined"!=typeof pt.ready?pt.ready(t):t(at):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),at.makeArray(t,this))};mt.prototype=at.fn,pt=at(ft);var xt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};at.extend({dir:function(t,e,i){for(var n=[],a=t[e];a&&9!==a.nodeType&&(void 0===i||1!==a.nodeType||!at(a).is(i));)1===a.nodeType&&n.push(a),a=a[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),at.fn.extend({has:function(t){var e,i=at(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(at.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,a=this.length,r=[],o=ut.test(t)||"string"!=typeof t?at(t,e||this.context):0;n<a;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&at.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?at.unique(r):r)},index:function(t){return t?"string"==typeof t?at.inArray(this[0],at(t)):at.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(at.unique(at.merge(this.get(),at(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),at.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return at.dir(t,"parentNode")},parentsUntil:function(t,e,i){return at.dir(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return at.dir(t,"nextSibling")},prevAll:function(t){return at.dir(t,"previousSibling")},nextUntil:function(t,e,i){return at.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return at.dir(t,"previousSibling",i)},siblings:function(t){return at.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return at.sibling(t.firstChild)},contents:function(t){return at.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:at.merge([],t.childNodes)}},function(t,e){at.fn[t]=function(i,n){var a=at.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=at.filter(n,a)),this.length>1&&(vt[t]||(a=at.unique(a)),xt.test(t)&&(a=a.reverse())),this.pushStack(a)}});var yt=/\S+/g,bt={};at.Callbacks=function(t){t="string"==typeof t?bt[t]||r(t):at.extend({},t);var e,i,n,a,o,s,l=[],h=!t.once&&[],u=function(r){for(i=t.memory&&r,n=!0,o=s||0,s=0,a=l.length,e=!0;l&&o<a;o++)if(l[o].apply(r[0],r[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(h?h.length&&u(h.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var n=l.length;!function e(i){at.each(i,function(i,n){var a=at.type(n);"function"===a?t.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==a&&e(n)})}(arguments),e?a=l.length:i&&(s=n,u(i))}return this},remove:function(){return l&&at.each(arguments,function(t,i){for(var n;(n=at.inArray(i,l,n))>-1;)l.splice(n,1),e&&(n<=a&&a--,n<=o&&o--)}),this},has:function(t){return t?at.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=h=i=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,i||c.disable(),this},locked:function(){return!h},fireWith:function(t,i){return!l||n&&!h||(i=i||[],i=[t,i.slice?i.slice():i],e?h.push(i):u(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},at.extend({Deferred:function(t){var e=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return at.Deferred(function(i){at.each(e,function(e,r){var o=at.isFunction(t[e])&&t[e];a[r[1]](function(){var t=o&&o.apply(this,arguments);t&&at.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?at.extend(t,n):n}},a={};return n.pipe=n.then,at.each(e,function(t,r){var o=r[2],s=r[3];n[r[1]]=o.add,s&&o.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?n:this,arguments),this},a[r[0]+"With"]=o.fireWith}),n.promise(a),t&&t.call(a,a),a},when:function(t){var e,i,n,a=0,r=G.call(arguments),o=r.length,s=1!==o||t&&at.isFunction(t.promise)?o:0,l=1===s?t:at.Deferred(),h=function(t,i,n){return function(a){i[t]=this,n[t]=arguments.length>1?G.call(arguments):a,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);a<o;a++)r[a]&&at.isFunction(r[a].promise)?r[a].promise().done(h(a,n,r)).fail(l.reject).progress(h(a,i,e)):--s;return s||l.resolveWith(n,r),l.promise()}});var _t;at.fn.ready=function(t){return at.ready.promise().done(t),this},at.extend({isReady:!1,readyWait:1,holdReady:function(t){t?at.readyWait++:at.ready(!0)},ready:function(t){if(t===!0?!--at.readyWait:!at.isReady){if(!ft.body)return setTimeout(at.ready);at.isReady=!0,t!==!0&&--at.readyWait>0||(_t.resolveWith(ft,[at]),at.fn.triggerHandler&&(at(ft).triggerHandler("ready"),at(ft).off("ready")))}}}),at.ready.promise=function(e){if(!_t)if(_t=at.Deferred(),"complete"===ft.readyState)setTimeout(at.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{ft.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&ft.documentElement}catch(t){}i&&i.doScroll&&!function t(){if(!at.isReady){try{i.doScroll("left")}catch(e){return setTimeout(t,50)}o(),at.ready()}}()}return _t.promise(e)};var Mt,wt="undefined";for(Mt in at(it))break;it.ownLast="0"!==Mt,it.inlineBlockNeedsLayout=!1,at(function(){var t,e,i,n;i=ft.getElementsByTagName("body")[0],i&&i.style&&(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==wt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=ft.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(t){it.deleteExpando=!1}}t=null}(),at.acceptData=function(t){var e=at.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||e!==!0&&t.getAttribute("classid")===e)};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;at.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?at.cache[t[at.expando]]:t[at.expando],!!t&&!h(t)},data:function(t,e,i){return u(t,e,i)},removeData:function(t,e){return c(t,e)},_data:function(t,e,i){return u(t,e,i,!0)},_removeData:function(t,e){return c(t,e,!0)}}),at.fn.extend({data:function(t,e){var i,n,a,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(a=at.data(r),1===r.nodeType&&!at._data(r,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=at.camelCase(n.slice(5)),l(r,n,a[n])));at._data(r,"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){at.data(this,t)}):arguments.length>1?this.each(function(){at.data(this,t,e)}):r?l(r,t,at.data(r,t)):void 0},removeData:function(t){return this.each(function(){at.removeData(this,t)})}}),at.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=at._data(t,e),i&&(!n||at.isArray(i)?n=at._data(t,e,at.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=at.queue(t,e),n=i.length,a=i.shift(),r=at._queueHooks(t,e),o=function(){at.dequeue(t,e)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete r.stop,a.call(t,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return at._data(t,i)||at._data(t,i,{empty:at.Callbacks("once memory").add(function(){at._removeData(t,e+"queue"),at._removeData(t,i)})})}}),at.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?at.queue(this[0],t):void 0===e?this:this.each(function(){var i=at.queue(this,t,e);at._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&at.dequeue(this,t)})},dequeue:function(t){return this.each(function(){at.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=at.Deferred(),r=this,o=this.length,s=function(){--n||a.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=at._data(r[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),a.promise(e)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],At=function(t,e){return t=e||t,"none"===at.css(t,"display")||!at.contains(t.ownerDocument,t)},Pt=at.access=function(t,e,i,n,a,r,o){var s=0,l=t.length,h=null==i;if("object"===at.type(i)){a=!0;for(s in i)at.access(t,e,s,i[s],!0,r,o)}else if(void 0!==n&&(a=!0,at.isFunction(n)||(o=!0),h&&(o?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(at(t),i)})),e))for(;s<l;s++)e(t[s],i,o?n:n.call(t[s],s,e(t[s],i)));return a?t:h?e.call(t):l?e(t[0],i):r},Ft=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),i=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===e.firstChild.nodeType,it.tbody=!e.getElementsByTagName("tbody").length,it.htmlSerialize=!!e.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),it.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){it.noCloneEvent=!1}),e.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}}(),function(){var e,i,n=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(it[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),it[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Dt=/^(?:input|select|textarea)$/i,Lt=/^key/,Bt=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(t,e,i,n,a){var r,o,s,l,h,u,c,d,p,f,g,m=at._data(t);if(m){for(i.handler&&(l=i,i=l.handler,a=l.selector),i.guid||(i.guid=at.guid++),(o=m.events)||(o=m.events={}),(u=m.handle)||(u=m.handle=function(t){return typeof at===wt||t&&at.event.triggered===t.type?void 0:at.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(yt)||[""],s=e.length;s--;)r=Et.exec(e[s])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(h=at.event.special[p]||{},p=(a?h.delegateType:h.bindType)||p,h=at.event.special[p]||{},c=at.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&at.expr.match.needsContext.test(a),namespace:f.join(".")},l),(d=o[p])||(d=o[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,n,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),a?d.splice(d.delegateCount++,0,c):d.push(c),at.event.global[p]=!0);t=null}},remove:function(t,e,i,n,a){var r,o,s,l,h,u,c,d,p,f,g,m=at.hasData(t)&&at._data(t);if(m&&(u=m.events)){for(e=(e||"").match(yt)||[""],h=e.length;h--;)if(s=Et.exec(e[h])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(c=at.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)o=d[r],!a&&g!==o.origType||i&&i.guid!==o.guid||s&&!s.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(d.splice(r,1),o.selector&&d.delegateCount--,c.remove&&c.remove.call(t,o));l&&!d.length&&(c.teardown&&c.teardown.call(t,f,m.handle)!==!1||at.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)at.event.remove(t,p+e[h],i,n,!0);at.isEmptyObject(u)&&(delete m.handle,at._removeData(t,"events"))}},trigger:function(e,i,n,a){var r,o,s,l,h,u,c,d=[n||ft],p=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(s=u=n=n||ft,3!==n.nodeType&&8!==n.nodeType&&!It.test(p+at.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,e=e[at.expando]?e:new at.Event(p,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:at.makeArray(i,[e]),h=at.event.special[p]||{},a||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!a&&!h.noBubble&&!at.isWindow(n)){for(l=h.delegateType||p,It.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(n.ownerDocument||ft)&&d.push(u.defaultView||u.parentWindow||t)}for(c=0;(s=d[c++])&&!e.isPropagationStopped();)e.type=c>1?l:h.bindType||p,r=(at._data(s,"events")||{})[e.type]&&at._data(s,"handle"),r&&r.apply(s,i),r=o&&s[o],r&&r.apply&&at.acceptData(s)&&(e.result=r.apply(s,i),e.result===!1&&e.preventDefault());if(e.type=p,!a&&!e.isDefaultPrevented()&&(!h._default||h._default.apply(d.pop(),i)===!1)&&at.acceptData(n)&&o&&n[p]&&!at.isWindow(n)){u=n[o],u&&(n[o]=null),at.event.triggered=p;try{n[p]()}catch(t){}at.event.triggered=void 0,u&&(n[o]=u)}return e.result}},dispatch:function(t){t=at.event.fix(t);var e,i,n,a,r,o=[],s=G.call(arguments),l=(at._data(this,"events")||{})[t.type]||[],h=at.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(o=at.event.handlers.call(this,t,l),e=0;(a=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,r=0;(n=a.handlers[r++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(n.namespace)||(t.handleObj=n,t.data=n.data,i=((at.event.special[n.origType]||{}).handle||n.handler).apply(a.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,a,r,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(a=[],r=0;r<s;r++)n=e[r],i=n.selector+" ",void 0===a[i]&&(a[i]=n.needsContext?at(i,this).index(l)>=0:at.find(i,this,null,[l]).length),a[i]&&a.push(n);a.length&&o.push({elem:l,handlers:a})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},fix:function(t){if(t[at.expando])return t;var e,i,n,a=t.type,r=t,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Bt.test(a)?this.mouseHooks:Lt.test(a)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new at.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,a,r=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||ft,a=n.documentElement,i=n.body,t.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(at.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return at.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var a=at.extend(new at.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?at.event.trigger(a,null,e):at.event.dispatch.call(e,a),a.isDefaultPrevented()&&i.preventDefault()}},at.removeEvent=ft.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===wt&&(t[n]=null),t.detachEvent(n,i))},at.Event=function(t,e){return this instanceof at.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&at.extend(this,e),this.timeStamp=t&&t.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(t,e)},at.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){at.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,a=t.relatedTarget,r=t.handleObj;return a&&(a===n||at.contains(n,a))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),it.submitBubbles||(at.event.special.submit={setup:function(){return!at.nodeName(this,"form")&&void at.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=at.nodeName(e,"input")||at.nodeName(e,"button")?e.form:void 0;i&&!at._data(i,"submitBubbles")&&(at.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),at._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&at.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!at.nodeName(this,"form")&&void at.event.remove(this,"._submit")}}),it.changeBubbles||(at.event.special.change={setup:function(){return Dt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(at.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,t,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(t){var e=t.target;Dt.test(e.nodeName)&&!at._data(e,"changeBubbles")&&(at.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||at.event.simulate("change",this.parentNode,t,!0)}),at._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return at.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),it.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){at.event.simulate(e,t.target,at.event.fix(t),!0)};at.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=at._data(n,e);a||n.addEventListener(t,i,!0),at._data(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=at._data(n,e)-1;a?at._data(n,e,a):(n.removeEventListener(t,i,!0),at._removeData(n,e))}}}),at.fn.extend({on:function(t,e,i,n,a){var r,o;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(r in t)this.on(r,e,i,t[r],a);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=p;else if(!n)return this;return 1===a&&(o=n,n=function(t){return at().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=at.guid++)),this.each(function(){at.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,at(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=p),this.each(function(){at.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){at.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return at.event.trigger(t,e,i,!0)}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Nt=new RegExp("<(?:"+zt+")[\\s/>]","i"),Vt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,Ot=/<tbody/i,Ht=/<|&#?\w+;/,Xt=/<(?:script|style|link)/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^$|\/(?:java|ecma)script/i,Ut=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=g(ft),Kt=Jt.appendChild(ft.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,at.extend({clone:function(t,e,i){var n,a,r,o,s,l=at.contains(t.ownerDocument,t);if(it.html5Clone||at.isXMLDoc(t)||!Nt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Kt.innerHTML=t.outerHTML,Kt.removeChild(r=Kt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||at.isXMLDoc(t)))for(n=m(r),s=m(t),o=0;null!=(a=s[o]);++o)n[o]&&w(a,n[o]);if(e)if(i)for(s=s||m(t),n=n||m(r),o=0;null!=(a=s[o]);o++)M(a,n[o]);else M(t,r);return n=m(r,"script"),n.length>0&&_(n,!l&&m(t,"script")),n=s=a=null,r},buildFragment:function(t,e,i,n){for(var a,r,o,s,l,h,u,c=t.length,d=g(e),p=[],f=0;f<c;f++)if(r=t[f],r||0===r)if("object"===at.type(r))at.merge(p,r.nodeType?[r]:r);else if(Ht.test(r)){for(s=s||d.appendChild(e.createElement("div")),l=(jt.exec(r)||["",""])[1].toLowerCase(),u=Gt[l]||Gt._default,s.innerHTML=u[1]+r.replace(Rt,"<$1></$2>")+u[2],a=u[0];a--;)s=s.lastChild;if(!it.leadingWhitespace&&Vt.test(r)&&p.push(e.createTextNode(Vt.exec(r)[0])),!it.tbody)for(r="table"!==l||Ot.test(r)?"<table>"!==u[1]||Ot.test(r)?0:s:s.firstChild,a=r&&r.childNodes.length;a--;)at.nodeName(h=r.childNodes[a],"tbody")&&!h.childNodes.length&&r.removeChild(h);for(at.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(e.createTextNode(r));for(s&&d.removeChild(s),it.appendChecked||at.grep(m(p,"input"),x),f=0;r=p[f++];)if((!n||at.inArray(r,n)===-1)&&(o=at.contains(r.ownerDocument,r),s=m(d.appendChild(r),"script"),o&&_(s),i))for(a=0;r=s[a++];)qt.test(r.type||"")&&i.push(r);return s=null,d},cleanData:function(t,e){for(var i,n,a,r,o=0,s=at.expando,l=at.cache,h=it.deleteExpando,u=at.event.special;null!=(i=t[o]);o++)if((e||at.acceptData(i))&&(a=i[s],r=a&&l[a])){if(r.events)for(n in r.events)u[n]?at.event.remove(i,n):at.removeEvent(i,n,r.handle);l[a]&&(delete l[a],h?delete i[s]:typeof i.removeAttribute!==wt?i.removeAttribute(s):i[s]=null,$.push(a))}}}),at.fn.extend({text:function(t){return Pt(this,function(t){return void 0===t?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this);
})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?at.filter(t,this):this,a=0;null!=(i=n[a]);a++)e||1!==i.nodeType||at.cleanData(m(i)),i.parentNode&&(e&&at.contains(i.ownerDocument,i)&&_(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&at.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&at.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return at.clone(this,t,e)})},html:function(t){return Pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Wt,""):void 0;if("string"==typeof t&&!Xt.test(t)&&(it.htmlSerialize||!Nt.test(t))&&(it.leadingWhitespace||!Vt.test(t))&&!Gt[(jt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Rt,"<$1></$2>");try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(at.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,at.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=J.apply([],t);var i,n,a,r,o,s,l=0,h=this.length,u=this,c=h-1,d=t[0],p=at.isFunction(d);if(p||h>1&&"string"==typeof d&&!it.checkClone&&Yt.test(d))return this.each(function(i){var n=u.eq(i);p&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(h&&(s=at.buildFragment(t,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(r=at.map(m(s,"script"),y),a=r.length;l<h;l++)n=s,l!==c&&(n=at.clone(n,!0,!0),a&&at.merge(r,m(n,"script"))),e.call(this[l],n,l);if(a)for(o=r[r.length-1].ownerDocument,at.map(r,b),l=0;l<a;l++)n=r[l],qt.test(n.type||"")&&!at._data(n,"globalEval")&&at.contains(o,n)&&(n.src?at._evalUrl&&at._evalUrl(n.src):at.globalEval((n.text||n.textContent||n.innerHTML||"").replace($t,"")));s=i=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){at.fn[t]=function(t){for(var i,n=0,a=[],r=at(t),o=r.length-1;n<=o;n++)i=n===o?this:this.clone(!0),at(r[n])[e](i),K.apply(a,i.get());return this.pushStack(a)}});var Zt,Qt={};!function(){var t;it.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=ft.getElementsByTagName("body")[0],i&&i.style?(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==wt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var te,ee,ie=/^margin/,ne=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),ae=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ee=function(t,e,i){var n,a,r,o,s=t.style;return i=i||te(t),o=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==o||at.contains(t.ownerDocument,t)||(o=at.style(t,e)),ne.test(o)&&ie.test(e)&&(n=s.width,a=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=a,s.maxWidth=r)),void 0===o?o:o+""}):ft.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,i){var n,a,r,o,s=t.style;return i=i||te(t),o=i?i[e]:void 0,null==o&&s&&s[e]&&(o=s[e]),ne.test(o)&&!ae.test(e)&&(n=s.left,a=t.runtimeStyle,r=a&&a.left,r&&(a.left=t.currentStyle.left),s.left="fontSize"===e?"1em":o,o=s.pixelLeft+"px",s.left=n,r&&(a.left=r)),void 0===o?o:o+""||"auto"}),function(){function e(){var e,i,n,a;i=ft.getElementsByTagName("body")[0],i&&i.style&&(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=o=!1,l=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,o="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,a=e.appendChild(ft.createElement("div")),a.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(a,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=e.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===a[0].offsetHeight,s&&(a[0].style.display="",a[1].style.display="none",s=0===a[0].offsetHeight),i.removeChild(n))}var i,n,a,r,o,s,l;i=ft.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=i.getElementsByTagName("a")[0],n=a&&a.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,at.extend(it,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==o&&e(),o},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==l&&e(),l}}))}(),at.swap=function(t,e,i,n){var a,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];a=i.apply(t,n||[]);for(r in e)t.style[r]=o[r];return a};var re=/alpha\([^)]*\)/i,oe=/opacity\s*=\s*([^)]*)/,se=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Ct+")(.*)$","i"),he=new RegExp("^([+-])=("+Ct+")","i"),ue={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"];at.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ee(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,r,o,s=at.camelCase(e),l=t.style;if(e=at.cssProps[s]||(at.cssProps[s]=k(l,s)),o=at.cssHooks[e]||at.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(t,!1,n))?a:l[e];if(r=typeof i,"string"===r&&(a=he.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(at.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||at.cssNumber[s]||(i+="px"),it.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(t,i,n)))))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var a,r,o,s=at.camelCase(e);return e=at.cssProps[s]||(at.cssProps[s]=k(t.style,s)),o=at.cssHooks[e]||at.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=ee(t,e,n)),"normal"===r&&e in ce&&(r=ce[e]),""===i||i?(a=parseFloat(r),i===!0||at.isNumeric(a)?a||0:r):r}}),at.each(["height","width"],function(t,e){at.cssHooks[e]={get:function(t,i,n){if(i)return se.test(at.css(t,"display"))&&0===t.offsetWidth?at.swap(t,ue,function(){return D(t,e,n)}):D(t,e,n)},set:function(t,i,n){var a=n&&te(t);return P(t,i,n?F(t,e,n,it.boxSizing&&"border-box"===at.css(t,"boxSizing",!1,a),a):0)}}}),it.opacity||(at.cssHooks.opacity={get:function(t,e){return oe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,a=at.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===at.trim(r.replace(re,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=re.test(r)?r.replace(re,a):r+" "+a)}}),at.cssHooks.marginRight=C(it.reliableMarginRight,function(t,e){if(e)return at.swap(t,{display:"inline-block"},ee,[t,"marginRight"])}),at.each({margin:"",padding:"",border:"Width"},function(t,e){at.cssHooks[t+e]={expand:function(i){for(var n=0,a={},r="string"==typeof i?i.split(" "):[i];n<4;n++)a[t+kt[n]+e]=r[n]||r[n-2]||r[0];return a}},ie.test(t)||(at.cssHooks[t+e].set=P)}),at.fn.extend({css:function(t,e){return Pt(this,function(t,e,i){var n,a,r={},o=0;if(at.isArray(e)){for(n=te(t),a=e.length;o<a;o++)r[e[o]]=at.css(t,e[o],!1,n);return r}return void 0!==i?at.style(t,e,i):at.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){At(this)?at(this).show():at(this).hide()})}}),at.Tween=L,L.prototype={constructor:L,init:function(t,e,i,n,a,r){this.elem=t,this.prop=i,this.easing=a||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(at.cssNumber[i]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,i=L.propHooks[this.prop];return this.options.duration?this.pos=e=at.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=at.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){at.fx.step[t.prop]?at.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[at.cssProps[t.prop]]||at.cssHooks[t.prop])?at.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},at.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},at.fx=L.prototype.init,at.fx.step={};var pe,fe,ge=/^(?:toggle|show|hide)$/,me=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),xe=/queueHooks$/,ve=[z],ye={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),a=me.exec(e),r=a&&a[3]||(at.cssNumber[t]?"":"px"),o=(at.cssNumber[t]||"px"!==r&&+n)&&me.exec(at.css(i.elem,t)),s=1,l=20;if(o&&o[3]!==r){r=r||o[3],a=a||[],o=+n||1;do s=s||".5",o/=s,at.style(i.elem,t,o+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return a&&(o=i.start=+o||+n||0,i.unit=r,i.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),i}]};at.Animation=at.extend(N,{tweener:function(t,e){at.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,a=t.length;n<a;n++)i=t[n],ye[i]=ye[i]||[],ye[i].unshift(e)},prefilter:function(t,e){e?ve.unshift(t):ve.push(t)}}),at.speed=function(t,e,i){var n=t&&"object"==typeof t?at.extend({},t):{complete:i||!i&&e||at.isFunction(t)&&t,duration:t,easing:i&&e||e&&!at.isFunction(e)&&e};return n.duration=at.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in at.fx.speeds?at.fx.speeds[n.duration]:at.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){at.isFunction(n.old)&&n.old.call(this),n.queue&&at.dequeue(this,n.queue)},n},at.fn.extend({fadeTo:function(t,e,i,n){return this.filter(At).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=at.isEmptyObject(t),r=at.speed(e,i,n),o=function(){var e=N(this,at.extend({},t),r);(a||at._data(this,"finish"))&&e.stop(!0)};return o.finish=o,a||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",r=at.timers,o=at._data(this);if(a)o[a]&&o[a].stop&&n(o[a]);else for(a in o)o[a]&&o[a].stop&&xe.test(a)&&n(o[a]);for(a=r.length;a--;)r[a].elem!==this||null!=t&&r[a].queue!==t||(r[a].anim.stop(i),e=!1,r.splice(a,1));!e&&i||at.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=at._data(this),n=i[t+"queue"],a=i[t+"queueHooks"],r=at.timers,o=n?n.length:0;for(i.finish=!0,at.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),at.each(["toggle","show","hide"],function(t,e){var i=at.fn[e];at.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(I(e,!0),t,n,a)}}),at.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){at.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),at.timers=[],at.fx.tick=function(){var t,e=at.timers,i=0;for(pe=at.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||at.fx.stop(),pe=void 0},at.fx.timer=function(t){at.timers.push(t),t()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){fe||(fe=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(fe),fe=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(t,e){return t=at.fx?at.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,a;e=ft.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=ft.createElement("select"),a=i.appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==e.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=a.selected,it.enctype=!!ft.createElement("form").enctype,i.disabled=!0,it.optDisabled=!a.disabled,t=ft.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value}();var be=/\r/g;at.fn.extend({val:function(t){var e,i,n,a=this[0];{if(arguments.length)return n=at.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(a=n?t.call(this,i,at(this).val()):t,null==a?a="":"number"==typeof a?a+="":at.isArray(a)&&(a=at.map(a,function(t){return null==t?"":t+""})),e=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))});if(a)return e=at.valHooks[a.type]||at.valHooks[a.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:(i=a.value,"string"==typeof i?i.replace(be,""):null==i?"":i)}}}),at.extend({valHooks:{option:{get:function(t){var e=at.find.attr(t,"value");return null!=e?e:at.trim(at.text(t))}},select:{get:function(t){for(var e,i,n=t.options,a=t.selectedIndex,r="select-one"===t.type||a<0,o=r?null:[],s=r?a+1:n.length,l=a<0?s:r?a:0;l<s;l++)if(i=n[l],(i.selected||l===a)&&(it.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!at.nodeName(i.parentNode,"optgroup"))){if(e=at(i).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var i,n,a=t.options,r=at.makeArray(e),o=a.length;o--;)if(n=a[o],at.inArray(at.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),a}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(t,e){if(at.isArray(e))return t.checked=at.inArray(at(t).val(),e)>=0}},it.checkOn||(at.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e,Me,we=at.expr.attrHandle,Te=/^(?:checked|selected)$/i,Se=it.getSetAttribute,Ce=it.input;at.fn.extend({attr:function(t,e){return Pt(this,at.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){at.removeAttr(this,t)})}}),at.extend({attr:function(t,e,i){var n,a,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===wt?at.prop(t,e,i):(1===r&&at.isXMLDoc(t)||(e=e.toLowerCase(),n=at.attrHooks[e]||(at.expr.match.bool.test(e)?Me:_e)),void 0===i?n&&"get"in n&&null!==(a=n.get(t,e))?a:(a=at.find.attr(t,e),null==a?void 0:a):null!==i?n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:(t.setAttribute(e,i+""),i):void at.removeAttr(t,e))},removeAttr:function(t,e){var i,n,a=0,r=e&&e.match(yt);if(r&&1===t.nodeType)for(;i=r[a++];)n=at.propFix[i]||i,at.expr.match.bool.test(i)?Ce&&Se||!Te.test(i)?t[n]=!1:t[at.camelCase("default-"+i)]=t[n]=!1:at.attr(t,i,""),t.removeAttribute(Se?i:n)},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&at.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),Me={set:function(t,e,i){return e===!1?at.removeAttr(t,i):Ce&&Se||!Te.test(i)?t.setAttribute(!Se&&at.propFix[i]||i,i):t[at.camelCase("default-"+i)]=t[i]=!0,i}},at.each(at.expr.match.bool.source.match(/\w+/g),function(t,e){var i=we[e]||at.find.attr;we[e]=Ce&&Se||!Te.test(e)?function(t,e,n){var a,r;return n||(r=we[e],we[e]=a,a=null!=i(t,e,n)?e.toLowerCase():null,we[e]=r),a}:function(t,e,i){if(!i)return t[at.camelCase("default-"+e)]?e.toLowerCase():null}}),Ce&&Se||(at.attrHooks.value={set:function(t,e,i){return at.nodeName(t,"input")?void(t.defaultValue=e):_e&&_e.set(t,e,i)}}),Se||(_e={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},we.id=we.name=we.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},at.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:_e.set},at.attrHooks.contenteditable={set:function(t,e,i){_e.set(t,""!==e&&e,i)}},at.each(["width","height"],function(t,e){at.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),it.style||(at.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var ke=/^(?:input|select|textarea|button|object)$/i,Ae=/^(?:a|area)$/i;at.fn.extend({prop:function(t,e){return Pt(this,at.prop,t,e,arguments.length>1)},removeProp:function(t){return t=at.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),at.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,a,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return r=1!==o||!at.isXMLDoc(t),r&&(e=at.propFix[e]||e,a=at.propHooks[e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=at.find.attr(t,"tabindex");return e?parseInt(e,10):ke.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}}}),it.hrefNormalized||at.each(["href","src"],function(t,e){at.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),it.optSelected||(at.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),it.enctype||(at.propFix.enctype="encoding");var Pe=/[\t\r\n\f]/g;at.fn.extend({addClass:function(t){var e,i,n,a,r,o,s=0,l=this.length,h="string"==typeof t&&t;if(at.isFunction(t))return this.each(function(e){at(this).addClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(yt)||[];s<l;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):" ")){for(r=0;a=e[r++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");o=at.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(t){var e,i,n,a,r,o,s=0,l=this.length,h=0===arguments.length||"string"==typeof t&&t;if(at.isFunction(t))return this.each(function(e){at(this).removeClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(yt)||[];s<l;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):"")){for(r=0;a=e[r++];)for(;n.indexOf(" "+a+" ")>=0;)n=n.replace(" "+a+" "," ");o=t?at.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):at.isFunction(t)?this.each(function(i){at(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,a=at(this),r=t.match(yt)||[];e=r[n++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else i!==wt&&"boolean"!==i||(this.className&&at._data(this,"__className__",this.className),this.className=this.className||t===!1?"":at._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pe," ").indexOf(e)>=0)return!0;return!1}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){at.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),at.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Fe=at.now(),De=/\?/,Le=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;at.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,a=at.trim(e+"");return a&&!at.trim(a.replace(Le,function(t,e,a,r){return i&&e&&(n=0),0===n?t:(i=a||e,n+=!r-!a,"")}))?Function("return "+a)():at.error("Invalid JSON: "+e)},at.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+e),i};var Be,Ie,Ee=/#.*$/,ze=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Re=/^\/\//,je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oe={},He={},Xe="*/".concat("*");try{Ie=location.href}catch(t){Ie=ft.createElement("a"),Ie.href="",Ie=Ie.href}Be=je.exec(Ie.toLowerCase())||[],at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie,type:"GET",isLocal:Ne.test(Be[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,at.ajaxSettings),e):j(at.ajaxSettings,t)},ajaxPrefilter:V(Oe),ajaxTransport:V(He),ajax:function(t,e){function i(t,e,i,n){var a,u,x,v,b,M=e;2!==y&&(y=2,s&&clearTimeout(s),h=void 0,o=n||"",_.readyState=t>0?4:0,a=t>=200&&t<300||304===t,i&&(v=O(c,_,i)),v=H(c,v,_,a),a?(c.ifModified&&(b=_.getResponseHeader("Last-Modified"),b&&(at.lastModified[r]=b),b=_.getResponseHeader("etag"),b&&(at.etag[r]=b)),204===t||"HEAD"===c.type?M="nocontent":304===t?M="notmodified":(M=v.state,u=v.data,x=v.error,a=!x)):(x=M,!t&&M||(M="error",t<0&&(t=0))),_.status=t,_.statusText=(e||M)+"",a?f.resolveWith(d,[u,M,_]):f.rejectWith(d,[_,M,x]),_.statusCode(m),m=void 0,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[_,c,a?u:x]),g.fireWith(d,[_,M]),l&&(p.trigger("ajaxComplete",[_,c]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,a,r,o,s,l,h,u,c=at.ajaxSetup({},e),d=c.context||c,p=c.context&&(d.nodeType||d.jquery)?at(d):at.event,f=at.Deferred(),g=at.Callbacks("once memory"),m=c.statusCode||{},x={},v={},y=0,b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!u)for(u={};e=We.exec(o);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=v[i]=v[i]||t,x[t]=e),this},overrideMimeType:function(t){return y||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(y<2)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||b;return h&&h.abort(e),i(0,e),this}};if(f.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,c.url=((t||c.url||Ie)+"").replace(Ee,"").replace(Re,Be[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=at.trim(c.dataType||"*").toLowerCase().match(yt)||[""],null==c.crossDomain&&(n=je.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===Be[1]&&n[2]===Be[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Be[3]||("http:"===Be[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=at.param(c.data,c.traditional)),R(Oe,c,e,_),2===y)return _;l=c.global,l&&0===at.active++&&at.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Ve.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(De.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=ze.test(r)?r.replace(ze,"$1_="+Fe++):r+(De.test(r)?"&":"?")+"_="+Fe++)),c.ifModified&&(at.lastModified[r]&&_.setRequestHeader("If-Modified-Since",at.lastModified[r]),at.etag[r]&&_.setRequestHeader("If-None-Match",at.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",c.contentType),_.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Xe+"; q=0.01":""):c.accepts["*"]);for(a in c.headers)_.setRequestHeader(a,c.headers[a]);if(c.beforeSend&&(c.beforeSend.call(d,_,c)===!1||2===y))return _.abort();b="abort";for(a in{success:1,error:1,complete:1})_[a](c[a]);if(h=R(He,c,e,_)){_.readyState=1,l&&p.trigger("ajaxSend",[_,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},c.timeout));try{y=1,h.send(x,i)}catch(t){if(!(y<2))throw t;i(-1,t)}}else i(-1,"No Transport");return _},getJSON:function(t,e,i){return at.get(t,e,i,"json")},getScript:function(t,e){return at.get(t,void 0,e,"script")}}),at.each(["get","post"],function(t,e){at[e]=function(t,i,n,a){return at.isFunction(i)&&(a=a||n,n=i,i=void 0),at.ajax({url:t,type:e,dataType:a,data:i,success:n})}}),at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){at.fn[e]=function(t){return this.on(e,t)}}),at._evalUrl=function(t){return at.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},at.fn.extend({wrapAll:function(t){if(at.isFunction(t))return this.each(function(e){at(this).wrapAll(t.call(this,e))});if(this[0]){var e=at(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return at.isFunction(t)?this.each(function(e){at(this).wrapInner(t.call(this,e))}):this.each(function(){var e=at(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=at.isFunction(t);return this.each(function(i){at(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||at.css(t,"display"))},at.expr.filters.visible=function(t){return!at.expr.filters.hidden(t)};var Ye=/%20/g,qe=/\[\]$/,Ue=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Ge=/^(?:input|select|textarea|keygen)/i;at.param=function(t,e){var i,n=[],a=function(t,e){e=at.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(t)||t.jquery&&!at.isPlainObject(t))at.each(t,function(){a(this.name,this.value)});else for(i in t)X(i,t[i],e,a);return n.join("&").replace(Ye,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=at.prop(this,"elements");return t?at.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!at(this).is(":disabled")&&Ge.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Ft.test(t))}).map(function(t,e){var i=at(this).val();return null==i?null:at.isArray(i)?at.map(i,function(t){return{name:e.name,value:t.replace(Ue,"\r\n")}}):{name:e.name,value:i.replace(Ue,"\r\n")}}).get()}}),at.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||q()}:Y;var Je=0,Ke={},Ze=at.ajaxSettings.xhr();t.ActiveXObject&&at(t).on("unload",function(){for(var t in Ke)Ke[t](void 0,!0)}),it.cors=!!Ze&&"withCredentials"in Ze,Ze=it.ajax=!!Ze,Ze&&at.ajaxTransport(function(t){if(!t.crossDomain||it.cors){var e;return{send:function(i,n){var a,r=t.xhr(),o=++Je;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)r[a]=t.xhrFields[a];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)void 0!==i[a]&&r.setRequestHeader(a,i[a]+"");r.send(t.hasContent&&t.data||null),e=function(i,a){var s,l,h;if(e&&(a||4===r.readyState))if(delete Ke[o],e=void 0,r.onreadystatechange=at.noop,a)4!==r.readyState&&r.abort();else{h={},s=r.status,"string"==typeof r.responseText&&(h.text=r.responseText);try{l=r.statusText}catch(t){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=h.text?200:404}h&&n(s,l,h,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Ke[o]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return at.globalEval(t),t}}}),at.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),at.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=ft.head||at("head")[0]||ft.documentElement;return{send:function(n,a){e=ft.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||a(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Qe=[],ti=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||at.expando+"_"+Fe++;return this[t]=!0,t}}),at.ajaxPrefilter("json jsonp",function(e,i,n){var a,r,o,s=e.jsonp!==!1&&(ti.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=at.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ti,"$1"+a):e.jsonp!==!1&&(e.url+=(De.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return o||at.error(a+" was not called"),o[0]},e.dataTypes[0]="json",r=t[a],t[a]=function(){o=arguments},n.always(function(){t[a]=r,e[a]&&(e.jsonpCallback=i.jsonpCallback,Qe.push(a)),o&&at.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),at.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||ft;var n=ct.exec(t),a=!i&&[];return n?[e.createElement(n[1])]:(n=at.buildFragment([t],e,a),a&&a.length&&at(a).remove(),at.merge([],n.childNodes))};var ei=at.fn.load;at.fn.load=function(t,e,i){if("string"!=typeof t&&ei)return ei.apply(this,arguments);var n,a,r,o=this,s=t.indexOf(" ");return s>=0&&(n=at.trim(t.slice(s,t.length)),
t=t.slice(0,s)),at.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&at.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){a=arguments,o.html(n?at("<div>").append(at.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){o.each(i,a||[t.responseText,e,t])}),this},at.expr.filters.animated=function(t){return at.grep(at.timers,function(e){return t===e.elem}).length};var ii=t.document.documentElement;at.offset={setOffset:function(t,e,i){var n,a,r,o,s,l,h,u=at.css(t,"position"),c=at(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),r=at.css(t,"top"),l=at.css(t,"left"),h=("absolute"===u||"fixed"===u)&&at.inArray("auto",[r,l])>-1,h?(n=c.position(),o=n.top,a=n.left):(o=parseFloat(r)||0,a=parseFloat(l)||0),at.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+a),"using"in e?e.using.call(t,d):c.css(d)}},at.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){at.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},a=this[0],r=a&&a.ownerDocument;if(r)return e=r.documentElement,at.contains(e,a)?(typeof a.getBoundingClientRect!==wt&&(n=a.getBoundingClientRect()),i=U(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===at.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),at.nodeName(t[0],"html")||(i=t.offset()),i.top+=at.css(t[0],"borderTopWidth",!0),i.left+=at.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-at.css(n,"marginTop",!0),left:e.left-i.left-at.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ii;t&&!at.nodeName(t,"html")&&"static"===at.css(t,"position");)t=t.offsetParent;return t||ii})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);at.fn[t]=function(n){return Pt(this,function(t,n,a){var r=U(t);return void 0===a?r?e in r?r[e]:r.document.documentElement[n]:t[n]:void(r?r.scrollTo(i?at(r).scrollLeft():a,i?a:at(r).scrollTop()):t[n]=a)},t,n,arguments.length,null)}}),at.each(["top","left"],function(t,e){at.cssHooks[e]=C(it.pixelPosition,function(t,i){if(i)return i=ee(t,e),ne.test(i)?at(t).position()[e]+"px":i})}),at.each({Height:"height",Width:"width"},function(t,e){at.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){at.fn[n]=function(n,a){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||a===!0?"margin":"border");return Pt(this,function(e,i,n){var a;return at.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===n?at.css(e,i,o):at.style(e,i,n,o)},e,r?n:void 0,r,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var ni=t.jQuery,ai=t.$;return at.noConflict=function(e){return t.$===at&&(t.$=ai),e&&t.jQuery===at&&(t.jQuery=ni),at},typeof e===wt&&(t.jQuery=t.$=at),at}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var a=t.Event(i);return e.trigger(a,n),a.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},handleRemote:function(n){var a,r,o,s,l,h;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){a=n.attr("method"),r=n.attr("action"),o=n.serializeArray();var u=n.data("ujs:submit-button");u&&(o.push(u),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(a=n.data("method"),r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(a=n.data("method")||"get",r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(a=n.data("method"),r=i.href(n),o=n.data("params")||null);return h={type:a||"GET",data:o,dataType:l,beforeSend:function(t,a){return a.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),!!i.fire(n,"ajax:beforeSend",[t,a])&&void n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},s&&(h.xhrFields={withCredentials:s}),r&&(h.url=r),i.ajax(h)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var a=i.href(n),r=n.data("method"),o=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),h=t('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||i.isCrossDomain(a)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&h.attr("target",o),h.hide().append(u).appendTo("body"),h.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),a=!1;return!n||(i.fire(t,"confirm")&&(a=i.confirm(n),e=i.fire(t,"confirm:complete",[a])),a&&e)},blankInputs:function(e,i,n){var a,r,o=t(),s=i||"input,textarea",l=e.find(s);return l.each(function(){if(a=t(this),r=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!r==!n){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;o=o.add(a)}}),!!o.length&&o},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var a=t(this),r=a.data("method"),o=a.data("params"),s=n.metaKey||n.ctrlKey;if(!i.allowAction(a))return i.stopEverything(n);if(!s&&a.is(i.linkDisableSelector)&&i.disableElement(a),a.data("remote")!==e){if(s&&(!r||"GET"===r)&&!o)return!0;var l=i.handleRemote(a);return l===!1?i.enableElement(a):l.error(function(){i.enableElement(a)}),!1}return a.data("method")?(i.handleMethod(a),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var a=i.handleRemote(n);return a===!1?i.enableFormElement(n):a.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var a,r,o=t(this),s=o.data("remote")!==e;if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")==e&&(a=i.blankInputs(o,i.requiredInputSelector),a&&i.fire(o,"ajax:aborted:required",[a])))return i.stopEverything(n);if(s){if(r=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var a=n.attr("name"),r=a?{name:a,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";function a(e){var i,n,r="a aa ai ao as b fn i m o s ",o={};t.each(e,function(t){i=t.match(/^([^A-Z]+?)([A-Z])/),i&&r.indexOf(i[1]+" ")!==-1&&(n=t.replace(i[0],i[2].toLowerCase()),o[n]=t,"o"===i[1]&&a(e[t]))}),e._hungarianMap=o}function r(e,i,o){e._hungarianMap||a(e);var s;t.each(i,function(a){s=e._hungarianMap[a],s===n||!o&&i[s]!==n||("o"===s.charAt(0)?(i[s]||(i[s]={}),t.extend(!0,i[s],i[a]),r(e[s],i[s],o)):i[s]=i[a])})}function o(t){var e=qt.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Et(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Et(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Xt(n)}function s(t){me(t,"ordering","bSort"),me(t,"orderMulti","bSortMulti"),me(t,"orderClasses","bSortClasses"),me(t,"orderCellsTop","bSortCellsTop"),me(t,"order","aaSorting"),me(t,"orderFixed","aaSortingFixed"),me(t,"paging","bPaginate"),me(t,"pagingType","sPaginationType"),me(t,"pageLength","iDisplayLength"),me(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&r(qt.models.oSearch,e[i])}function l(e){me(e,"orderable","bSortable"),me(e,"orderData","aDataSort"),me(e,"orderSequence","asSorting"),me(e,"orderDataType","sortDataType");var i=e.aDataSort;i&&!t.isArray(i)&&(e.aDataSort=[i])}function h(e){if(!qt.__browser){var i={};qt.__browser=i;var n=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),a=n.children(),r=a.children();i.barWidth=a[0].offsetWidth-a[0].clientWidth,i.bScrollOversize=100===r[0].offsetWidth&&100!==a[0].clientWidth,i.bScrollbarLeft=1!==Math.round(r.offset().left),i.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}t.extend(e.oBrowser,qt.__browser),e.oScroll.iBarWidth=qt.__browser.barWidth}function u(t,e,i,a,r,o){var s,l=a,h=!1;for(i!==n&&(s=i,h=!0);l!==r;)t.hasOwnProperty(l)&&(s=h?e(s,t[l],l,t):t[l],h=!0,l+=o);return s}function c(e,n){var a=qt.defaults.column,r=e.aoColumns.length,o=t.extend({},qt.models.oColumn,a,{nTh:n?n:i.createElement("th"),sTitle:a.sTitle?a.sTitle:n?n.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[r],mData:a.mData?a.mData:r,idx:r});e.aoColumns.push(o);var s=e.aoPreSearchCols;s[r]=t.extend({},qt.models.oSearch,s[r]),d(e,r,t(n).data())}function d(e,i,a){var o=e.aoColumns[i],s=e.oClasses,h=t(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=h.attr("width")||null;var u=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(o.sWidthOrig=u[1])}a!==n&&null!==a&&(l(a),r(qt.defaults.column,a),a.mDataProp===n||a.mData||(a.mData=a.mDataProp),a.sType&&(o._sManualType=a.sType),a.className&&!a.sClass&&(a.sClass=a.className),t.extend(o,a),Et(o,a,"sWidth","sWidthOrig"),a.iDataSort!==n&&(o.aDataSort=[a.iDataSort]),Et(o,a,"aDataSort"));var c=o.mData,d=k(c),p=o.mRender?k(o.mRender):null,f=function(t){return"string"==typeof t&&t.indexOf("@")!==-1};o._bAttrSrc=t.isPlainObject(c)&&(f(c.sort)||f(c.type)||f(c.filter)),o.fnGetData=function(t,e,i){var a=d(t,e,n,i);return p&&e?p(a,e,t,i):a},o.fnSetData=function(t,e,i){return A(c)(t,e,i)},"number"!=typeof c&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,h.addClass(s.sSortableNone));var g=t.inArray("asc",o.asSorting)!==-1,m=t.inArray("desc",o.asSorting)!==-1;o.bSortable&&(g||m)?g&&!m?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&m?(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortable,o.sSortingClassJUI=s.sSortJUI):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function p(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;vt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var a=t.oScroll;""===a.sY&&""===a.sX||mt(t),Vt(t,null,"column-sizing",[t])}function f(t,e){var i=x(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function g(e,i){var n=x(e,"bVisible"),a=t.inArray(i,n);return a!==-1?a:null}function m(t){return x(t,"bVisible").length}function x(e,i){var n=[];return t.map(e.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function v(t){var e,i,a,r,o,s,l,h,u,c=t.aoColumns,d=t.aoData,p=qt.ext.type.detect;for(e=0,i=c.length;e<i;e++)if(l=c[e],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,r=p.length;a<r;a++){for(o=0,s=d.length;o<s&&(u[o]===n&&(u[o]=T(t,o,e,"type")),h=p[a](u[o],t),h||a===p.length-1)&&"html"!==h;o++);if(h){l.sType=h;break}}l.sType||(l.sType="string")}}function y(e,i,a,r){var o,s,l,h,u,d,p,f=e.aoColumns;if(i)for(o=i.length-1;o>=0;o--){p=i[o];var g=p.targets!==n?p.targets:p.aTargets;for(t.isArray(g)||(g=[g]),l=0,h=g.length;l<h;l++)if("number"==typeof g[l]&&g[l]>=0){for(;f.length<=g[l];)c(e);r(g[l],p)}else if("number"==typeof g[l]&&g[l]<0)r(f.length+g[l],p);else if("string"==typeof g[l])for(u=0,d=f.length;u<d;u++)("_all"==g[l]||t(f[u].nTh).hasClass(g[l]))&&r(u,p)}if(a)for(o=0,s=a.length;o<s;o++)r(o,a[o])}function b(e,i,a,r){var o=e.aoData.length,s=t.extend(!0,{},qt.models.oRow,{src:a?"dom":"data",idx:o});s._aData=i,e.aoData.push(s);for(var l=e.aoColumns,h=0,u=l.length;h<u;h++)l[h].sType=null;e.aiDisplayMaster.push(o);var c=e.rowIdFn(i);return c!==n&&(e.aIds[c]=s),!a&&e.oFeatures.bDeferRender||I(e,o,a,r),o}function _(e,i){var n;return i instanceof t||(i=t(i)),i.map(function(t,i){return n=B(e,i),b(e,n.data,i,n.cells)})}function M(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function w(e,i,n){return t.inArray(n,e.aoData[i].anCells)}function T(t,e,i,a){var r=t.iDraw,o=t.aoColumns[i],s=t.aoData[e]._aData,l=o.sDefaultContent,h=o.fnGetData(s,a,{settings:t,row:e,col:i});if(h===n)return t.iDrawError!=r&&null===l&&(It(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),l;if(h!==s&&null!==h||null===l){if("function"==typeof h)return h.call(s)}else h=l;return null===h&&"display"==a?"":h}function S(t,e,i,n){var a=t.aoColumns[i],r=t.aoData[e]._aData;a.fnSetData(r,n,{settings:t,row:e,col:i})}function C(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function k(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=k(e))}),function(t,e,a,r){var o=i[e]||i._;return o!==n?o(t,e,a,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,a){return e(t,i,n,a)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t){return t[e]};var a=function(e,i,r){var o,s,l,h;if(""!==r)for(var u=C(r),c=0,d=u.length;c<d;c++){if(o=u[c].match(xe),s=u[c].match(ve),o){if(u[c]=u[c].replace(xe,""),""!==u[c]&&(e=e[u[c]]),l=[],u.splice(0,c+1),h=u.join("."),t.isArray(e))for(var p=0,f=e.length;p<f;p++)l.push(a(e[p],i,h));var g=o[0].substring(1,o[0].length-1);e=""===g?l:l.join(g);break}if(s)u[c]=u[c].replace(ve,""),e=e[u[c]]();else{if(null===e||e[u[c]]===n)return n;e=e[u[c]]}}return e};return function(t,i){return a(t,i,e)}}function A(e){if(t.isPlainObject(e))return A(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,i){t[e]=i};var i=function(e,a,r){for(var o,s,l,h,u,c=C(r),d=c[c.length-1],p=0,f=c.length-1;p<f;p++){if(s=c[p].match(xe),l=c[p].match(ve),s){if(c[p]=c[p].replace(xe,""),e[c[p]]=[],o=c.slice(),o.splice(0,p+1),u=o.join("."),t.isArray(a))for(var g=0,m=a.length;g<m;g++)h={},i(h,a[g],u),e[c[p]].push(h);else e[c[p]]=a;return}l&&(c[p]=c[p].replace(ve,""),e=e[c[p]](a)),null!==e[c[p]]&&e[c[p]]!==n||(e[c[p]]={}),e=e[c[p]]}d.match(ve)?e=e[d.replace(ve,"")](a):e[d.replace(xe,"")]=a};return function(t,n){return i(t,n,e)}}function P(t){return ue(t.aoData,"_aData")}function F(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function D(t,e,i){for(var a=-1,r=0,o=t.length;r<o;r++)t[r]==e?a=r:t[r]>e&&t[r]--;a!=-1&&i===n&&t.splice(a,1)}function L(t,e,i,a){var r,o,s=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=T(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var h=s.anCells;if(h)if(a!==n)l(h[a],a);else for(r=0,o=h.length;r<o;r++)l(h[r],r)}else s._aData=B(t,s,a,a===n?n:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=t.aoColumns;if(a!==n)u[a].sType=null;else{for(r=0,o=u.length;r<o;r++)u[r].sType=null;E(t,s)}}function B(e,i,a,r){var o,s,l,h=[],u=i.firstChild,c=0,d=e.aoColumns,p=e._rowReadObject;r=r!==n?r:p?{}:[];var f=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(i!==-1){var n=t.substring(i+1),a=A(t);a(r,e.getAttribute(n))}}},g=function(e){if(a===n||a===c)if(s=d[c],l=t.trim(e.innerHTML),s&&s._bAttrSrc){var i=A(s.mData._);i(r,l),f(s.mData.sort,e),f(s.mData.type,e),f(s.mData.filter,e)}else p?(s._setter||(s._setter=A(s.mData)),s._setter(r,l)):r[c]=l;c++};if(u)for(;u;)o=u.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(g(u),h.push(u)),u=u.nextSibling;else{h=i.anCells;for(var m=0,x=h.length;m<x;m++)g(h[m])}var v=i.firstChild?i:i.nTr;if(v){var y=v.getAttribute("id");y&&A(e.rowId)(r,y)}return{data:r,cells:h}}function I(t,e,n,a){var r,o,s,l,h,u=t.aoData[e],c=u._aData,d=[];if(null===u.nTr){for(r=n||i.createElement("tr"),u.nTr=r,u.anCells=d,r._DT_RowIndex=e,E(t,u),l=0,h=t.aoColumns.length;l<h;l++)s=t.aoColumns[l],o=n?a[l]:i.createElement(s.sCellType),o._DT_CellIndex={row:e,column:l},d.push(o),n&&!s.mRender&&s.mData===l||(o.innerHTML=T(t,e,l,"display")),s.sClass&&(o.className+=" "+s.sClass),s.bVisible&&!n?r.appendChild(o):!s.bVisible&&n&&o.parentNode.removeChild(o),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,o,T(t,e,l),c,e,l);Vt(t,"aoRowCreatedCallback",null,[r,c,e])}u.nTr.setAttribute("role","row")}function E(e,i){var n=i.nTr,a=i._aData;if(n){var r=e.rowIdFn(a);if(r&&(n.id=r),a.DT_RowClass){var o=a.DT_RowClass.split(" ");i.__rowc=i.__rowc?ge(i.__rowc.concat(o)):o,t(n).removeClass(i.__rowc.join(" ")).addClass(a.DT_RowClass)}a.DT_RowAttr&&t(n).attr(a.DT_RowAttr),a.DT_RowData&&t(n).data(a.DT_RowData)}}function z(e){var i,n,a,r,o,s=e.nTHead,l=e.nTFoot,h=0===t("th, td",s).length,u=e.oClasses,c=e.aoColumns;for(h&&(r=t("<tr/>").appendTo(s)),i=0,n=c.length;i<n;i++)o=c[i],a=t(o.nTh).addClass(o.sClass),h&&a.appendTo(r),e.oFeatures.bSort&&(a.addClass(o.sSortingClass),o.bSortable!==!1&&(a.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),At(e,o.nTh,i))),o.sTitle!=a[0].innerHTML&&a.html(o.sTitle),jt(e,"header")(e,a,o,u);if(h&&j(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var d=e.aoFooter[0];for(i=0,n=d.length;i<n;i++)o=c[i],o.nTf=d[i].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}}function W(e,i,a){var r,o,s,l,h,u,c,d,p,f=[],g=[],m=e.aoColumns.length;if(i){for(a===n&&(a=!1),r=0,o=i.length;r<o;r++){for(f[r]=i[r].slice(),f[r].nTr=i[r].nTr,s=m-1;s>=0;s--)e.aoColumns[s].bVisible||a||f[r].splice(s,1);g.push([])}for(r=0,o=f.length;r<o;r++){if(c=f[r].nTr)for(;u=c.firstChild;)c.removeChild(u);for(s=0,l=f[r].length;s<l;s++)if(d=1,p=1,g[r][s]===n){for(c.appendChild(f[r][s].cell),g[r][s]=1;f[r+d]!==n&&f[r][s].cell==f[r+d][s].cell;)g[r+d][s]=1,d++;for(;f[r][s+p]!==n&&f[r][s].cell==f[r][s+p].cell;){for(h=0;h<d;h++)g[r+h][s+p]=1;p++}t(f[r][s].cell).attr("rowspan",d).attr("colspan",p)}}}}function N(e){var i=Vt(e,"aoPreDrawCallback","preDraw",[e]);if(t.inArray(!1,i)!==-1)return void ft(e,!1);var a=[],r=0,o=e.asStripeClasses,s=o.length,l=(e.aoOpenRows.length,e.oLanguage),h=e.iInitDisplayStart,u="ssp"==Ot(e),c=e.aiDisplay;e.bDrawing=!0,h!==n&&h!==-1&&(e._iDisplayStart=u?h:h>=e.fnRecordsDisplay()?0:h,e.iInitDisplayStart=-1);var d=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(u){if(!e.bDestroying&&!X(e))return}else e.iDraw++;if(0!==c.length)for(var f=u?0:d,g=u?e.aoData.length:p,x=f;x<g;x++){var v=c[x],y=e.aoData[v];null===y.nTr&&I(e,v);var b=y.nTr;if(0!==s){var _=o[r%s];y._sRowStripe!=_&&(t(b).removeClass(y._sRowStripe).addClass(_),y._sRowStripe=_)}Vt(e,"aoRowCallback",null,[b,y._aData,r,x]),a.push(b),r++}else{var M=l.sZeroRecords;1==e.iDraw&&"ajax"==Ot(e)?M=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(M=l.sEmptyTable),a[0]=t("<tr/>",{"class":s?o[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(M))[0]}Vt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],P(e),d,p,c]),Vt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],P(e),d,p,c]);var w=t(e.nTBody);w.children().detach(),w.append(t(a)),Vt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function V(t,e){var i=t.oFeatures,n=i.bSort,a=i.bFilter;n&&St(t),a?G(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,N(t),t._drawHold=!1}function R(e){var i=e.oClasses,n=t(e.nTable),a=t("<div/>").insertBefore(n),r=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper","class":i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=a[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,h,u,c,d,p=e.sDom.split(""),f=0;f<p.length;f++){if(s=null,l=p[f],"<"==l){if(h=t("<div/>")[0],u=p[f+1],"'"==u||'"'==u){for(c="",d=2;p[f+d]!=u;)c+=p[f+d],d++;if("H"==c?c=i.sJUIHeader:"F"==c&&(c=i.sJUIFooter),c.indexOf(".")!=-1){var g=c.split(".");h.id=g[0].substr(1,g[0].length-1),h.className=g[1]}else"#"==c.charAt(0)?h.id=c.substr(1,c.length-1):h.className=c;f+=d}o.append(h),o=t(h)}else if(">"==l)o=o.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)s=ut(e);else if("f"==l&&r.bFilter)s=$(e);else if("r"==l&&r.bProcessing)s=pt(e);else if("t"==l)s=gt(e);else if("i"==l&&r.bInfo)s=at(e);else if("p"==l&&r.bPaginate)s=ct(e);else if(0!==qt.ext.feature.length)for(var m=qt.ext.feature,x=0,v=m.length;x<v;x++)if(l==m[x].cFeature){s=m[x].fnInit(e);break}if(s){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(s),o.append(s)}}a.replaceWith(o),e.nHolding=null}function j(e,i){var n,a,r,o,s,l,h,u,c,d,p,f=t(i).children("tr"),g=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(n=f[r],u=0,a=n.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(c=1*a.getAttribute("colspan"),d=1*a.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,d=d&&0!==d&&1!==d?d:1,h=g(e,r,u),p=1===c,s=0;s<c;s++)for(o=0;o<d;o++)e[r+o][h+s]={cell:a,unique:p},e[r+o].nTr=n;a=a.nextSibling}}function O(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],j(i,e)));for(var a=0,r=i.length;a<r;a++)for(var o=0,s=i[a].length;o<s;o++)!i[a][o].unique||n[o]&&t.bSortCellsTop||(n[o]=i[a][o].cell);return n}function H(e,i,n){if(Vt(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var a={},r=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(r);if(i){var n=i[0];a[n]||(a[n]=[]),a[n].push(e.value)}else a[e.name]=e.value}),i=a}var o,s=e.ajax,l=e.oInstance,h=function(t){Vt(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(s)&&s.data){o=s.data;var u=t.isFunction(o)?o(i,e):o;i=t.isFunction(o)&&u?u:t.extend(!0,i,u),delete s.data}var c={data:i,success:function(t){var i=t.error||t.sError;i&&It(e,0,i),e.json=t,h(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n){var a=Vt(e,null,"xhr",[e,null,e.jqXHR]);t.inArray(!0,a)===-1&&("parsererror"==n?It(e,0,"Invalid JSON response",1):4===i.readyState&&It(e,0,"Ajax error",7)),ft(e,!1)}};e.oAjaxData=i,Vt(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),h,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(c,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(l,i,h,e):(e.jqXHR=t.ajax(t.extend(c,s)),s.data=o)}function X(t){return!t.bAjaxDataGet||(t.iDraw++,ft(t,!0),H(t,Y(t),function(e){q(t,e)}),!1)}function Y(e){var i,n,a,r,o=e.aoColumns,s=o.length,l=e.oFeatures,h=e.oPreviousSearch,u=e.aoPreSearchCols,c=[],d=Tt(e),p=e._iDisplayStart,f=l.bPaginate!==!1?e._iDisplayLength:-1,g=function(t,e){c.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",ue(o,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",f);var m={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;i<s;i++)a=o[i],r=u[i],n="function"==typeof a.mData?"function":a.mData,m.columns.push({data:n,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+i,n),l.bFilter&&(g("sSearch_"+i,r.sSearch),g("bRegex_"+i,r.bRegex),g("bSearchable_"+i,a.bSearchable)),l.bSort&&g("bSortable_"+i,a.bSortable);l.bFilter&&(g("sSearch",h.sSearch),g("bRegex",h.bRegex)),l.bSort&&(t.each(d,function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",d.length));var x=qt.ext.legacy.ajax;return null===x?e.sAjaxSource?c:m:x?c:m}function q(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},a=U(t,e),r=i("sEcho","draw"),o=i("iTotalRecords","recordsTotal"),s=i("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}F(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,h=a.length;l<h;l++)b(t,a[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,N(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function U(e,i){var a=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===a?i.aaData||i[a]:""!==a?k(a)(i):i}function $(e){var n=e.oClasses,a=e.sTableId,r=e.oLanguage,o=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',h=r.sSearch;h=h.match(/_INPUT_/)?h.replace("_INPUT_",l):h+l;var u=t("<div/>",{id:s.f?null:a+"_filter","class":n.sFilter}).append(t("<label/>").append(h)),c=function(){var t=(s.f,this.value?this.value:"");t!=o.sSearch&&(G(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,N(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===Ot(e)?400:0,p=t("input",u).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",d?yt(c,d):c).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",a);return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(o.sSearch)}catch(t){}}),u[0]}function G(t,e,i){var a=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){a.sSearch=t.sSearch,a.bRegex=t.bRegex,a.bSmart=t.bSmart,a.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(v(t),"ssp"!=Ot(t)){Z(t,e.sSearch,i,s(e),e.bSmart,e.bCaseInsensitive),o(e);for(var l=0;l<r.length;l++)K(t,r[l].sSearch,l,s(r[l]),r[l].bSmart,r[l].bCaseInsensitive);J(t)}else o(e);t.bFiltered=!0,Vt(t,null,"search",[t])}function J(e){for(var i,n,a=qt.ext.search,r=e.aiDisplay,o=0,s=a.length;o<s;o++){for(var l=[],h=0,u=r.length;h<u;h++)n=r[h],i=e.aoData[n],a[o](e,i._aFilterData,n,i._aData,h)&&l.push(n);r.length=0,t.merge(r,l)}}function K(t,e,i,n,a,r){if(""!==e)for(var o,s=t.aiDisplay,l=Q(e,n,a,r),h=s.length-1;h>=0;h--)o=t.aoData[s[h]]._aFilterData[i],l.test(o)||s.splice(h,1)}function Z(t,e,i,n,a,r){var o,s,l,h=Q(e,n,a,r),u=t.oPreviousSearch.sSearch,c=t.aiDisplayMaster;if(0!==qt.ext.search.length&&(i=!0),s=et(t),e.length<=0)t.aiDisplay=c.slice();else for((s||i||u.length>e.length||0!==e.indexOf(u)||t.bSorted)&&(t.aiDisplay=c.slice()),o=t.aiDisplay,l=o.length-1;l>=0;l--)h.test(t.aoData[o[l]]._sFilterRow)||o.splice(l,1)}function Q(e,i,n,a){if(e=i?e:tt(e),n){var r=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(e,a?"i":"")}function tt(t){return t.replace(ie,"\\$1")}function et(t){var e,i,n,a,r,o,s,l,h=t.aoColumns,u=qt.ext.type.search,c=!1;for(i=0,a=t.aoData.length;i<a;i++)if(l=t.aoData[i],!l._aFilterData){for(o=[],n=0,r=h.length;n<r;n++)e=h[n],e.bSearchable?(s=T(t,i,n,"filter"),u[e.sType]&&(s=u[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&s.indexOf("&")!==-1&&(ye.innerHTML=s,s=be?ye.textContent:ye.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join("  "),c=!0}return c}function it(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function nt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function at(e){var i=e.sTableId,n=e.aanFeatures.i,a=t("<div/>",{"class":e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:rt,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),a[0]}function rt(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,a=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?n.sInfo:n.sInfoEmpty;s!==o&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=ot(e,l);var h=n.fnInfoCallback;null!==h&&(l=h.call(e.oInstance,e,a,r,o,s,l)),t(i).html(l)}}function ot(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,a=t._iDisplayLength,r=t.fnRecordsDisplay(),o=a===-1;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,r)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(r/a)));
}function st(t){var e,i,n,a=t.iInitDisplayStart,r=t.aoColumns,o=t.oFeatures,s=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){st(t)},200);for(R(t),z(t),W(t,t.aoHeader),W(t,t.aoFooter),ft(t,!0),o.bAutoWidth&&vt(t),e=0,i=r.length;e<i;e++)n=r[e],n.sWidth&&(n.nTh.style.width=wt(n.sWidth));Vt(t,null,"preInit",[t]),V(t);var l=Ot(t);("ssp"!=l||s)&&("ajax"==l?H(t,[],function(i){var n=U(t,i);for(e=0;e<n.length;e++)b(t,n[e]);t.iInitDisplayStart=a,V(t),ft(t,!1),lt(t,i)},t):(ft(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Vt(t,null,"plugin-init",[t,e]),Vt(t,"aoInitComplete","init",[t,e])}function ht(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Rt(t),Vt(t,null,"length",[t,i])}function ut(e){for(var i=e.oClasses,n=e.sTableId,a=e.aLengthMenu,r=t.isArray(a[0]),o=r?a[0]:a,s=r?a[1]:a,l=t("<select/>",{name:n+"_length","aria-controls":n,"class":i.sLengthSelect}),h=0,u=o.length;h<u;h++)l[0][h]=new Option(s[h],o[h]);var c=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",c).val(e._iDisplayLength).bind("change.DT",function(){ht(e,t(this).val()),N(e)}),t(e.nTable).bind("length.dt.DT",function(i,n,a){e===n&&t("select",c).val(a)}),c[0]}function ct(e){var i=e.sPaginationType,n=qt.ext.pager[i],a="function"==typeof n,r=function(t){N(t)},o=t("<div/>").addClass(e.oClasses.sPaging+i)[0],s=e.aanFeatures;return a||n.fnInit(e,o,r),s.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(a){var e,i,o=t._iDisplayStart,l=t._iDisplayLength,h=t.fnRecordsDisplay(),u=l===-1,c=u?0:Math.ceil(o/l),d=u?1:Math.ceil(h/l),p=n(c,d);for(e=0,i=s.p.length;e<i;e++)jt(t,"pageButton")(t,s.p[e],e,p,c,d)}else n.fnUpdate(t,r)},sName:"pagination"})),o}function dt(t,e,i){var n=t._iDisplayStart,a=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||a===-1?n=0:"number"==typeof e?(n=e*a,n>r&&(n=0)):"first"==e?n=0:"previous"==e?(n=a>=0?n-a:0,n<0&&(n=0)):"next"==e?n+a<r&&(n+=a):"last"==e?n=Math.floor((r-1)/a)*a:It(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==n;return t._iDisplayStart=n,o&&(Vt(t,null,"page",[t]),i&&N(t)),o}function pt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),Vt(e,null,"processing",[e,i])}function gt(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var a=n.sX,r=n.sY,o=e.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,h=t(i[0].cloneNode(!1)),u=t(i[0].cloneNode(!1)),c=i.children("tfoot"),d="<div/>",p=function(t){return t?wt(t):null};c.length||(c=null);var f=t(d,{"class":o.sScrollWrapper}).append(t(d,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:a?p(a):"100%"}).append(t(d,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(h.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(t(d,{"class":o.sScrollBody}).css({position:"relative",overflow:"auto",width:p(a)}).append(i));c&&f.append(t(d,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:a?p(a):"100%"}).append(t(d,{"class":o.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var g=f.children(),m=g[0],x=g[1],v=c?g[2]:null;return a&&t(x).on("scroll.DT",function(){var t=this.scrollLeft;m.scrollLeft=t,c&&(v.scrollLeft=t)}),t(x).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=m,e.nScrollBody=x,e.nScrollFoot=v,e.aoDrawCallback.push({fn:mt,sName:"scrolling"}),f[0]}function mt(e){var i,a,r,o,s,l,h,u,c,d=e.oScroll,g=d.sX,m=d.sXInner,x=d.sY,v=d.iBarWidth,y=t(e.nScrollHead),b=y[0].style,_=y.children("div"),M=_[0].style,w=_.children("table"),T=e.nScrollBody,S=t(T),C=T.style,k=t(e.nScrollFoot),A=k.children("div"),P=A.children("table"),F=t(e.nTHead),D=t(e.nTable),L=D[0],B=L.style,I=e.nTFoot?t(e.nTFoot):null,E=e.oBrowser,z=E.bScrollOversize,W=[],N=[],V=[],R=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},j=T.scrollHeight>T.clientHeight;if(e.scrollBarVis!==j&&e.scrollBarVis!==n)return e.scrollBarVis=j,void p(e);e.scrollBarVis=j,D.children("thead, tfoot").remove(),s=F.clone().prependTo(D),i=F.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),I&&(l=I.clone().prependTo(D),a=I.find("tr"),o=l.find("tr")),g||(C.width="100%",y[0].style.width="100%"),t.each(O(e,s),function(t,i){h=f(e,t),i.style.width=e.aoColumns[h].sWidth}),I&&xt(function(t){t.style.width=""},o),c=D.outerWidth(),""===g?(B.width="100%",z&&(D.find("tbody").height()>T.offsetHeight||"scroll"==S.css("overflow-y"))&&(B.width=wt(D.outerWidth()-v)),c=D.outerWidth()):""!==m&&(B.width=wt(m),c=D.outerWidth()),xt(R,r),xt(function(e){V.push(e.innerHTML),W.push(wt(t(e).css("width")))},r),xt(function(t,e){t.style.width=W[e]},i),t(r).height(0),I&&(xt(R,o),xt(function(e){N.push(wt(t(e).css("width")))},o),xt(function(t,e){t.style.width=N[e]},a),t(o).height(0)),xt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+V[e]+"</div>",t.style.width=W[e]},r),I&&xt(function(t,e){t.innerHTML="",t.style.width=N[e]},o),D.outerWidth()<c?(u=T.scrollHeight>T.offsetHeight||"scroll"==S.css("overflow-y")?c+v:c,z&&(T.scrollHeight>T.offsetHeight||"scroll"==S.css("overflow-y"))&&(B.width=wt(u-v)),""!==g&&""===m||It(e,1,"Possible column misalignment",6)):u="100%",C.width=wt(u),b.width=wt(u),I&&(e.nScrollFoot.style.width=wt(u)),x||z&&(C.height=wt(L.offsetHeight+v));var H=D.outerWidth();w[0].style.width=wt(H),M.width=wt(H);var X=D.height()>T.clientHeight||"scroll"==S.css("overflow-y"),Y="padding"+(E.bScrollbarLeft?"Left":"Right");M[Y]=X?v+"px":"0px",I&&(P[0].style.width=wt(H),A[0].style.width=wt(H),A[0].style[Y]=X?v+"px":"0px"),S.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(T.scrollTop=0)}function xt(t,e,i){for(var n,a,r=0,o=0,s=e.length;o<s;){for(n=e[o].firstChild,a=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,a,r):t(n,r),r++),n=n.nextSibling,a=i?a.nextSibling:null;o++}}function vt(i){var n,a,r,o=i.nTable,s=i.aoColumns,l=i.oScroll,h=l.sY,u=l.sX,c=l.sXInner,d=s.length,g=x(i,"bVisible"),v=t("th",i.nTHead),y=o.getAttribute("width"),b=o.parentNode,_=!1,M=i.oBrowser,w=M.bScrollOversize,T=o.style.width;for(T&&T.indexOf("%")!==-1&&(y=T),n=0;n<g.length;n++)a=s[g[n]],null!==a.sWidth&&(a.sWidth=bt(a.sWidthOrig,b),_=!0);if(w||!_&&!u&&!h&&d==m(i)&&d==v.length)for(n=0;n<d;n++){var S=f(i,n);null!==S&&(s[S].sWidth=wt(v.eq(n).width()))}else{var C=t(o).clone().css("visibility","hidden").removeAttr("id");C.find("tbody tr").remove();var k=t("<tr/>").appendTo(C.find("tbody"));for(C.find("thead, tfoot").remove(),C.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),C.find("tfoot th, tfoot td").css("width",""),v=O(i,C.find("thead")[0]),n=0;n<g.length;n++)a=s[g[n]],v[n].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?wt(a.sWidthOrig):"",a.sWidthOrig&&u&&t(v[n]).append(t("<div/>").css({width:a.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<g.length;n++)r=g[n],a=s[r],t(_t(i,r)).clone(!1).append(a.sContentPadding).appendTo(k);var A=t("<div/>").css(u||h?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(C).appendTo(b);u&&c?C.width(c):u?(C.css("width","auto"),C.removeAttr("width"),C.width()<b.clientWidth&&y&&C.width(b.clientWidth)):h?C.width(b.clientWidth):y&&C.width(y);var P=0;for(n=0;n<g.length;n++){var F=t(v[n]),D=F.outerWidth()-F.width(),L=M.bBounding?Math.ceil(v[n].getBoundingClientRect().width):F.outerWidth();P+=L,s[g[n]].sWidth=wt(L-D)}o.style.width=wt(P),A.remove()}if(y&&(o.style.width=wt(y)),(y||u)&&!i._reszEvt){var B=function(){t(e).bind("resize.DT-"+i.sInstance,yt(function(){p(i)}))};w?setTimeout(B,1e3):B(),i._reszEvt=!0}}function yt(t,e){var i,a,r=e!==n?e:200;return function(){var e=this,o=+new Date,s=arguments;i&&o<i+r?(clearTimeout(a),a=setTimeout(function(){i=n,t.apply(e,s)},r)):(i=o,t.apply(e,s))}}function bt(e,n){if(!e)return 0;var a=t("<div/>").css("width",wt(e)).appendTo(n||i.body),r=a[0].offsetWidth;return a.remove(),r}function _t(e,i){var n=Mt(e,i);if(n<0)return null;var a=e.aoData[n];return a.nTr?a.anCells[i]:t("<td/>").html(T(e,n,i,"display"))[0]}function Mt(t,e){for(var i,n=-1,a=-1,r=0,o=t.aoData.length;r<o;r++)i=T(t,r,e,"display")+"",i=i.replace(_e,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,a=r);return a}function wt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Tt(e){var i,a,r,o,s,l,h,u=[],c=e.aoColumns,d=e.aaSortingFixed,p=t.isPlainObject(d),f=[],g=function(e){e.length&&!t.isArray(e[0])?f.push(e):t.merge(f,e)};for(t.isArray(d)&&g(d),p&&d.pre&&g(d.pre),g(e.aaSorting),p&&d.post&&g(d.post),i=0;i<f.length;i++)for(h=f[i][0],o=c[h].aDataSort,a=0,r=o.length;a<r;a++)s=o[a],l=c[s].sType||"string",f[i]._idx===n&&(f[i]._idx=t.inArray(f[i][1],c[s].asSorting)),u.push({src:h,col:s,dir:f[i][1],index:f[i]._idx,type:l,formatter:qt.ext.type.order[l+"-pre"]});return u}function St(t){var e,i,n,a,r,o=[],s=qt.ext.type.order,l=t.aoData,h=(t.aoColumns,0),u=t.aiDisplayMaster;for(v(t),r=Tt(t),e=0,i=r.length;e<i;e++)a=r[e],a.formatter&&h++,Ft(t,a.col);if("ssp"!=Ot(t)&&0!==r.length){for(e=0,n=u.length;e<n;e++)o[u[e]]=e;h===r.length?u.sort(function(t,e){var i,n,a,s,h,u=r.length,c=l[t]._aSortData,d=l[e]._aSortData;for(a=0;a<u;a++)if(h=r[a],i=c[h.col],n=d[h.col],s=i<n?-1:i>n?1:0,0!==s)return"asc"===h.dir?s:-s;return i=o[t],n=o[e],i<n?-1:i>n?1:0}):u.sort(function(t,e){var i,n,a,h,u,c,d=r.length,p=l[t]._aSortData,f=l[e]._aSortData;for(a=0;a<d;a++)if(u=r[a],i=p[u.col],n=f[u.col],c=s[u.type+"-"+u.dir]||s["string-"+u.dir],h=c(i,n),0!==h)return h;return i=o[t],n=o[e],i<n?-1:i>n?1:0})}t.bSorted=!0}function Ct(t){for(var e,i,n=t.aoColumns,a=Tt(t),r=t.oLanguage.oAria,o=0,s=n.length;o<s;o++){var l=n[o],h=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),c=l.nTh;c.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==o?(c.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),i=h[a[0].index+1]||h[0]):i=h[0],e=u+("asc"===i?r.sSortAscending:r.sSortDescending)):e=u,c.setAttribute("aria-label",e)}}function kt(e,i,a,r){var o,s=e.aoColumns[i],l=e.aaSorting,h=s.asSorting,u=function(e,i){var a=e._idx;return a===n&&(a=t.inArray(e[1],h)),a+1<h.length?a+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),a&&e.oFeatures.bSortMulti){var c=t.inArray(i,ue(l,"0"));c!==-1?(o=u(l[c],!0),null===o&&1===l.length&&(o=0),null===o?l.splice(c,1):(l[c][1]=h[o],l[c]._idx=o)):(l.push([i,h[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(o=u(l[0]),l.length=1,l[0][1]=h[o],l[0]._idx=o):(l.length=0,l.push([i,h[0]]),l[0]._idx=0);V(e),"function"==typeof r&&r(e)}function At(t,e,i,n){var a=t.aoColumns[i];Wt(e,{},function(e){a.bSortable!==!1&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){kt(t,i,e.shiftKey,n),"ssp"!==Ot(t)&&ft(t,!1)},0)):kt(t,i,e.shiftKey,n))})}function Pt(e){var i,n,a,r=e.aLastSort,o=e.oClasses.sSortColumn,s=Tt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=r.length;i<n;i++)a=r[i].src,t(ue(e.aoData,"anCells",a)).removeClass(o+(i<2?i+1:3));for(i=0,n=s.length;i<n;i++)a=s[i].src,t(ue(e.aoData,"anCells",a)).addClass(o+(i<2?i+1:3))}e.aLastSort=s}function Ft(t,e){var i,n=t.aoColumns[e],a=qt.ext.order[n.sSortDataType];a&&(i=a.call(t.oInstance,t,e,g(t,e)));for(var r,o,s=qt.ext.type.order[n.sType+"-pre"],l=0,h=t.aoData.length;l<h;l++)r=t.aoData[l],r._aSortData||(r._aSortData=[]),r._aSortData[e]&&!a||(o=a?i[l]:T(t,l,e,"sort"),r._aSortData[e]=s?s(o):o)}function Dt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:it(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:it(e.aoPreSearchCols[i])}})};Vt(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Lt(e){var i,a,r=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time){var s=Vt(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(t.inArray(!1,s)===-1){var l=e.iStateDuration;if(!(l>0&&o.time<+new Date-1e3*l)&&r.length===o.columns.length){for(e.oLoadedState=t.extend(!0,{},o),o.start!==n&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==n&&(e._iDisplayLength=o.length),o.order!==n&&(e.aaSorting=[],t.each(o.order,function(t,i){e.aaSorting.push(i[0]>=r.length?[0,i[1]]:i)})),o.search!==n&&t.extend(e.oPreviousSearch,nt(o.search)),i=0,a=o.columns.length;i<a;i++){var h=o.columns[i];h.visible!==n&&(r[i].bVisible=h.visible),h.search!==n&&t.extend(e.aoPreSearchCols[i],nt(h.search))}Vt(e,"aoStateLoaded","stateLoaded",[e,o])}}}}}function Bt(e){var i=qt.settings,n=t.inArray(e,ue(i,"nTable"));return n!==-1?i[n]:null}function It(t,i,n,a){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,a&&(n+=". For more information about this error, please see http://datatables.net/tn/"+a),i)e.console&&console.log&&console.log(n);else{var r=qt.ext,o=r.sErrMode||r.errMode;if(t&&Vt(t,null,"error",[t,a,n]),"alert"==o)alert(n);else{if("throw"==o)throw new Error(n);"function"==typeof o&&o(t,a,n)}}}function Et(e,i,a,r){return t.isArray(a)?void t.each(a,function(n,a){t.isArray(a)?Et(e,i,a[0],a[1]):Et(e,i,a)}):(r===n&&(r=a),void(i[a]!==n&&(e[r]=i[a])))}function zt(e,i,n){var a;for(var r in i)i.hasOwnProperty(r)&&(a=i[r],t.isPlainObject(a)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],a)):n&&"data"!==r&&"aaData"!==r&&t.isArray(a)?e[r]=a.slice():e[r]=a);return e}function Wt(e,i,n){t(e).bind("click.DT",i,function(t){e.blur(),n(t)}).bind("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Nt(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Vt(e,i,n,a){var r=[];if(i&&(r=t.map(e[i].slice().reverse(),function(t){return t.fn.apply(e.oInstance,a)})),null!==n){var o=t.Event(n+".dt");t(e.nTable).trigger(o,a),r.push(o.result)}return r}function Rt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(n===-1||e<0)&&(e=0),t._iDisplayStart=e}function jt(e,i){var n=e.renderer,a=qt.ext.renderer[i];return t.isPlainObject(n)&&n[i]?a[n[i]]||a._:"string"==typeof n?a[n]||a._:a._}function Ot(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ht(t,e){var i=[],n=Xe.numbers_length,a=Math.floor(n/2);return e<=n?i=de(0,e):t<=a?(i=de(0,n-2),i.push("ellipsis"),i.push(e-1)):t>=e-1-a?(i=de(e-(n-2),e),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=de(t-a+2,t+a-1),i.push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Xt(e){t.each({num:function(t){return Ye(t,e)},"num-fmt":function(t){return Ye(t,e,ne)},"html-num":function(t){return Ye(t,e,Qt)},"html-num-fmt":function(t){return Ye(t,e,Qt,ne)}},function(t,i){Ut.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Ut.type.search[t+e]=Ut.type.search.html)})}function Yt(t){return function(){var e=[Bt(this[qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qt.ext.internal[t].apply(this,e)}}var qt,Ut,$t,Gt,Jt,Kt={},Zt=/[\r\n]/g,Qt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ie=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ne=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ae=function(t){return!t||t===!0||"-"===t},re=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},oe=function(t,e){return Kt[e]||(Kt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Kt[e],"."):t},se=function(t,e,i){var n="string"==typeof t;return!!ae(t)||(e&&n&&(t=oe(t,e)),i&&n&&(t=t.replace(ne,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return ae(t)||"string"==typeof t},he=function(t,e,i){if(ae(t))return!0;var n=le(t);return n?!!se(fe(t),e,i)||null:null},ue=function(t,e,i){var a=[],r=0,o=t.length;if(i!==n)for(;r<o;r++)t[r]&&t[r][e]&&a.push(t[r][e][i]);else for(;r<o;r++)t[r]&&a.push(t[r][e]);return a},ce=function(t,e,i,a){var r=[],o=0,s=e.length;if(a!==n)for(;o<s;o++)t[e[o]][i]&&r.push(t[e[o]][i][a]);else for(;o<s;o++)r.push(t[e[o]][i]);return r},de=function(t,e){var i,a=[];e===n?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)a.push(r);return a},pe=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},fe=function(t){return t.replace(Qt,"")},ge=function(t){var e,i,n,a=[],r=t.length,o=0;t:for(i=0;i<r;i++){for(e=t[i],n=0;n<o;n++)if(a[n]===e)continue t;a.push(e),o++}return a},me=function(t,e,i){t[e]!==n&&(t[i]=t[e])},xe=/\[.*?\]$/,ve=/\(\)$/,ye=t("<div>")[0],be=ye.textContent!==n,_e=/<.*?>/g;qt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new $t(t?Bt(this[Ut.iApiIndex]):this)},this.fnAddData=function(e,i){var a=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?a.rows.add(e):a.row.add(e);return(i===n||i)&&a.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],a=i.oScroll;t===n||t?e.draw(!1):""===a.sX&&""===a.sY||mt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var a=this.api(!0),r=a.rows(t),o=r.settings()[0],s=o.aoData[r[0][0]];return r.remove(),e&&e.call(this,o,s),(i===n||i)&&a.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,a,r,o){var s=this.api(!0);null===e||e===n?s.search(t,i,a,o):s.column(e).search(t,i,a,o),s.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var a=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==a||"th"==a?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var a=this.api(!0).column(t).visible(e);(i===n||i)&&a.columns.adjust().draw()},this.fnSettings=function(){return Bt(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,a,r){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(r===n||r)&&o.columns.adjust(),(a===n||a)&&o.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var i=this,a=e===n,u=this.length;a&&(e={}),this.oApi=this.internal=Ut.internal;for(var p in qt.ext.internal)p&&(this[p]=Yt(p));return this.each(function(){var p,f={},g=u>1?zt(f,e,!0):e,m=0,x=this.getAttribute("id"),v=!1,M=qt.defaults,w=t(this);if("table"!=this.nodeName.toLowerCase())return void It(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(M),l(M.column),r(M,M,!0),r(M.column,M.column,!0),r(M,t.extend(g,w.data()));var T=qt.settings;for(m=0,p=T.length;m<p;m++){var S=T[m];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var C=g.bRetrieve!==n?g.bRetrieve:M.bRetrieve,A=g.bDestroy!==n?g.bDestroy:M.bDestroy;if(a||C)return S.oInstance;if(A){S.oInstance.fnDestroy();break}return void It(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){T.splice(m,1);break}}null!==x&&""!==x||(x="DataTables_Table_"+qt.ext._unique++,this.id=x);var P=t.extend(!0,{},qt.models.oSettings,{sDestroyWidth:w[0].style.width,sInstance:x,sTableId:x});P.nTable=this,P.oApi=i.internal,P.oInit=g,T.push(P),P.oInstance=1===i.length?i:w.dataTable(),s(g),g.oLanguage&&o(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=zt(t.extend(!0,{},M),g),Et(P.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Et(P,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Et(P.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Et(P.oLanguage,g,"fnInfoCallback"),Nt(P,"aoDrawCallback",g.fnDrawCallback,"user"),Nt(P,"aoServerParams",g.fnServerParams,"user"),Nt(P,"aoStateSaveParams",g.fnStateSaveParams,"user"),Nt(P,"aoStateLoadParams",g.fnStateLoadParams,"user"),Nt(P,"aoStateLoaded",g.fnStateLoaded,"user"),Nt(P,"aoRowCallback",g.fnRowCallback,"user"),Nt(P,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Nt(P,"aoHeaderCallback",g.fnHeaderCallback,"user"),Nt(P,"aoFooterCallback",g.fnFooterCallback,"user"),Nt(P,"aoInitComplete",g.fnInitComplete,"user"),Nt(P,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),P.rowIdFn=k(g.rowId),h(P);var F=P.oClasses;if(g.bJQueryUI?(t.extend(F,qt.ext.oJUIClasses,g.oClasses),g.sDom===M.sDom&&"lfrtip"===M.sDom&&(P.sDom='<"H"lfr>t<"F"ip>'),P.renderer?t.isPlainObject(P.renderer)&&!P.renderer.header&&(P.renderer.header="jqueryui"):P.renderer="jqueryui"):t.extend(F,qt.ext.classes,g.oClasses),w.addClass(F.sTable),P.iInitDisplayStart===n&&(P.iInitDisplayStart=g.iDisplayStart,P._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){P.bDeferLoading=!0;var D=t.isArray(g.iDeferLoading);P._iRecordsDisplay=D?g.iDeferLoading[0]:g.iDeferLoading,P._iRecordsTotal=D?g.iDeferLoading[1]:g.iDeferLoading}var L=P.oLanguage;t.extend(!0,L,g.oLanguage),""!==L.sUrl&&(t.ajax({dataType:"json",url:L.sUrl,success:function(e){o(e),r(M.oLanguage,e),t.extend(!0,L,e),st(P)},error:function(){st(P)}}),v=!0),null===g.asStripeClasses&&(P.asStripeClasses=[F.sStripeOdd,F.sStripeEven]);var B=P.asStripeClasses,I=w.children("tbody").find("tr").eq(0);t.inArray(!0,t.map(B,function(t){return I.hasClass(t)}))!==-1&&(t("tbody tr",this).removeClass(B.join(" ")),P.asDestroyStripes=B.slice());var E,z=[],W=this.getElementsByTagName("thead");if(0!==W.length&&(j(P.aoHeader,W[0]),z=O(P)),null===g.aoColumns)for(E=[],m=0,p=z.length;m<p;m++)E.push(null);else E=g.aoColumns;for(m=0,p=E.length;m<p;m++)c(P,z?z[m]:null);if(y(P,g.aoColumnDefs,E,function(t,e){d(P,t,e)}),I.length){var N=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(I[0]).children("th, td").each(function(t,e){var i=P.aoColumns[t];if(i.mData===t){var a=N(e,"sort")||N(e,"order"),r=N(e,"filter")||N(e,"search");null===a&&null===r||(i.mData={_:t+".display",sort:null!==a?t+".@data-"+a:n,type:null!==a?t+".@data-"+a:n,filter:null!==r?t+".@data-"+r:n},d(P,t))}})}var V=P.oFeatures;if(g.bStateSave&&(V.bStateSave=!0,Lt(P,g),Nt(P,"aoDrawCallback",Dt,"state_save")),g.aaSorting===n){var R=P.aaSorting;for(m=0,p=R.length;m<p;m++)R[m][1]=P.aoColumns[m].asSorting[0]}Pt(P),V.bSort&&Nt(P,"aoDrawCallback",function(){if(P.bSorted){var e=Tt(P),i={};t.each(e,function(t,e){i[e.src]=e.dir}),Vt(P,null,"order",[P,e,i]),Ct(P)}}),Nt(P,"aoDrawCallback",function(){(P.bSorted||"ssp"===Ot(P)||V.bDeferRender)&&Pt(P)},"sc");var H=w.children("caption").each(function(){this._captionSide=w.css("caption-side")}),X=w.children("thead");0===X.length&&(X=t("<thead/>").appendTo(this)),P.nTHead=X[0];var Y=w.children("tbody");0===Y.length&&(Y=t("<tbody/>").appendTo(this)),P.nTBody=Y[0];var q=w.children("tfoot");if(0===q.length&&H.length>0&&(""!==P.oScroll.sX||""!==P.oScroll.sY)&&(q=t("<tfoot/>").appendTo(this)),0===q.length||0===q.children().length?w.addClass(F.sNoFooter):q.length>0&&(P.nTFoot=q[0],j(P.aoFooter,P.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)b(P,g.aaData[m]);else(P.bDeferLoading||"dom"==Ot(P))&&_(P,t(P.nTBody).children("tr"));P.aiDisplay=P.aiDisplayMaster.slice(),P.bInitialised=!0,v===!1&&st(P)}),i=null,this};var Me=[],we=Array.prototype,Te=function(e){var i,n,a=qt.settings,r=t.map(a,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(i=t.inArray(e,r),i!==-1?[a[i]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map(function(){return i=t.inArray(this,r),i!==-1?a[i]:null}).toArray():void 0):[]};$t=function(e,i){if(!(this instanceof $t))return new $t(e,i);var n=[],a=function(t){var e=Te(t);e&&(n=n.concat(e))};if(t.isArray(e))for(var r=0,o=e.length;r<o;r++)a(e[r]);else a(e);this.context=ge(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},$t.extend(this,this,Me)},qt.Api=$t,t.extend($t.prototype,{any:function(){return 0!==this.count()},concat:we.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new $t(e[t],this[t]):null},filter:function(t){var e=[];if(we.filter)e=we.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new $t(this.context,e)},flatten:function(){var t=[];return new $t(this.context,t.concat.apply(t,this.toArray()))},join:we.join,indexOf:we.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,a){var r,o,s,l,h,u,c,d,p=[],f=this.context,g=this.selector;for("string"==typeof t&&(a=i,i=e,e=t,t=!1),o=0,s=f.length;o<s;o++){var m=new $t(f[o]);if("table"===e)r=i.call(m,f[o],o),r!==n&&p.push(r);else if("columns"===e||"rows"===e)r=i.call(m,f[o],this[o],o),r!==n&&p.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[o],"column-rows"===e&&(u=Fe(f[o],g.opts)),l=0,h=c.length;l<h;l++)d=c[l],r="cell"===e?i.call(m,f[o],d.row,d.column,o,l):i.call(m,f[o],d,o,l,u),r!==n&&p.push(r)}if(p.length||a){var x=new $t(f,t?p.concat.apply([],p):p),v=x.selector;return v.rows=g.rows,v.cols=g.cols,v.opts=g.opts,x}return this},lastIndexOf:we.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(we.map)e=we.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new $t(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:we.pop,push:we.push,reduce:we.reduce||function(t,e){return u(this,t,e,0,this.length,1)},reduceRight:we.reduceRight||function(t,e){return u(this,t,e,this.length-1,-1,-1)},reverse:we.reverse,selector:null,shift:we.shift,sort:we.sort,splice:we.splice,toArray:function(){return we.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new $t(this.context,ge(this))},unshift:we.unshift}),$t.extend=function(e,i,n){if(n.length&&i&&(i instanceof $t||i.__dt_wrapper)){var a,r,o,s=function(t,e,i){return function(){var n=e.apply(t,arguments);return $t.extend(n,n,i.methodExt),n}};for(a=0,r=n.length;a<r;a++)o=n[a],i[o.name]="function"==typeof o.val?s(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,i[o.name].__dt_wrapper=!0,$t.extend(e,i[o.name],o.propExt)}},$t.register=Gt=function(e,i){if(t.isArray(e))for(var n=0,a=e.length;n<a;n++)$t.register(e[n],i);else{var r,o,s,l,h=e.split("."),u=Me,c=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(r=0,o=h.length;r<o;r++){l=h[r].indexOf("()")!==-1,s=l?h[r].replace("()",""):h[r];var d=c(u,s);d||(d={name:s,val:{},methodExt:[],propExt:[]},u.push(d)),r===o-1?d.val=i:u=l?d.methodExt:d.propExt}}},$t.registerPlural=Jt=function(e,i,a){$t.register(e,a),$t.register(i,function(){var e=a.apply(this,arguments);return e===this?this:e instanceof $t?e.length?t.isArray(e[0])?new $t(e.context,e[0]):e[0]:n:e})};var Se=function(e,i){if("number"==typeof e)return[i[e]];var n=t.map(i,function(t){return t.nTable});return t(n).filter(e).map(function(){var e=t.inArray(this,n);return i[e]}).toArray()};Gt("tables()",function(t){return t?new $t(Se(t,this.context)):this}),Gt("table()",function(t){var e=this.tables(t),i=e.context;return i.length?new $t(i[0]):e}),Jt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Jt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Jt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Jt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Jt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Gt("draw()",function(t){return this.iterator("table",function(e){"page"===t?N(e):("string"==typeof t&&(t="full-hold"!==t),V(e,t===!1))})}),Gt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),Gt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,a=t.fnRecordsDisplay(),r=i===-1;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(a/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a,serverSide:"ssp"===Ot(t)}}),Gt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){ht(e,t)})});var Ce=function(t,e,i){if(i){var n=new $t(t);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==Ot(t))V(t,e);else{ft(t,!0);var a=t.jqXHR;a&&4!==a.readyState&&a.abort(),H(t,[],function(i){F(t);for(var n=U(t,i),a=0,r=n.length;a<r;a++)b(t,n[a]);V(t,e),ft(t,!1)})}};Gt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),Gt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),Gt("ajax.reload()",function(t,e){return this.iterator("table",function(i){Ce(i,e===!1,t)})}),Gt("ajax.url()",function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0],i.ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),Gt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){Ce(i,e===!1,t)})});var ke=function(e,i,a,r,o){var s,l,h,u,c,d,p=[],f=typeof i;for(i&&"string"!==f&&"function"!==f&&i.length!==n||(i=[i]),h=0,u=i.length;h<u;h++)for(l=i[h]&&i[h].split?i[h].split(","):[i[h]],c=0,d=l.length;c<d;c++)s=a("string"==typeof l[c]?t.trim(l[c]):l[c]),s&&s.length&&(p=p.concat(s));var g=Ut.selector[e];if(g.length)for(h=0,u=g.length;h<u;h++)p=g[h](r,o,p);return ge(p)},Ae=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Pe=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Fe=function(e,i){var n,a,r,o=[],s=e.aiDisplay,l=e.aiDisplayMaster,h=i.search,u=i.order,c=i.page;if("ssp"==Ot(e))return"removed"===h?[]:de(0,l.length);if("current"==c)for(n=e._iDisplayStart,a=e.fnDisplayEnd();n<a;n++)o.push(s[n]);else if("current"==u||"applied"==u)o="none"==h?l.slice():"applied"==h?s.slice():t.map(l,function(e){return t.inArray(e,s)===-1?e:null});else if("index"==u||"original"==u)for(n=0,a=e.aoData.length;n<a;n++)"none"==h?o.push(n):(r=t.inArray(n,s),(r===-1&&"removed"==h||r>=0&&"applied"==h)&&o.push(n));return o},De=function(e,i,a){var r=function(i){var r=re(i);if(null!==r&&!a)return[r];var o=Fe(e,a);if(null!==r&&t.inArray(r,o)!==-1)return[r];if(!i)return o;if("function"==typeof i)return t.map(o,function(t){var n=e.aoData[t];return i(t,n._aData,n.nTr)?t:null});var s=pe(ce(e.aoData,o,"nTr"));if(i.nodeName&&t.inArray(i,s)!==-1)return[i._DT_RowIndex];if("string"==typeof i&&"#"===i.charAt(0)){var l=e.aIds[i.replace(/^#/,"")];if(l!==n)return[l.idx]}return t(s).filter(i).map(function(){
return this._DT_RowIndex}).toArray()};return ke("row",i,r,e,a)};Gt("rows()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Ae(i);var a=this.iterator("table",function(t){return De(t,e,i)},1);return a.selector.rows=e,a.selector.opts=i,a}),Gt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Gt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ce(t.aoData,e,"_aData")},1)}),Jt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),Jt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){L(e,i,t)})}),Jt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Jt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,a=i.length;n<a;n++)for(var r=0,o=this[n].length;r<o;r++){var s=i[n].rowIdFn(i[n].aoData[this[n][r]]._aData);e.push((t===!0?"#":"")+s)}return new $t(i,e)}),Jt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,a){var r,o,s,l,h,u,c=e.aoData,d=c[i];for(c.splice(i,1),r=0,o=c.length;r<o;r++)if(h=c[r],u=h.anCells,null!==h.nTr&&(h.nTr._DT_RowIndex=r),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=r;D(e.aiDisplayMaster,i),D(e.aiDisplay,i),D(t[a],i,!1),Rt(e);var p=e.rowIdFn(d._aData);p!==n&&delete e.aIds[p]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),Gt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,n,a,r=[];for(n=0,a=e.length;n<a;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(_(t,i)[0]):r.push(b(t,i));return r},1),n=this.rows(-1);return n.pop(),t.merge(n,i),n}),Gt("row()",function(t,e){return Pe(this.rows(t,e))}),Gt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,L(e[0],this[0],"data"),this)}),Gt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Gt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?_(t,e)[0]:b(t,e)});return this.row(i[0])});var Le=function(e,i,n,a){var r=[],o=function(i,n){if(t.isArray(i)||i instanceof t)for(var a=0,s=i.length;a<s;a++)o(i[a],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())r.push(i);else{var l=t("<tr><td/></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=m(e),r.push(l[0])}};o(n,a),i._details&&i._details.remove(),i._details=t(r),i._detailsShow&&i._details.insertAfter(i.nTr)},Be=function(t,e){var i=t.context;if(i.length){var a=i[0].aoData[e!==n?e:t[0]];a&&a._details&&(a._details.remove(),a._detailsShow=n,a._details=n)}},Ie=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Ee(i[0]))}},Ee=function(t){var e=new $t(t),i=".dt.DT_details",n="draw"+i,a="column-visibility"+i,r="destroy"+i,o=t.aoData;e.off(n+" "+a+" "+r),ue(o,"_details").length>0&&(e.on(n,function(i,n){t===n&&e.rows({page:"current"}).eq(0).each(function(t){var e=o[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(a,function(e,i){if(t===i)for(var n,a=m(i),r=0,s=o.length;r<s;r++)n=o[r],n._details&&n._details.children("td[colspan]").attr("colspan",a)}),e.on(r,function(i,n){if(t===n)for(var a=0,r=o.length;a<r;a++)o[a]._details&&Be(e,a)}))},ze="",We=ze+"row().child",Ne=We+"()";Gt(Ne,function(t,e){var i=this.context;return t===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(t===!0?this.child.show():t===!1?Be(this):i.length&&this.length&&Le(i[0],i[0].aoData[this[0]],t,e),this)}),Gt([We+".show()",Ne+".show()"],function(){return Ie(this,!0),this}),Gt([We+".hide()",Ne+".hide()"],function(){return Ie(this,!1),this}),Gt([We+".remove()",Ne+".remove()"],function(){return Be(this),this}),Gt(We+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Ve=/^(.+):(name|visIdx|visible)$/,Re=function(t,e,i,n,a){for(var r=[],o=0,s=a.length;o<s;o++)r.push(T(t,a[o],e));return r},je=function(e,i,n){var a=e.aoColumns,r=ue(a,"sName"),o=ue(a,"nTh"),s=function(i){var s=re(i);if(""===i)return de(a.length);if(null!==s)return[s>=0?s:a.length+s];if("function"==typeof i){var l=Fe(e,n);return t.map(a,function(t,n){return i(n,Re(e,n,0,0,l),o[n])?n:null})}var h="string"==typeof i?i.match(Ve):"";if(!h)return t(o).filter(i).map(function(){return t.inArray(this,o)}).toArray();switch(h[2]){case"visIdx":case"visible":var u=parseInt(h[1],10);if(u<0){var c=t.map(a,function(t,e){return t.bVisible?e:null});return[c[c.length+u]]}return[f(e,u)];case"name":return t.map(r,function(t,e){return t===h[1]?e:null})}};return ke("column",i,s,e,n)},Oe=function(e,i,a,r){var o,s,l,h,u=e.aoColumns,c=u[i],d=e.aoData;if(a===n)return c.bVisible;if(c.bVisible!==a){if(a){var f=t.inArray(!0,ue(u,"bVisible"),i+1);for(s=0,l=d.length;s<l;s++)h=d[s].nTr,o=d[s].anCells,h&&h.insertBefore(o[i],o[f]||null)}else t(ue(e.aoData,"anCells",i)).detach();c.bVisible=a,W(e,e.aoHeader),W(e,e.aoFooter),(r===n||r)&&(p(e),(e.oScroll.sX||e.oScroll.sY)&&mt(e)),Vt(e,null,"column-visibility",[e,i,a,r]),Dt(e)}};Gt("columns()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Ae(i);var a=this.iterator("table",function(t){return je(t,e,i)},1);return a.selector.cols=e,a.selector.opts=i,a}),Jt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Jt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Jt("columns().data()","column().data()",function(){return this.iterator("column-rows",Re,1)}),Jt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Jt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,a,r){return ce(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Jt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,a){return ce(t.aoData,a,"anCells",e)},1)}),Jt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(i,a){return t===n?i.aoColumns[a].bVisible:void Oe(i,a,t,e)})}),Jt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?g(e,i):i},1)}),Gt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Gt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return g(i,e)}}),Gt("column()",function(t,e){return Pe(this.columns(t,e))});var He=function(e,i,a){var r,o,s,l,h,u,c,d=e.aoData,p=Fe(e,a),f=pe(ce(d,p,"anCells")),g=t([].concat.apply([],f)),m=e.aoColumns.length,x=function(i){var a="function"==typeof i;if(null===i||i===n||a){for(o=[],s=0,l=p.length;s<l;s++)for(r=p[s],h=0;h<m;h++)u={row:r,column:h},a?(c=d[r],i(u,T(e,r,h),c.anCells?c.anCells[h]:null)&&o.push(u)):o.push(u);return o}return t.isPlainObject(i)?[i]:g.filter(i).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()};return ke("cell",i,x,e,a)};Gt("cells()",function(e,i,a){if(t.isPlainObject(e)&&(e.row===n?(a=e,e=null):(a=i,i=null)),t.isPlainObject(i)&&(a=i,i=null),null===i||i===n)return this.iterator("table",function(t){return He(t,e,Ae(a))});var r,o,s,l,h,u=this.columns(i,a),c=this.rows(e,a),d=this.iterator("table",function(t,e){for(r=[],o=0,s=c[e].length;o<s;o++)for(l=0,h=u[e].length;l<h;l++)r.push({row:c[e][o],column:u[e][l]});return r},1);return t.extend(d.selector,{cols:i,rows:e,opts:a}),d}),Jt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){var a=t.aoData[e].anCells;return a?a[i]:n},1)}),Gt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return T(t,e,i)},1)}),Jt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),Jt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return T(e,i,n,t)},1)}),Jt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:g(t,i)}},1)}),Jt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){L(e,i,t,n)})}),Gt("cell()",function(t,e,i){return Pe(this.cells(t,e,i))}),Gt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?T(e[0],i[0].row,i[0].column):n:(S(e[0],i[0].row,i[0].column,t),L(e[0],i[0].row,"data",i[0].column),this)}),Gt("order()",function(e,i){var a=this.context;return e===n?0!==a.length?a[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Gt("order.listener()",function(t,e,i){return this.iterator("table",function(n){At(n,t,e,i)})}),Gt("order.fixed()",function(e){if(!e){var i=this.context,a=i.length?i[0].aaSortingFixed:n;return t.isArray(a)?{pre:a}:a}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),Gt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(n,a){var r=[];t.each(i[a],function(t,i){r.push([i,e])}),n.aaSorting=r})}),Gt("search()",function(e,i,a,r){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&G(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===a||a,bCaseInsensitive:null===r||r}),1)})}),Jt("columns().search()","column().search()",function(e,i,a,r){return this.iterator("column",function(o,s){var l=o.aoPreSearchCols;return e===n?l[s].sSearch:void(o.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===a||a,bCaseInsensitive:null===r||r}),G(o,o.oPreviousSearch,1)))})}),Gt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Gt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Gt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Gt("state.save()",function(){return this.iterator("table",function(t){Dt(t)})}),qt.versionCheck=qt.fnVersionCheck=function(t){for(var e,i,n=qt.version.split("."),a=t.split("."),r=0,o=a.length;r<o;r++)if(e=parseInt(n[r],10)||0,i=parseInt(a[r],10)||0,e!==i)return e>i;return!0},qt.isDataTable=qt.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return t.each(qt.settings,function(e,a){var r=a.nScrollHead?t("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?t("table",a.nScrollFoot)[0]:null;a.nTable!==i&&r!==i&&o!==i||(n=!0)}),n},qt.tables=qt.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(qt.settings,function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable});return i?new $t(n):n},qt.util={throttle:yt,escapeRegex:tt},qt.camelToHungarian=r,Gt("$()",function(e,i){var n=this.rows(i).nodes(),a=t(n);return t([].concat(a.filter(e).toArray(),a.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){Gt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=t(this.tables().nodes());return n[i].apply(n,e),this})}),Gt("clear()",function(){return this.iterator("table",function(t){F(t)})}),Gt("settings()",function(){return new $t(this.context,this.context)}),Gt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Gt("data()",function(){return this.iterator("table",function(t){return ue(t.aoData,"_aData")}).flatten()}),Gt("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var a,r=n.nTableWrapper.parentNode,o=n.oClasses,s=n.nTable,l=n.nTBody,h=n.nTHead,u=n.nTFoot,c=t(s),d=t(l),p=t(n.nTableWrapper),f=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Vt(n,"aoDestroyCallback","destroy",[n]),i||new $t(n).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+n.sInstance),s!=h.parentNode&&(c.children("thead").detach(),c.append(h)),u&&s!=u.parentNode&&(c.children("tfoot").detach(),c.append(u)),n.aaSorting=[],n.aaSortingFixed=[],Pt(n),t(f).removeClass(n.asStripeClasses.join(" ")),t("th, td",h).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),n.bJUI&&(t("th span."+o.sSortIcon+", td span."+o.sSortIcon,h).detach(),t("th, td",h).each(function(){var e=t("div."+o.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),d.children().detach(),d.append(f);var g=i?"remove":"detach";c[g](),p[g](),!i&&r&&(r.insertBefore(s,n.nTableReinsertBefore),c.css("width",n.sDestroyWidth).removeClass(o.sTable),a=n.asDestroyStripes.length,a&&d.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%a])}));var m=t.inArray(n,qt.settings);m!==-1&&qt.settings.splice(m,1)})}),t.each(["column","row","cell"],function(t,e){Gt(e+"s().every()",function(t){var i=this.selector.opts,a=this;return this.iterator(e,function(r,o,s,l,h){t.call(a[e](o,"cell"===e?s:i,"cell"===e?i:n),o,s,l,h)})})}),Gt("i18n()",function(e,i,a){var r=this.context[0],o=k(e)(r.oLanguage);return o===n&&(o=i),a!==n&&t.isPlainObject(o)&&(o=o[a]!==n?o[a]:o._),o.replace("%d",a)}),qt.version="1.10.10",qt.settings=[],qt.models={},qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},a(qt.defaults),qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(qt.defaults.column),qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ot(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ot(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,a=this.oFeatures,r=a.bPaginate;return a.bServerSide?r===!1||t===-1?e+n:Math.min(e+t,this._iRecordsDisplay):!r||i>n||t===-1?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qt.ext=Ut={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qt.version},t.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),t.extend(qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var i=e+"ui-state-default",n=e+"css_right ui-icon ui-icon-",a=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(qt.ext.oJUIClasses,qt.ext.classes,{sPageButton:"fg-button ui-button "+i,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:i+" sorting_asc",sSortDesc:i+" sorting_desc",sSortable:i+" sorting",sSortableAsc:i+" sorting_asc_disabled",sSortableDesc:i+" sorting_desc_disabled",sSortableNone:i+" sorting_disabled",sSortJUIAsc:n+"triangle-1-n",sSortJUIDesc:n+"triangle-1-s",sSortJUI:n+"carat-2-n-s",sSortJUIAscAllowed:n+"carat-1-n",sSortJUIDescAllowed:n+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+i,sScrollFoot:"dataTables_scrollFoot "+i,sHeaderTH:i,sFooterTH:i,sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})}();var Xe=qt.ext.pager;t.extend(Xe,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Ht(t,e)]},simple_numbers:function(t,e){return["previous",Ht(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ht(t,e),"next","last"]},_numbers:Ht,numbers_length:7}),t.extend(!0,qt.ext.renderer,{pageButton:{_:function(e,n,a,r,o,s){var l,h,u,c=e.oClasses,d=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},f=0,g=function(i,n){var r,u,m,x,v=function(t){dt(e,t.data.action,!0)};for(r=0,u=n.length;r<u;r++)if(x=n[r],t.isArray(x)){var y=t("<"+(x.DT_el||"div")+"/>").appendTo(i);g(y,x)}else{switch(l=null,h="",x){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,h=x+(o>0?"":" "+c.sPageButtonDisabled);break;case"previous":l=d.sPrevious,h=x+(o>0?"":" "+c.sPageButtonDisabled);break;case"next":l=d.sNext,h=x+(o<s-1?"":" "+c.sPageButtonDisabled);break;case"last":l=d.sLast,h=x+(o<s-1?"":" "+c.sPageButtonDisabled);break;default:l=x+1,h=o===x?c.sPageButtonActive:""}null!==l&&(m=t("<a>",{"class":c.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":p[x],"data-dt-idx":f,tabindex:e.iTabIndex,id:0===a&&"string"==typeof x?e.sTableId+"_"+x:null}).html(l).appendTo(i),Wt(m,{action:x},v),f++)}};try{u=t(n).find(i.activeElement).data("dt-idx")}catch(t){}g(t(n).empty(),r),u&&t(n).find("[data-dt-idx="+u+"]").focus()}}}),t.extend(qt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return se(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ae(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return se(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return he(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return he(t,i,!0)?"html-num-fmt"+i:null},function(t){return ae(t)||"string"==typeof t&&t.indexOf("<")!==-1?"html":null}]),t.extend(qt.ext.type.search,{html:function(t){return ae(t)?t:"string"==typeof t?t.replace(Zt," ").replace(Qt,""):""},string:function(t){return ae(t)?t:"string"==typeof t?t.replace(Zt," "):t}});var Ye=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=oe(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-(1/0)};return t.extend(Ut.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ae(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ae(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Xt(""),t.extend(!0,qt.ext.renderer,{header:{_:function(e,i,n,a){t(e.nTable).on("order.dt.DT",function(t,r,o,s){if(e===r){var l=n.idx;i.removeClass(n.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==s[l]?a.sSortAsc:"desc"==s[l]?a.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,i,n,a){t("<div/>").addClass(a.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(a.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,r,o,s){if(e===r){var l=n.idx;i.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==s[l]?a.sSortAsc:"desc"==s[l]?a.sSortDesc:n.sSortingClass),i.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==s[l]?a.sSortJUIAsc:"desc"==s[l]?a.sSortJUIDesc:n.sSortingClassJUI)}})}}}),qt.render={number:function(t,e,i,n,a){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=r<0?"-":"",s=parseFloat(r);if(isNaN(s))return r;r=Math.abs(s);var l=parseInt(r,10),h=i?e+(r-l).toFixed(i).substring(2):"";return o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+h+(a||"")}}},text:function(){return{display:function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}}}},t.extend(qt.ext.internal,{_fnExternApiFunc:Yt,_fnBuildAjax:H,_fnAjaxUpdate:X,_fnAjaxParameters:Y,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:U,_fnAddColumn:c,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:x,_fnColumnTypes:v,_fnApplyColumnDefs:y,_fnHungarianMap:a,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:h,_fnAddData:b,_fnAddTr:_,_fnNodeToDataIndex:M,_fnNodeToColumnIndex:w,_fnGetCellData:T,_fnSetCellData:S,_fnSplitObjNotation:C,_fnGetObjectDataFn:k,_fnSetObjectDataFn:A,_fnGetDataMaster:P,_fnClearTable:F,_fnDeleteIndex:D,_fnInvalidate:L,_fnGetRowElements:B,_fnCreateTr:I,_fnBuildHead:z,_fnDrawHead:W,_fnDraw:N,_fnReDraw:V,_fnAddOptionsHtml:R,_fnDetectHeader:j,_fnGetUniqueThs:O,_fnFeatureHtmlFilter:$,_fnFilterComplete:G,_fnFilterCustom:J,_fnFilterColumn:K,_fnFilter:Z,_fnFilterCreateSearch:Q,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:at,_fnUpdateInfo:rt,_fnInfoMacros:ot,_fnInitialise:st,_fnInitComplete:lt,_fnLengthChange:ht,_fnFeatureHtmlLength:ut,_fnFeatureHtmlPaginate:ct,_fnPageChange:dt,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:gt,_fnScrollDraw:mt,_fnApplyToChildren:xt,_fnCalculateColumnWidths:vt,_fnThrottle:yt,_fnConvertToWidth:bt,_fnGetWidestNode:_t,_fnGetMaxLenString:Mt,_fnStringToCss:wt,_fnSortFlatten:Tt,_fnSort:St,_fnSortAria:Ct,_fnSortListener:kt,_fnSortAttachListener:At,_fnSortingClasses:Pt,_fnSortData:Ft,_fnSaveState:Dt,_fnLoadState:Lt,_fnSettingsFromNode:Bt,_fnLog:It,_fnMap:Et,_fnBindAction:Wt,_fnCallbackReg:Nt,_fnCallbackFire:Vt,_fnLengthOverflow:Rt,_fnRenderer:jt,_fnDataSource:Ot,_fnRowAttributes:E,_fnCalculateEnd:function(){}}),t.fn.dataTable=qt,qt.$=t,t.fn.dataTableSettings=qt.settings,t.fn.dataTableExt=qt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(qt,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var a=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){r.trigger("closed.bs.alert").remove()}var n=t(this),a=n.attr("data-target");a||(a=n.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=t(a);e&&e.preventDefault(),r.length||(r=n.hasClass("alert")?n:n.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),a=n.data("bs.alert");a||n.data("bs.alert",a=new i(this)),"string"==typeof e&&a[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",n=this.$element,a=n.is("input")?"val":"html",r=n.data();e+="Text",r.resetText||n.data("resetText",n[a]()),n[a](r[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),a=n.data("bs.button"),r="object"==typeof i&&i;a||n.data("bs.button",a=new e(this,r)),"toggle"==i?a.toggle():i&&a.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),a=i||n[e](),r=this.interval,o="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[s]()}if(a.hasClass("active"))return this.sliding=!1;var h=t.Event("slide.bs.carousel",{relatedTarget:a[0],direction:o});return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(this.sliding=!0,r&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one(t.support.transition.end,function(){a.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),
r&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),a=n.data("bs.carousel"),r=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),o="string"==typeof i?i:r.slide;a||n.data("bs.carousel",a=new e(this,r)),"number"==typeof i?a.to(i):o?a[o]():r.interval&&a.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),a=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},a.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.carousel(r),(o=n.attr("data-slide-to"))&&a.data("bs.carousel").to(o),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var o=t.camelCase(["scroll",a].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[a](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),a=n.data("bs.collapse"),r=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);!a&&r.toggle&&"show"==i&&(i=!i),a||n.data("bs.collapse",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),a=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(a),o=r.data("bs.collapse"),s=o?"toggle":n.data(),l=n.attr("data-parent"),h=l&&t(l);o&&o.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(s)})}(jQuery),+function(t){"use strict";function e(e){t(n).remove(),t(a).each(function(){var n=i(t(this)),a={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",a)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",a))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",a="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(n){var a=t(this);if(!a.is(".disabled, :disabled")){var r=i(a),o=r.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",s),a.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),o=r.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&r.find(a).focus(),n.click();var s=" li:not(.divider):visible a",l=r.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(a)}).emulateTransitionEnd(300):i.$element.focus().trigger(a)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var a=t(this),r=a.data("bs.modal"),o=t.extend({},e.DEFAULTS,a.data(),"object"==typeof i&&i);r||a.data("bs.modal",r=new e(this,o)),"string"==typeof i?r[i](n):o.show&&r.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),a=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},a.data(),i.data());i.is("a")&&e.preventDefault(),a.modal(r,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var a=this.options.trigger.split(" "),r=a.length;r--;){var o=a[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(a);o&&(a=a.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(a),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),l=n[0].offsetWidth,h=n[0].offsetHeight;if(o){var u=this.$element.parent(),c=a,d=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:u.outerWidth(),f="body"==this.options.container?window.innerHeight:u.outerHeight(),g="body"==this.options.container?0:u.offset().left;a="bottom"==a&&s.top+s.height+h-d>f?"top":"top"==a&&s.top-d-h<0?"bottom":"right"==a&&s.right+l>p?"left":"left"==a&&s.left-l<g?"right":a,n.removeClass(c).addClass(a)}var m=this.getCalculatedOffset(a,s,l,h);this.applyPlacement(m,a),this.hoverState=null;var x=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,x).emulateTransitionEnd(150):x()}},e.prototype.applyPlacement=function(e,i){var n,a=this.tip(),r=a[0].offsetWidth,o=a[0].offsetHeight,s=parseInt(a.css("margin-top"),10),l=parseInt(a.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),e.top=e.top+s,e.left=e.left+l,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var h=a[0].offsetWidth,u=a[0].offsetHeight;if("top"==i&&u!=o&&(n=!0,e.top=e.top+o-u),/bottom|top/.test(i)){var c=0;e.left<0&&(c=-2*e.left,e.left=0,a.offset(e),h=a[0].offsetWidth,u=a[0].offsetHeight),this.replaceArrow(c-r+h,h,"left")}else this.replaceArrow(u-o,u,"top");n&&a.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),a=n.data("bs.tooltip"),r="object"==typeof i&&i;(a||"destroy"!=i)&&(a||n.data("bs.tooltip",a=new e(this,r)),"string"==typeof i&&a[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),a=n.data("bs.popover"),r="object"==typeof i&&i;(a||"destroy"!=i)&&(a||n.data("bs.popover",a=new e(this,r)),"string"==typeof i&&a[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(i,n){var a,r=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(a=t(i).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),a=n.data("target")||n.attr("href"),r=/^#./.test(a)&&t(a);return r&&r.length&&r.is(":visible")&&[[r[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),a]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),a=this.offsets,r=this.targets,o=this.activeTarget;if(e>=n)return o!=(t=r.last()[0])&&this.activate(t);if(o&&e<=a[0])return o!=(t=r[0])&&this.activate(t);for(t=a.length;t--;)o!=r[t]&&e>=a[t]&&(!a[t+1]||e<=a[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),a=n.data("bs.scrollspy"),r="object"==typeof i&&i;a||n.data("bs.scrollspy",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var a=i.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:a});if(e.trigger(r),!r.isDefaultPrevented()){var o=t(n);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:a})})}}},e.prototype.activate=function(e,i,n){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),o=n&&t.support.transition&&r.hasClass("fade");o?r.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),r.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),a=n.data("bs.tab");a||n.data("bs.tab",a=new e(this)),"string"==typeof i&&a[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,o=r.top,s=r.bottom;"top"==this.affixed&&(a.top+=n),"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var l=!(null!=this.unpin&&n+this.unpin<=a.top)&&(null!=s&&a.top+this.$element.height()>=i-s?"bottom":null!=o&&o>=n&&"top");if(this.affixed!==l){this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),u=t.Event(h+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-s-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),a=n.data("bs.affix"),r="object"==typeof i&&i;a||n.data("bs.affix",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(){function t(t,i){t.prototype=e(i.prototype),t.prototype.constructor=t,t.base=i.prototype}function e(t){function e(){}return e.prototype=t,new e}function n(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===i?t.setSeconds(t.getSeconds()+1*e):"minute"===i?t.setMinutes(t.getMinutes()+1*e):"hour"===i?t.setHours(t.getHours()+1*e):"day"===i?t.setDate(t.getDate()+1*e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+1*e):"year"===i&&t.setFullYear(t.getFullYear()+1*e),t}function a(t,e){var i=!1;for(0>t&&(i=!0,t*=-1),t=""+t,e=e?e:1;t.length<e;)t="0"+t;return i?"-"+t:t}function r(t){if(!t)return t;t=t.replace(/^\s\s*/,"");for(var e=/\s/,i=t.length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function o(t){t.roundRect=function(t,e,i,n,a,r,o,s){o&&(this.fillStyle=o),s&&(this.strokeStyle=s),"undefined"==typeof a&&(a=5),this.lineWidth=r,this.beginPath(),this.moveTo(t+a,e),this.lineTo(t+i-a,e),this.quadraticCurveTo(t+i,e,t+i,e+a),this.lineTo(t+i,e+n-a),this.quadraticCurveTo(t+i,e+n,t+i-a,e+n),this.lineTo(t+a,e+n),this.quadraticCurveTo(t,e+n,t,e+n-a),this.lineTo(t,e+a),this.quadraticCurveTo(t,e,t+a,e),this.closePath(),o&&this.fill(),s&&0<r&&this.stroke()}}function s(t,e){return t-e}function l(t,e){return t.x-e.x}function h(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),e=2>e.length?"0"+e:e,i=2>i.length?"0"+i:i,t=2>t.length?"0"+t:t,"#"+e+i+t}function u(t,e){var i=this.length>>>0,n=Number(e)||0,n=0>n?Math.ceil(n):Math.floor(n);for(0>n&&(n+=i);n<i;n++)if(n in this&&this[n]===t)return n;return-1}function c(t){return null===t||"undefined"==typeof t}function d(t,e,i){i=i||"normal";var n=t+"_"+e+"_"+i,a=G[n];if(isNaN(a)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";",!J){var r=document.body;J=document.createElement("span"),J.innerHTML="";var o=document.createTextNode("Mpgyi");J.appendChild(o),r.appendChild(J)}J.style.display="",J.setAttribute("style",t),a=Math.round(J.offsetHeight),J.style.display="none"}catch(t){a=Math.ceil(1.1*e)}a=Math.max(a,e),G[n]=a}return a}function p(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var n=0;n<i.length;n++)i[n]*=e;else i=[];return i}function f(t,e,i,n){if(t.addEventListener)t.addEventListener(e,i,n||!1);else{if(!t.attachEvent)return!1;t.attachEvent("on"+e,function(e){e=e||window.event,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},i.call(t,e)})}}function g(t,e,i){for(t*=nt,e*=nt,t=i.getImageData(t,e,2,2).data,e=!0,i=0;4>i;i++)if(t[i]!==t[i+4]|t[i]!==t[i+8]|t[i]!==t[i+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function m(t,e,i){return t in e?e[t]:i[t]}function x(t,e,i){if(H&&tt){var n=t.getContext("2d");it=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,nt=et/it,t.width=e*nt,t.height=i*nt,et!==it&&(t.style.width=e+"px",t.style.height=i+"px",n.scale(nt,nt))}else t.width=e,t.height=i}function v(t){if(!at){var e=!1,i=!1;"undefined"==typeof X.Chart.creditHref?(t.creditHref="http://canvasjs.com/",t.creditText="CanvasJS.com"):(e=t.updateOption("creditText"),i=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||i)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function y(t,e){var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),x(i,t,e),H||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function b(t,e,i){if(t&&e&&i){i=i+"."+e;var n="image/"+e;t=t.toDataURL(n);var a=!1,r=document.createElement("a");if(r.download=i,r.href=t,r.target="_blank","undefined"!=typeof Blob&&new Blob){for(var o=t.replace(/^data:[a-z\/]*;base64,/,""),o=atob(o),s=new ArrayBuffer(o.length),s=new Uint8Array(s),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);e=new Blob([s.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,i),a=!0}catch(t){r.dataset.downloadurl=[n,r.download,r.href].join(":"),r.href=window.URL.createObjectURL(e)}}if(!a)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent?r.dispatchEvent(event):r.fireEvent&&r.fireEvent("onclick")}catch(i){e=window.open(),e.document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function _(t,e,i){e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),e.style.position="relative",e.style.margin="0px 0px 0px 0px",e.style.padding="3px 4px 0px 4px",e.style.cssFloat="left",e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:16px;' src='"+rt[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function M(){for(var t=null,e=0;e<arguments.length;e++)t=arguments[e],t.style&&(t.style.display="inline")}function w(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function T(t,e,i,n){this._defaultsKey=t,this.parent=n,this._eventListeners=[],n={},i&&U[i]&&U[i][t]&&(n=U[i][t]),this._options=e?e:{},this.setOptions(this._options,n)}function S(t,e,i){this._publicChartReference=i,e=e||{},S.base.constructor.call(this,"Chart",e,e.theme?e.theme:"theme1");var n=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.panEnabled=this.disableToolTip=this.animatedRender=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this._container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this._container.innerHTML="",e=t=0,t=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,e=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height,this.width=t,this.height=e,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet="undefined"!=typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",H||(this._canvasJSContainer.style.height="0px"),this._container.appendChild(this._canvasJSContainer),this.canvas=y(t,e),this.canvas.style.position="absolute",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",o(this.ctx),H?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=y(t,e),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=y(t,e),this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this._eventManager=new N(this),f(window,"resize",function(){n._updateSize()&&n.render()}),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},f(this.overlaidCanvas,"click",function(t){n._mouseEventHandler(t)}),f(this.overlaidCanvas,"mousemove",function(t){n._mouseEventHandler(t)}),f(this.overlaidCanvas,"mouseup",function(t){n._mouseEventHandler(t)}),f(this.overlaidCanvas,"mousedown",function(t){n._mouseEventHandler(t),w(n._dropdownMenu)}),f(this.overlaidCanvas,"mouseout",function(t){n._mouseEventHandler(t)}),f(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(t){n._touchEventHandler(t);
}),f(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(t){n._touchEventHandler(t)}),f(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(t){n._touchEventHandler(t)}),f(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(t){n._touchEventHandler(t)}),this._toolTip=new W(this,this._options.toolTip,this.theme),this.axisY2=this.axisY=this.axisX=this.data=null,this.sessionVariables={axisX:{},axisY:{},axisY2:{}})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function C(t,e){for(var i,n=[],a=0;a<t.length;a++)if(0==a)n.push(t[0]);else{var r,o,s;s=a-1,r=0===s?0:s-1,o=s===t.length-1?s:s+1,i=Math.abs((t[o].x-t[r].x)/(0===t[o].x-t[s].x?.01:t[o].x-t[s].x))*(e-1)/2+1;var l=(t[o].x-t[r].x)/i;i=(t[o].y-t[r].y)/i,n[n.length]=t[s].x>t[r].x&&0<l||t[s].x<t[r].x&&0>l?{x:t[s].x+l/3,y:t[s].y+i/3}:{x:t[s].x,y:t[s].y+i/9},s=a,r=0===s?0:s-1,o=s===t.length-1?s:s+1,i=Math.abs((t[o].x-t[r].x)/(0===t[s].x-t[r].x?.01:t[s].x-t[r].x))*(e-1)/2+1,l=(t[o].x-t[r].x)/i,i=(t[o].y-t[r].y)/i,n[n.length]=t[s].x>t[r].x&&0<l||t[s].x<t[r].x&&0>l?{x:t[s].x-l/3,y:t[s].y-i/3}:{x:t[s].x,y:t[s].y-i/9},n[n.length]=t[a]}return n}function k(t,e){if(null===t||"undefined"==typeof t)return e;var i=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1);return!isNaN(i)&&i<=e&&0<=i?i:e}function A(t,e,i,n,a){"undefined"==typeof a&&(a=0),this._padding=a,this._x1=t,this._y1=e,this._x2=i,this._y2=n,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function P(t,e){P.base.constructor.call(this,"TextBlock",e),this.ctx=t,this._isDirty=!0,this._wrappedText=null}function F(t,e){if(F.base.constructor.call(this,"Title",e,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,c(this._options.margin)&&t._options.subtitles)for(var i=t._options.subtitles,n=0;n<i.length;n++)if((c(i[n].horizontalAlign)&&"center"===this.horizontalAlign||i[n].horizontalAlign===this.horizontalAlign)&&(c(i[n].verticalAlign)&&"top"===this.verticalAlign||i[n].verticalAlign===this.verticalAlign)&&!i[n].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(t,e){D.base.constructor.call(this,"Subtitle",e,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function L(t,e,i){L.base.constructor.call(this,"Legend",e,i),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=d(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function B(t,e){B.base.constructor.call(this,e),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx}function I(t,e,i,n,a){I.base.constructor.call(this,"DataSeries",e,i),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:n},this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"==typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function E(t,e,i,n){if(E.base.constructor.call(this,"Axis",e,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-(1/0),viewPortMin:1/0,viewPortMax:-(1/0),minDiff:1/0},"axisX"===i?(this.sessionVariables=this.chart.sessionVariables[i],this._options.interval||(this.intervalType=null),"theme2"===this.chart.theme&&c(this._options.lineThickness)&&(this.lineThickness=2)):this.sessionVariables="left"===n||"top"===n?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2,"undefined"==typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"==typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=i,"axisX"!==i||e&&"undefined"!=typeof e.gridThickness||(this.gridThickness=0),this._position=n,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this._options.stripLines&&0<this._options.stripLines.length)for(this.stripLines=[],e=0;e<this._options.stripLines.length;e++)this.stripLines.push(new z(this.chart,this._options.stripLines[e],t.theme,++this.chart._eventManager.lastObjectId,this));this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this._options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this._options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function z(t,e,i,n,a){z.base.constructor.call(this,"StripLine",e,i,a),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=a.logarithmic?Math.log(this.endValue/this.startValue)/Math.log(a.logarithmBase):Math.max(this.endValue-this.startValue),this._thicknessType="value")}function W(t,e,i){W.base.constructor.call(this,"ToolTip",e,i),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._timerId=0,this._prevY=this._prevX=NaN,this._initialize()}function N(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=y(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function V(t){var e;t&&Y[t]&&(e=Y[t]),V.base.constructor.call(this,"CultureInfo",e)}function R(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}var O={},H=!!document.createElement("canvas").getContext,X={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"theme1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,maxWidth:null,maxHeight:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:null,borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:null,fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic"},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:"transparent",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:null,indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:null,legendMarkerBorderThickness:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Y={en:{}},q={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #33558B".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},U={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Subtitle:{fontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:16,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:H?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:5},Subtitle:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:14,fontColor:"#333333",verticalAlign:"top",margin:5},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:H?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:H?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:H?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:H?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:H?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Subtitle:{fontFamily:H?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:16,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:H?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:H?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:H?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},$={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},G={},J=null,K=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="Sun Mon Tue Wed Thu Fri Sat".split(" "),n="January February March April May June July August September October November December".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,h,u){var c=u?u.days:e,d=u?u.months:n,p=u?u.shortDays:i,f=u?u.shortMonths:r;u="";var g=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===h.slice(0,4)&&(h=h.slice(4),g=!0),u=g?"getUTC":"get";var m=l[u+"Date"](),x=l[u+"Day"](),v=l[u+"Month"](),y=l[u+"FullYear"](),b=l[u+"Hours"](),_=l[u+"Minutes"](),M=l[u+"Seconds"](),w=l[u+"Milliseconds"](),T=g?0:l.getTimezoneOffset();return u=h.replace(t,function(t){switch(t){case"D":return m;case"DD":return a(m,2);case"DDD":return p[x];case"DDDD":return c[x];case"M":return v+1;case"MM":return a(v+1,2);case"MMM":return f[v];case"MMMM":return d[v];case"Y":return parseInt(String(y).slice(-2));case"YY":return a(String(y).slice(-2),2);case"YYY":return a(String(y).slice(-3),3);case"YYYY":return a(y,4);case"h":return b%12||12;case"hh":return a(b%12||12,2);case"H":return b;case"HH":return a(b,2);case"m":return _;case"mm":return a(_,2);case"s":return M;case"ss":return a(M,2);case"f":return String(w).slice(0,1);case"ff":return a(String(w).slice(0,2),2);case"fff":return a(String(w).slice(0,3),3);case"t":return 12>b?"a":"p";case"tt":return 12>b?"am":"pm";case"T":return 12>b?"A":"P";case"TT":return 12>b?"AM":"PM";case"K":return g?"UTC":(String(l).match(o)||[""]).pop().replace(s,"");case"z":return(0<T?"-":"+")+Math.floor(Math.abs(T)/60);case"zz":return(0<T?"-":"+")+a(Math.floor(Math.abs(T)/60),2);case"zzz":return(0<T?"-":"+")+a(Math.floor(Math.abs(T)/60),2)+a(Math.abs(T)%60,2);default:return t.slice(1,t.length-1)}})}}(),Z=function(t,e,i){if(null===t)return"";t=Number(t);var n=0>t;n&&(t*=-1);var r=i?i.decimalSeparator:".",o=i?i.digitGroupSeparator:",",s="";e=String(e);var s=1,l=i="",h=-1,u=[],c=[],d=0,p=0,f=0,g=!1,m=0,l=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);e=null;for(var x=0;l&&x<l.length;x++)if(e=l[x],"."===e&&0>h)h=x;else{if("%"===e)s*=100;else{if("\u2030"===e){s*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){s/=Math.pow(1e3,e.length-1),h=x+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(g=!0)}0>h?(u.push(e),"#"===e||"0"===e?d++:","===e&&f++):(c.push(e),"#"!==e&&"0"!==e||p++)}for(g&&(e=Math.floor(t),m=(0===e?"":String(e)).length-d,s/=Math.pow(10,m)),0>h&&(h=x),s=(t*s).toFixed(p),e=s.split("."),s=(e[0]+"").split(""),t=(e[1]+"").split(""),s&&"0"===s[0]&&s.shift(),x=g=l=p=h=0;0<u.length;)if(e=u.pop(),"#"===e||"0"===e)if(h++,h===d){var v=s,s=[];if("0"===e)for(e=d-p-(v?v.length:0);0<e;)v.unshift("0"),e--;for(;0<v.length;)i=v.pop()+i,x++,0===x%g&&l===f&&0<v.length&&(i=o+i);n&&(i="-"+i)}else 0<s.length?(i=s.pop()+i,p++,x++):"0"===e&&(i="0"+i,p++,x++),0===x%g&&l===f&&0<s.length&&(i=o+i);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(l++,g=x,x=0,0<s.length&&(i=o+i)):i=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+i:e+i:(e=0>m?e.replace("+","").replace("-",""):e.replace("-",""),i+=e.replace(/[0]+/,function(t){return a(m,t.length)}));for(n="",o=!1;0<c.length;)e=c.shift(),"#"===e||"0"===e?0<t.length&&0!==Number(t.join(""))?(n+=t.shift(),o=!0):"0"===e&&(n+="0",o=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?n+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?n+=e:(e=0>m?e.replace("+","").replace("-",""):e.replace("-",""),n+=e.replace(/[0]+/,function(t){return a(m,t.length)}));return i+((o?r:"")+n)},Q=function(t){var e=0,i=0;return t=t||window.event,t.offsetX||0===t.offsetX?(e=t.offsetX,i=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,i=t.layerY):(e=t.pageX-t.target.offsetLeft,i=t.pageY-t.target.offsetTop),{x:e,y:i}},tt=!0,et=window.devicePixelRatio||1,it=1,nt=tt?et/it:1,at=window&&window.location&&window.location.href&&window.location.href.indexOf&&-1!==window.location.href.indexOf("canvasjs.com"),rt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"}};!function(){O.fSDec=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},O.str={tv:[84,114,105,97,108,32,86,101,114,115,105,111,110],fntStr:[112,120,32,67,97,108,105,98,114,105,44,32,76,117,99,105,100,97,32,71,114,97,110,100,101,44,32,76,117,99,105,100,97,32,83,97,110,115,32,85,110,105,99,111,100,101,44,32,65,114,105,97,108,44,32,115,97,110,115,45,115,101,114,105,102],tBl:[116,101,120,116,66,97,115,101,108,105,110,101],fnt:[102,111,110,116],fSy:[102,105,108,108,83,116,121,108,101],fTx:[102,105,108,108,84,101,120,116],gr:[103,114,101,121],ct:[99,116,120],tp:[116,111,112]},delete X[O.fSDec([67,104,97,114,116])][O.fSDec([99,114,101,100,105,116,72,114,101,102])],O.pro={sCH:X[O.fSDec([67,104,97,114,116])][O.fSDec([99,114,101,100,105,116,72,114,101,102])]},O.fAWm=function(t){if("undefined"==typeof O.pro.sCH&&!at){var e=t[O.fSDec(O.str.ct)];e[O.fSDec(O.str.tBl)]=O.fSDec(O.str.tp),e[O.fSDec(O.str.fnt)]=11+O.fSDec(O.str.fntStr),e[O.fSDec(O.str.fSy)]=O.fSDec(O.str.gr),e[O.fSDec(O.str.fTx)](O.fSDec(O.str.tv),2,t.height-11-2)}}}(),T.prototype.setOptions=function(t,e){if(X[this._defaultsKey]){var i,n=X[this._defaultsKey];for(i in n)n.hasOwnProperty(i)&&(this[i]=t&&i in t?t[i]:e&&i in e?e[i]:n[i])}},T.prototype.updateOption=function(t){var e=X[this._defaultsKey],i=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1",n={},a=this[t];return i&&U[i]&&U[i][this._defaultsKey]&&(n=U[i][this._defaultsKey]),t in e&&(a=t in this._options?this._options[t]:n&&t in n?n[t]:e[t]),a!==this[t]&&(this[t]=a,!0)},T.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this._options[t]},T.prototype.isBeingTracked=function(t){return this._options._oldOptions||(this._options._oldOptions={}),!!this._options._oldOptions[t]},T.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this._options[t]},T.prototype.addEventListener=function(t,e,i){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i||this,eventHandler:e}))},T.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],n=0;n<i.length;n++)if(i[n].eventHandler===e){i[n].splice(n,1);break}},T.prototype.removeAllEventListeners=function(){this._eventListeners=[]},T.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var n=this._eventListeners[t],a=0;a<n.length;a++)n[a].eventHandler.call(n[a].context,e)}"function"==typeof this[t]&&this[t].call(i||this.chart._publicChartReference,e)},t(S,T),S.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!=typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new V(this._options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&H,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this._options.zoomEnabled?(this._zoomButton||(w(this._zoomButton=document.createElement("button")),_(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),f(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,_(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,_(t,t._zoomButton,"pan")),t.render()})),this._resetButton||(w(this._resetButton=document.createElement("button")),_(this,this._resetButton,"reset"),this._toolBar.appendChild(this._resetButton),f(this._resetButton,"click",function(){t._toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,_(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX&&(t.sessionVariables.axisX.newViewportMinimum=null,t.sessionVariables.axisX.newViewportMaximum=null),t.sessionVariables.axisY&&(t.sessionVariables.axisY.newViewportMinimum=null,t.sessionVariables.axisY.newViewportMaximum=null),t.sessionVariables.axisY2&&(t.sessionVariables.axisY2.newViewportMinimum=null,t.sessionVariables.axisY2.newViewportMaximum=null),t.resetOverlayedCanvas(),w(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset")}),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),M(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):this.panEnabled=this.zoomEnabled=!1,this._menuButton?this.exportEnabled?M(this._menuButton):w(this._menuButton):this.exportEnabled&&H&&(this._menuButton=document.createElement("button"),_(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),f(this._menuButton,"click",function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())},!0)),!this._dropdownMenu&&this.exportEnabled&&H){this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1),this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;",t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),f(this._dropdownMenu,"blur",function(){w(t._dropdownMenu),t._dropDownCloseTime=new Date},!0);var e=document.createElement("div");e.style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.saveJPGText,this._dropdownMenu.appendChild(e),f(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),f(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),f(e,"click",function(){b(t.canvas,"jpeg",t.exportFileName),w(t._dropdownMenu)},!0),e=document.createElement("div"),e.style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.savePNGText,this._dropdownMenu.appendChild(e),f(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),f(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),f(e,"click",function(){b(t.canvas,"png",t.exportFileName),w(t._dropdownMenu)},!0)}"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?_(t,t._zoomButton,"zoom"):_(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&_(t,t._resetButton,"reset")),this._options.toolTip&&this._toolTip._options!==this._options.toolTip&&(this._toolTip._options=this._options.toolTip);for(var i in this._toolTip._options)this._toolTip._options.hasOwnProperty(i)&&this._toolTip.updateOption(i)},S.prototype._updateSize=function(){var t=0,e=0;return this._options.width?t=this.width:this.width=t=0<this._container.clientWidth?this._container.clientWidth:this.width,this._options.height?e=this.height:this.height=e=0<this._container.clientHeight?this._container.clientHeight:this.height,(this.canvas.width!==t*nt||this.canvas.height!==e*nt)&&(x(this.canvas,t,e),x(this.overlaidCanvas,t,e),x(this._eventManager.ghostCanvas,t,e),!0)},S.prototype._initialize=function(){this._animator?this._animator.cancelAllAnimations():this._animator=new R(this),this.removeAllEventListeners(),
this.disableToolTip=!1,this._axes=[],this.pieDoughnutClickHandler=null,this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId),this._updateOptions(),this.animatedRender=H&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisY2=this.axisY=this.axisX=null,this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]},this.layoutManager=new A(0,0,this.width,this.height,2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var t=0;if(this._options.data)for(var e=0;e<this._options.data.length;e++)if(t++,!this._options.data[e].type||0<=S._supportedChartTypes.indexOf(this._options.data[e].type)){var i=new I(this,this._options.data[e],this.theme,t-1,++this._eventManager.lastObjectId);null===i.name&&(i.name="DataSeries "+t),null===i.color?1<this._options.data.length?(i._colorSet=[this._selectedColorSet[i.index%this._selectedColorSet.length]],i.color=this._selectedColorSet[i.index%this._selectedColorSet.length]):i._colorSet="line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"candlestick"===i.type||"ohlc"===i.type?[this._selectedColorSet[0]]:this._selectedColorSet:i._colorSet=[i.color],null===i.markerSize&&(("line"===i.type||"stepLine"===i.type||"spline"===i.type||0<=i.type.toLowerCase().indexOf("area"))&&i.dataPoints&&i.dataPoints.length<this.width/16||"scatter"===i.type)&&(i.markerSize=8),"bubble"!==i.type&&"scatter"!==i.type||!i.dataPoints||(i.dataPoints.some?i.dataPoints.some(function(t){return t.x})&&i.dataPoints.sort(l):i.dataPoints.sort(l)),this.data.push(i);var n,a=i.axisPlacement;if("normal"===a?"xySwapped"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===a?"normal"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==a&&("normal"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none")),n&&window.console)return void window.console.log(n)}O.fAWm&&O.fAWm(this),v(this),this._objectsInitialized=!0},S._supportedChartTypes=function(t){return t.indexOf||(t.indexOf=u),t}("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc rangeColumn rangeBar rangeArea rangeSplineArea pie doughnut funnel".split(" ")),S.prototype.render=function(t){t&&(this._options=t),this._initialize();var e=[];for(t=0;t<this.data.length;t++)"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||(this.data[t].axisYType&&"primary"!==this.data[t].axisYType?"secondary"===this.data[t].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2=new E(this,this._options.axisY2,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2=new E(this,this._options.axisY2,"axisY","top"))),this.data[t].axisY=this.axisY2):(this.axisY||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY=new E(this,this._options.axisY,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY=new E(this,this._options.axisY,"axisY","bottom"))),this.data[t].axisY=this.axisY),this.axisX||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX=new E(this,this._options.axisX,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX=new E(this,this._options.axisX,"axisX","left"))),this.data[t].axisX=this.axisX);this.axisY&&this.axisY2&&(0<this.axisY.gridThickness&&"undefined"==typeof this.axisY2._options.gridThickness?this.axisY2.gridThickness=0:0<this.axisY2.gridThickness&&"undefined"==typeof this.axisY._options.gridThickness&&(this.axisY.gridThickness=0));var i=!1;if(0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(t=0;t<this._axes.length;t++)if(null!==this._axes[t].viewportMinimum||null!==this._axes[t].viewportMaximum){i=!0;break}if(i?M(this._zoomButton,this._resetButton):(w(this._zoomButton,this._resetButton),this._options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),this._processData(),this._options.title&&(this._title=new F(this,this._options.title),this._title.dockInsidePlotArea?e.push(this._title):this._title.render()),this._options.subtitles)for(t=0;t<this._options.subtitles.length;t++)this.subtitles=[],i=new D(this,this._options.subtitles[t]),this.subtitles.push(i),i.dockInsidePlotArea?e.push(i):i.render();for(this.legend=new L(this,this._options.legend,this.theme),t=0;t<this.data.length;t++)(this.data[t].showInLegend||"pie"===this.data[t].type||"doughnut"===this.data[t].type)&&this.legend.dataSeries.push(this.data[t]);if(this.legend.dockInsidePlotArea?e.push(this.legend):this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)E.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<e.length;t++)e[t].render();var n=[];if(this.animatedRender){var a=y(this.width,this.height);a.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(t=0;t<this.plotInfo.plotTypes.length;t++)for(e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var r=e.plotUnits[i],o=null;r.targetCanvas=null,this.animatedRender&&(r.targetCanvas=y(this.width,this.height),r.targetCanvasCtx=r.targetCanvas.getContext("2d")),"line"===r.type?o=this.renderLine(r):"stepLine"===r.type?o=this.renderStepLine(r):"spline"===r.type?o=this.renderSpline(r):"column"===r.type?o=this.renderColumn(r):"bar"===r.type?o=this.renderBar(r):"area"===r.type?o=this.renderArea(r):"stepArea"===r.type?o=this.renderStepArea(r):"splineArea"===r.type?o=this.renderSplineArea(r):"stackedColumn"===r.type?o=this.renderStackedColumn(r):"stackedColumn100"===r.type?o=this.renderStackedColumn100(r):"stackedBar"===r.type?o=this.renderStackedBar(r):"stackedBar100"===r.type?o=this.renderStackedBar100(r):"stackedArea"===r.type?o=this.renderStackedArea(r):"stackedArea100"===r.type?o=this.renderStackedArea100(r):"bubble"===r.type?o=o=this.renderBubble(r):"scatter"===r.type?o=this.renderScatter(r):"pie"===r.type?this.renderPie(r):"doughnut"===r.type?this.renderPie(r):"candlestick"===r.type?o=this.renderCandlestick(r):"ohlc"===r.type?o=this.renderCandlestick(r):"rangeColumn"===r.type?o=this.renderRangeColumn(r):"rangeBar"===r.type?o=this.renderRangeBar(r):"rangeArea"===r.type?o=this.renderRangeArea(r):"rangeSplineArea"===r.type&&(o=this.renderRangeSplineArea(r));for(var s=0;s<r.dataSeriesIndexes.length;s++)this._dataInRenderedOrder.push(this.data[r.dataSeriesIndexes[s]]);this.animatedRender&&o&&n.push(o)}this.animatedRender&&0<this._indexLabels.length&&(t=y(this.width,this.height).getContext("2d"),n.push(this.renderIndexLabels(t)));var l=this;0<n.length?(l.disableToolTip=!0,l._animator.animate(200,l.animationDuration,function(t){l.ctx.clearRect(0,0,l.width,l.height),l.ctx.drawImage(a,0,0,Math.floor(l.width*nt),Math.floor(l.height*nt),0,0,l.width,l.height);for(var e=0;e<n.length;e++)o=n[e],1>t&&"undefined"!=typeof o.startTimePercent?t>=o.startTimePercent&&o.animationCallback(o.easingFunction(t-o.startTimePercent,0,1,1-o.startTimePercent),o):o.animationCallback(o.easingFunction(t,0,1,1),o);l.dispatchEvent("dataAnimationIterationEnd",{chart:l})},function(){n=[];for(var t=0;t<l.plotInfo.plotTypes.length;t++)for(var e=l.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++)e.plotUnits[i].targetCanvas=null;a=null,l.disableToolTip=!1})):(0<l._indexLabels.length&&l.renderIndexLabels(),l.dispatchEvent("dataAnimationIterationEnd",{chart:l})),this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||w(this._zoomButton,this._resetButton),this._toolTip._updateToolTip(),this.renderCount++},S.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},S.prototype.categoriseDataSeries=function(){for(var t="",e=0;e<this.data.length;e++)if(t=this.data[e],t.dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=S._supportedChartTypes.indexOf(t.type)){for(var i=null,n=!1,a=null,r=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){n=!0,i=this.plotInfo.plotTypes[o];break}for(n||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType){r=!0,a=i.plotUnits[o];break}r||(a={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisYType:t.axisYType,axisY:"primary"===t.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(a)),i.totalDataSeries++,a.dataSeriesIndexes.push(e),t.plotUnit=a}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(i=this.plotInfo.plotTypes[e],o=t=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=t,t+=i.plotUnits[o].dataSeriesIndexes.length},S.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,n=0;n<i;n++)e.dataPointIds[n]=++this._eventManager.lastObjectId}},S.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var n=e.plotUnits[i];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"!==n.type&&"ohlc"!==n.type&&"rangeColumn"!==n.type&&"rangeBar"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type||this._processMultiYPlotUnit(n)}},S.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,r=!1,o=0;o<t.dataSeriesIndexes.length;o++){var s,l=this.data[t.dataSeriesIndexes[o]],h=0,u=!1,c=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX&&this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:t.axisX.logarithmic?0:-(1/0),p=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX&&this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((l.dataPoints[h].x&&l.dataPoints[h].x.getTime||"dateTime"===l.xValueType)&&(r=!0),h=0;h<l.dataPoints.length;h++){if("undefined"==typeof l.dataPoints[h].x&&(l.dataPoints[h].x=h+(t.axisX.logarithmic?1:0)),l.dataPoints[h].x.getTime?(r=!0,e=l.dataPoints[h].x.getTime()):e=l.dataPoints[h].x,i=l.dataPoints[h].y,e<a.min&&(a.min=e),e>a.max&&(a.max=e),i<n.min&&(n.min=i),i>n.max&&(n.max=i),0<h){if(t.axisX.logarithmic){var f=e/l.dataPoints[h-1].x;1>f&&(f=1/f),a.minDiff>f&&1!==f&&(a.minDiff=f)}else f=e-l.dataPoints[h-1].x,0>f&&(f*=-1),a.minDiff>f&&0!==f&&(a.minDiff=f);null!==i&&null!==l.dataPoints[h-1].y&&(t.axisY.logarithmic?(f=i/l.dataPoints[h-1].y,1>f&&(f=1/f),n.minDiff>f&&1!==f&&(n.minDiff=f)):(f=i-l.dataPoints[h-1].y,0>f&&(f*=-1),n.minDiff>f&&0!==f&&(n.minDiff=f)))}if(e<d&&!u)null!==i&&(s=e);else{if(!u&&(u=!0,0<h)){h-=2;continue}if(e>p&&!c)c=!0;else if(e>p&&c)continue;l.dataPoints[h].label&&(t.axisX.labels[e]=l.dataPoints[h].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null===i?a.viewPortMin===e&&s<e&&(a.viewPortMin=s):(i<n.viewPortMin&&(n.viewPortMin=i),i>n.viewPortMax&&(n.viewPortMax=i))}}this.plotInfo.axisXValueType=l.xValueType=r?"dateTime":"number"}},S.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,r=!1,o=[],s=[],l=1/0,h=0;h<t.dataSeriesIndexes.length;h++){var u,d=this.data[t.dataSeriesIndexes[h]],p=0,f=!1,g=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var m=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX&&this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),x=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX&&this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(r=!0),p=0;p<d.dataPoints.length;p++){if("undefined"==typeof d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(r=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,c(d.dataPoints[p].y)?i=0:(i=d.dataPoints[p].y,0===h&&(l=Math.min(i,l))),e<a.min&&(a.min=e),e>a.max&&(a.max=e),0<p){if(t.axisX.logarithmic){var v=e/d.dataPoints[p-1].x;1>v&&(v=1/v),a.minDiff>v&&1!==v&&(a.minDiff=v)}else v=e-d.dataPoints[p-1].x,0>v&&(v*=-1),a.minDiff>v&&0!==v&&(a.minDiff=v);null!==i&&null!==d.dataPoints[p-1].y&&(t.axisY.logarithmic?0<i&&(v=i/d.dataPoints[p-1].y,1>v&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v)):(v=i-d.dataPoints[p-1].y,0>v&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)))}if(e<m&&!f)null!==d.dataPoints[p].y&&(u=e);else{if(!f&&(f=!0,0<p)){p-=2;continue}if(e>x&&!g)g=!0;else if(e>x&&g)continue;d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null===d.dataPoints[p].y?a.viewPortMin===e&&u<e&&(a.viewPortMin=u):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),0<=i?o[e]=o[e]?o[e]+i:i:s[e]=s[e]?s[e]+i:i)}}this.plotInfo.axisXValueType=d.xValueType=r?"dateTime":"number"}for(p in o)o.hasOwnProperty(p)&&!isNaN(p)&&(t=o[p],t<n.min&&(n.min=Math.min(t,l)),t>n.max&&(n.max=t),p<a.viewPortMin||p>a.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=Math.min(t,l)),t>n.viewPortMax&&(n.viewPortMax=t)));for(p in s)s.hasOwnProperty(p)&&!isNaN(p)&&(t=s[p],t<n.min&&(n.min=Math.min(t,l)),t>n.max&&(n.max=t),p<a.viewPortMin||p>a.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=Math.min(t,l)),t>n.viewPortMax&&(n.viewPortMax=t)))}},S.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,r=!1,o=!1,s=!1,l=[],h=0;h<t.dataSeriesIndexes.length;h++){var u,d=this.data[t.dataSeriesIndexes[h]],p=0,f=!1,g=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var m=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX&&this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),x=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX&&this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(r=!0),p=0;p<d.dataPoints.length;p++){if("undefined"==typeof d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(r=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,i=c(d.dataPoints[p].y)?null:d.dataPoints[p].y,e<a.min&&(a.min=e),e>a.max&&(a.max=e),0<p){if(t.axisX.logarithmic){var v=e/d.dataPoints[p-1].x;1>v&&(v=1/v),a.minDiff>v&&1!==v&&(a.minDiff=v)}else v=e-d.dataPoints[p-1].x,0>v&&(v*=-1),a.minDiff>v&&0!==v&&(a.minDiff=v);c(i)||null===d.dataPoints[p-1].y||(t.axisY.logarithmic?0<i&&(v=i/d.dataPoints[p-1].y,1>v&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v)):(v=i-d.dataPoints[p-1].y,0>v&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)))}if(e<m&&!f)null!==i&&(u=e);else{if(!f&&(f=!0,0<p)){p-=2;continue}if(e>x&&!g)g=!0;else if(e>x&&g)continue;d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null===i?a.viewPortMin===e&&u<e&&(a.viewPortMin=u):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),0<=i?o=!0:0>i&&(s=!0),l[e]=l[e]?l[e]+Math.abs(i):Math.abs(i))}}this.plotInfo.axisXValueType=d.xValueType=r?"dateTime":"number"}t.axisY.logarithmic?(n.max=c(n.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(n.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),n.min=c(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):o&&!s?(n.max=c(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=c(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):o&&s?(n.max=c(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=c(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)):!o&&s&&(n.max=c(n.viewPortMax)?-1:Math.max(n.viewPortMax,-1),n.min=c(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)),n.viewPortMin=n.min,n.viewPortMax=n.max,t.dataPointYSums=l}},S.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n,a,r=t.axisY.dataInfo,o=t.axisX.dataInfo,s=!1,l=0;l<t.dataSeriesIndexes.length;l++){var h,u,c,d=this.data[t.dataSeriesIndexes[l]],p=0,f=!1,g=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var m=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX&&this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),x=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX&&this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(s=!0),p=0;p<d.dataPoints.length;p++){if("undefined"==typeof d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(s=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,(i=d.dataPoints[p].y)&&i.length){n=Math.min.apply(null,i),a=Math.max.apply(null,i),u=!0;for(var v=0;v<i.length;v++)null===i.k&&(u=!1);u&&(f||(c=h),h=e)}if(e<o.min&&(o.min=e),e>o.max&&(o.max=e),n<r.min&&(r.min=n),a>r.max&&(r.max=a),0<p&&(t.axisX.logarithmic?(u=e/d.dataPoints[p-1].x,1>u&&(u=1/u),o.minDiff>u&&1!==u&&(o.minDiff=u)):(u=e-d.dataPoints[p-1].x,0>u&&(u*=-1),o.minDiff>u&&0!==u&&(o.minDiff=u)),i&&null!==i[0]&&d.dataPoints[p-1].y&&null!==d.dataPoints[p-1].y[0]&&(t.axisY.logarithmic?(u=i[0]/d.dataPoints[p-1].y[0],1>u&&(u=1/u),r.minDiff>u&&1!==u&&(r.minDiff=u)):(u=i[0]-d.dataPoints[p-1].y[0],0>u&&(u*=-1),r.minDiff>u&&0!==u&&(r.minDiff=u)))),!(e<m)||f){if(!f&&(f=!0,0<p)){p-=2,h=c;continue}if(e>x&&!g)g=!0;else if(e>x&&g)continue;if(d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),o.viewPortMin===e&&i)for(v=0;v<i.length;v++)if(null===i[v]&&h<e){o.viewPortMin=h;break}null===i?o.viewPortMin===e&&h<e&&(o.viewPortMin=h):(n<r.viewPortMin&&(r.viewPortMin=n),a>r.viewPortMax&&(r.viewPortMax=a))}}this.plotInfo.axisXValueType=d.xValueType=s?"dateTime":"number"}},S.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var n=[],a=this._dataInRenderedOrder.length-1;0<=a;a--){var r=null;(r=this._dataInRenderedOrder[a].getDataPointAtXY(t,e,i))&&n.push(r)}for(t=null,e=!1,i=0;i<n.length;i++)if(("line"===n[i].dataSeries.type||"stepLine"===n[i].dataSeries.type||"area"===n[i].dataSeries.type||"stepArea"===n[i].dataSeries.type)&&(a=m("markerSize",n[i].dataPoint,n[i].dataSeries)||8,n[i].distance<=a/2)){e=!0;break}for(i=0;i<n.length;i++)e&&"line"!==n[i].dataSeries.type&&"stepLine"!==n[i].dataSeries.type&&"area"!==n[i].dataSeries.type&&"stepArea"!==n[i].dataSeries.type||(t?n[i].distance<=t.distance&&(t=n[i]):t=n[i]);return t},S.prototype.getObjectAtXY=function(t,e,i){var n=null;if(i=this.getDataPointAtXY(t,e,i||!1))n=i.dataSeries.dataPointIds[i.dataPointIndex];else if(H)n=g(t,e,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var a=this.legend.items[i];t>=a.x1&&t<=a.x2&&e>=a.y1&&e<=a.y2&&(n=a.id)}return n},S.prototype.getAutoFontSize=function(t){return t/=400,Math.max(10,Math.round(Math.min(this.width,this.height)*t))},S.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},S.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},S.prototype.attachEvent=function(t){this._events.push(t)},S.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,n=i?i[0]:t,a=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=Q(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){a=Q(n),a.time=new Date;try{var r=a.y-this._lastTouchData.y,o=a.time-this._lastTouchData.time;if(15<Math.abs(r)&&(this._lastTouchData.scroll||200>o)){this._lastTouchData.scroll=!0;var s=window.parent||window;s&&s.scrollBy&&s.scrollBy(0,-r)}}catch(t){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<e.length;i++)a=e[i],r=document.createEvent("MouseEvent"),r.initMouseEvent(a,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r),t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()}}},S.prototype._dispatchRangeEvent=function(t,e){var i={};i.chart=this._publicChartReference,i.type=t,i.trigger=e;var n=[];this.axisX&&n.push("axisX"),this.axisY&&n.push("axisY"),this.axisY2&&n.push("axisY2");for(var a=0;a<n.length;a++)i[n[a]]={viewportMinimum:this[n[a]].sessionVariables.newViewportMinimum,viewportMaximum:this[n[a]].sessionVariables.newViewportMaximum};this.dispatchEvent(t,i,this._publicChartReference)},S.prototype._mouseEventHandler=function(t){"undefined"==typeof t.target&&t.srcElement&&(t.target=t.srcElement);var e,i,n=Q(t),a=t.type;if(t.which?i=3==t.which:t.button&&(i=2==t.button),S.capturedEventParam&&(e=S.capturedEventParam,"mouseup"===a&&(S.capturedEventParam=null,e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",e.chart._mouseEventHandler,!1)),e.hasOwnProperty(a)&&("mouseup"!==a||e.chart.overlaidCanvas.releaseCapture?t.target===e.chart.overlaidCanvas&&e[a].call(e.context,n.x,n.y):t.target!==e.chart.overlaidCanvas&&(e.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),!i){if(!S.capturedEventParam&&this._events){for(var r=0;r<this._events.length;r++)if(this._events[r].hasOwnProperty(a)){if(e=this._events[r],i=e.bounds,n.x>=i.x1&&n.x<=i.x2&&n.y>=i.y1&&n.y<=i.y2){e[a].call(e.context,n.x,n.y),"mousedown"===a&&!0===e.capture?(S.capturedEventParam=e,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===a&&(e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}e=null}t.target.style.cursor=e&&e.cursor?e.cursor:this._defaultCursor}a=this.plotArea,(n.x<a.x1||n.x>a.x2||n.y<a.y1||n.y>a.y2)&&(this._toolTip&&this._toolTip.enabled?this._toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},S.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},S.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i=e-this.dragStartPoint.y,n=t-this.dragStartPoint.x,a=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),o=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement)var s=r,r=a,a=s;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(a=r=0;a<this._axes.length;a++)i=this._axes[a],i.logarithmic?i.viewportMinimum<i.minimum?(r=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*r,i.sessionVariables.newViewportMaximum=i.viewportMaximum*r,o=!0):i.viewportMaximum>i.maximum&&(r=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/r,i.sessionVariables.newViewportMaximum=i.viewportMaximum/r,o=!0):i.viewportMinimum<i.minimum?(r=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+r,i.sessionVariables.newViewportMaximum=i.viewportMaximum+r,o=!0):i.viewportMaximum>i.maximum&&(r=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-r,i.sessionVariables.newViewportMaximum=i.viewportMaximum-r,o=!0);else if((!a||2<Math.abs(n))&&(!r||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=a?this.dragStartPoint.x:this.plotArea.x1,n=r?this.dragStartPoint.y:this.plotArea.y1,a=a?t:this.plotArea.x2,r=r?e:this.plotArea.y2,2<Math.abs(i-a)&&2<Math.abs(n-r)&&this._zoomPanToSelectedRegion(i,n,a,r)&&(o=!0)}o&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),o&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(M(this._zoomButton,this._resetButton),_(this,this._zoomButton,"pan"),_(this,this._resetButton,"reset")))}}this.isDrag=!1},S.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,n=0,a=i=null,a=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y");if("xySwapped"===this.plotInfo.axisPlacement&&(i=r,r=a,a=i),i=this.dragStartPoint.x-t,n=this.dragStartPoint.y-e,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():this.panEnabled||this.zoomEnabled||this._toolTip.mouseMoveHandler(t,e),(!a||2<Math.abs(i)||!r||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)a={x1:a?this.plotArea.x1+i:this.plotArea.x1,y1:r?this.plotArea.y1+n:this.plotArea.y1,x2:a?this.plotArea.x2+i:this.plotArea.x2,y2:r?this.plotArea.y2+n:this.plotArea.y2},this._zoomPanToSelectedRegion(a.x1,a.y1,a.x2,a.y2,!0)&&(this._dispatchRangeEvent("rangeChanging","pan"),this.render(),this._dispatchRangeEvent("rangeChanged","pan"),this.dragStartPoint.x=t,this.dragStartPoint.y=e);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var n=a?this.dragStartPoint.x:this.plotArea.x1,o=r?this.dragStartPoint.y:this.plotArea.y1,s=a?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,l=r?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n,o,a?t:this.plotArea.x2-this.plotArea.x1,r?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,o,s,l),this.overlaidCanvasCtx.globalAlpha=i}}else this._toolTip.mouseMoveHandler(t,e)},S.prototype._zoomPanToSelectedRegion=function(t,e,i,n,a){if(t=this.validateRegion(t,e,i,n,a),e=t.axesWithValidRange,i=t.axesRanges,t.isValid)for(n=0;n<e.length;n++)a=i[n],e[n].setViewPortRange(a.val1,a.val2);return t.isValid},S.prototype.validateRegion=function(t,e,i,n,a){a=a||!1;var r=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),s=!1,l=[],h=[],u=[];for(this.axisX&&r&&h.push(this.axisX),this.axisY&&o&&h.push(this.axisY),this.axisY2&&o&&h.push(this.axisY2),r=0;r<h.length;r++){var o=h[r],c=o.convertPixelToValue({x:t,y:e}),d=o.convertPixelToValue({x:i,y:n});if(c>d)var p=d,d=c,c=p;if(isFinite(o.dataInfo.minDiff))if(o.logarithmic&&d/c<Math.pow(o.dataInfo.minDiff,3)||!o.logarithmic&&Math.abs(d-c)<3*Math.abs(o.dataInfo.minDiff)||c<o.minimum||d>o.maximum){if(!a){s=!1;break}}else l.push(o),u.push({val1:c,val2:d}),s=!0}return{isValid:s,axesWithValidRange:l,axesRanges:u}},S.prototype.preparePlotArea=function(){var t=this.plotArea,e=this.axisY?this.axisY:this.axisY2;!H&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),this.axisX&&e?(t.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:e.lineCoordinates.x1,t.y1=this.axisX.lineCoordinates.y1<e.lineCoordinates.y1?this.axisX.lineCoordinates.y1:e.lineCoordinates.y1,t.x2=this.axisX.lineCoordinates.x2>e.lineCoordinates.x2?this.axisX.lineCoordinates.x2:e.lineCoordinates.x2,t.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:e.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1):(e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height),H||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new A(t.x1,t.y1,t.x2,t.y2,2)},S.prototype.getPixelCoordinatesOnPlotArea=function(t,e){return{x:this.axisX.getPixelCoordinatesOnAxis(t).x,y:this.axisY.getPixelCoordinatesOnAxis(e).y}},S.prototype.renderIndexLabels=function(t){t=t||this.plotArea.ctx;for(var e=this.plotArea,i=0,n=0,a=0,r=0,o=i=r=n=a=0,s=0,l=0;l<this._indexLabels.length;l++){var h,u,d=this._indexLabels[l],f=d.chartType.toLowerCase(),g=m("indexLabelFontColor",d.dataPoint,d.dataSeries),o=m("indexLabelFontSize",d.dataPoint,d.dataSeries),s=m("indexLabelFontFamily",d.dataPoint,d.dataSeries);h=m("indexLabelFontStyle",d.dataPoint,d.dataSeries),u=m("indexLabelFontWeight",d.dataPoint,d.dataSeries);var r=m("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),n=m("indexLabelMaxWidth",d.dataPoint,d.dataSeries),a=m("indexLabelWrap",d.dataPoint,d.dataSeries),x=m("indexLabelLineDashType",d.dataPoint,d.dataSeries),v=m("indexLabelLineColor",d.dataPoint,d.dataSeries),y=c(d.dataPoint.indexLabelLineThickness)?c(d.dataSeries._options.indexLabelLineThickness)?0:d.dataSeries._options.indexLabelLineThickness:d.dataPoint.indexLabelLineThickness,i=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,b={percent:null,total:null},_=null;(0<=d.dataSeries.type.indexOf("stacked")||"pie"===d.dataSeries.type||"doughnut"===d.dataSeries.type)&&(b=this.getPercentAndTotal(d.dataSeries,d.dataPoint)),(d.dataSeries.indexLabelFormatter||d.dataPoint.indexLabelFormatter)&&(_={chart:this._publicChartReference,dataSeries:d.dataSeries,dataPoint:d.dataPoint,index:d.indexKeyword,total:b.total,percent:b.percent});var M=d.dataPoint.indexLabelFormatter?d.dataPoint.indexLabelFormatter(_):d.dataPoint.indexLabel?this.replaceKeywordsWithValue(d.dataPoint.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):d.dataSeries.indexLabelFormatter?d.dataSeries.indexLabelFormatter(_):d.dataSeries.indexLabel?this.replaceKeywordsWithValue(d.dataSeries.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):null;
if(null!==M&&""!==M){var b=m("indexLabelPlacement",d.dataPoint,d.dataSeries),_=m("indexLabelOrientation",d.dataPoint,d.dataSeries),w=d.direction,T=d.dataSeries.axisX,S=d.dataSeries.axisY,C=!1,g=new P(t,{x:0,y:0,maxWidth:n?n:.5*this.width,maxHeight:a?5*o:1.5*o,angle:"horizontal"===_?0:-90,text:M,padding:0,backgroundColor:r,horizontalAlign:"left",fontSize:o,fontFamily:s,fontWeight:u,fontColor:g,fontStyle:h,textBaseline:"top"});if(g.measureText(),0<=f.indexOf("line")||0<=f.indexOf("area")||0<=f.indexOf("bubble")||0<=f.indexOf("scatter")){if(d.dataPoint.x<T.viewportMinimum||d.dataPoint.x>T.viewportMaximum||d.dataPoint.y<S.viewportMinimum||d.dataPoint.y>S.viewportMaximum)continue}else if(0<=f.indexOf("column")){if(d.dataPoint.x<T.viewportMinimum||d.dataPoint.x>T.viewportMaximum||d.bounds.y1>e.y2||d.bounds.y2<e.y1)continue}else if(0<=f.indexOf("bar")){if(d.dataPoint.x<T.viewportMinimum||d.dataPoint.x>T.viewportMaximum||d.bounds.x1>e.x2||d.bounds.x2<e.x1)continue}else if(d.dataPoint.x<T.viewportMinimum||d.dataPoint.x>T.viewportMaximum)continue;n=r=2,"horizontal"===_?(o=g.width,s=g.height):(s=g.width,o=g.height),"normal"===this.plotInfo.axisPlacement?(0<=f.indexOf("line")||0<=f.indexOf("area")?(b="auto",r=4):0<=f.indexOf("stacked")?"auto"===b&&(b="inside"):"bubble"!==f&&"scatter"!==f||(b="inside"),h=d.point.x-o/2,"inside"!==b?(n=e.y1,a=e.y2,0<w?(u=d.point.y-s-r-i,u<n&&(u="auto"===b?Math.max(d.point.y,n)+r+i:n+r+i,C=u+s>d.point.y)):(u=d.point.y+r+i,u>a-s-r-i&&(u="auto"===b?Math.min(d.point.y,a)-s-r-i:a-s-r-i,C=u<d.point.y))):(n=Math.max(d.bounds.y1,e.y1),a=Math.min(d.bounds.y2,e.y2),i=0<=f.indexOf("range")?0<w?Math.max(d.bounds.y1,e.y1)+s/2+r:Math.min(d.bounds.y2,e.y2)-s/2-r:(Math.max(d.bounds.y1,e.y1)+Math.min(d.bounds.y2,e.y2))/2,0<w?(u=Math.max(d.point.y,i)-s/2,u<n&&("bubble"===f||"scatter"===f)&&(u=Math.max(d.point.y-s-r,e.y1+r))):(u=Math.min(d.point.y,i)-s/2,u>a-s-r&&("bubble"===f||"scatter"===f)&&(u=Math.min(d.point.y+r,e.y2-s-r))),u=Math.min(u,a-s))):(0<=f.indexOf("line")||0<=f.indexOf("area")||0<=f.indexOf("scatter")?(b="auto",n=4):0<=f.indexOf("stacked")?"auto"===b&&(b="inside"):"bubble"===f&&(b="inside"),u=d.point.y-s/2,"inside"!==b?(r=e.x1,a=e.x2,0>w?(h=d.point.x-o-n-i,h<r&&(h="auto"===b?Math.max(d.point.x,r)+n+i:r+n+i,C=h+o>d.point.x)):(h=d.point.x+n+i,h>a-o-n-i&&(h="auto"===b?Math.min(d.point.x,a)-o-n-i:a-o-n-i,C=h<d.point.x))):(r=Math.max(d.bounds.x1,e.x1),Math.min(d.bounds.x2,e.x2),i=0<=f.indexOf("range")?0>w?Math.max(d.bounds.x1,e.x1)+o/2+n:Math.min(d.bounds.x2,e.x2)-o/2-n:(Math.max(d.bounds.x1,e.x1)+Math.min(d.bounds.x2,e.x2))/2,h=0>w?Math.max(d.point.x,i)-o/2:Math.min(d.point.x,i)-o/2,h=Math.max(h,r))),"vertical"===_&&(u+=s),g.x=h,g.y=u,g.render(!0),y&&"inside"!==b&&(0>f.indexOf("bar")&&d.point.x>e.x1&&d.point.x<e.x2||!C)&&(0>f.indexOf("column")&&d.point.y>e.y1&&d.point.y<e.y2||!C)&&(t.lineWidth=y,t.strokeStyle=v?v:"gray",t.setLineDash&&t.setLineDash(p(x,y)),t.beginPath(),t.moveTo(d.point.x,d.point.y),0<=f.indexOf("bar")?t.lineTo(h+(0<d.direction?0:o),u+("horizontal"===_?s:-s)/2):0<=f.indexOf("column")?t.lineTo(h+o/2,u+((0<d.direction?s:-s)+("horizontal"===_?s:-s))/2):t.lineTo(h+o/2,u+((u<d.point.y?s:-s)+("horizontal"===_?s:-s))/2),t.stroke())}}return{source:t,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0,startTimePercent:.7}},S.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;e.save();var n=this.plotArea;e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip();for(var n=[],a=0;a<t.dataSeriesIndexes.length;a++){var r=t.dataSeriesIndexes[a],o=this.data[r];e.lineWidth=o.lineThickness;var s=o.dataPoints,l="solid";if(e.setLineDash){var u=p(o.nullDataLineDashType,o.lineThickness),l=o.lineDashType,c=p(l,o.lineThickness);e.setLineDash(c)}var d=o.id;this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:r},d=h(d),i.strokeStyle=d,i.lineWidth=0<o.lineThickness?Math.max(o.lineThickness,4):0;var d=o._colorSet,f=d=o._options.lineColor?o._options.lineColor:d[0];e.strokeStyle=d;var g,m,x=!0,v=0;if(e.beginPath(),0<s.length){for(var y=!1,v=0;v<s.length;v++)if(g=s[v].x.getTime?s[v].x.getTime():s[v].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!o.connectNullData||!y)))if("number"!=typeof s[v].y)0<v&&!(o.connectNullData||y||x)&&(e.stroke(),H&&i.stroke()),y=!0;else{g=t.axisX.convertValueToPixel(g),m=t.axisY.convertValueToPixel(s[v].y);var b=o.dataPointIds[v];if(this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:v,x1:g,y1:m},x||y?(!x&&o.connectNullData?(e.setLineDash&&(o._options.nullDataLineDashType||l===o.lineDashType&&o.lineDashType!==o.nullDataLineDashType)&&(e.stroke(),l=o.nullDataLineDashType,e.setLineDash(u)),e.lineTo(g,m),H&&i.lineTo(g,m)):(e.beginPath(),e.moveTo(g,m),H&&(i.beginPath(),i.moveTo(g,m))),y=x=!1):(e.lineTo(g,m),H&&i.lineTo(g,m),0==v%500&&(e.stroke(),e.beginPath(),e.moveTo(g,m),H&&(i.stroke(),i.beginPath(),i.moveTo(g,m)))),v<s.length-1&&(f!==(s[v].lineColor||d)||l!==(s[v].lineDashType||o.lineDashType))&&(e.stroke(),e.beginPath(),e.moveTo(g,m),f=s[v].lineColor||d,e.strokeStyle=f,e.setLineDash&&(s[v].lineDashType?(l=s[v].lineDashType,e.setLineDash(p(l,o.lineThickness))):(l=o.lineDashType,e.setLineDash(c)))),0<s[v].markerSize||0<o.markerSize){var _=o.getMarkerProperties(v,g,m,e);n.push(_),b=h(b),H&&n.push({x:g,y:m,ctx:i,type:_.type,size:_.size,color:b,borderColor:b,borderThickness:_.borderThickness})}(s[v].indexLabel||o.indexLabel||s[v].indexLabelFormatter||o.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:s[v],dataSeries:o,point:{x:g,y:m},direction:0>s[v].y===t.axisY.reversed?1:-1,color:d})}e.stroke(),H&&i.stroke()}}return ht.drawMarkers(n),e.restore(),e.beginPath(),H&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;e.save();var n=this.plotArea;e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip();for(var n=[],a=0;a<t.dataSeriesIndexes.length;a++){var r=t.dataSeriesIndexes[a],o=this.data[r];e.lineWidth=o.lineThickness;var s=o.dataPoints,l="solid";if(e.setLineDash){var u=p(o.nullDataLineDashType,o.lineThickness),l=o.lineDashType,c=p(l,o.lineThickness);e.setLineDash(c)}var d=o.id;this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:r},d=h(d),i.strokeStyle=d,i.lineWidth=0<o.lineThickness?Math.max(o.lineThickness,4):0;var d=o._colorSet,f=d=o._options.lineColor?o._options.lineColor:d[0];e.strokeStyle=d;var g,m,x=!0,v=0;if(e.beginPath(),0<s.length){for(var y=!1,v=0;v<s.length;v++)if(g=s[v].getTime?s[v].x.getTime():s[v].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!o.connectNullData||!y)))if("number"!=typeof s[v].y)0<v&&!(o.connectNullData||y||x)&&(e.stroke(),H&&i.stroke()),y=!0;else{var b=m;g=t.axisX.convertValueToPixel(g),m=t.axisY.convertValueToPixel(s[v].y);var _=o.dataPointIds[v];this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:v,x1:g,y1:m},x||y?(!x&&o.connectNullData?(e.setLineDash&&(o._options.nullDataLineDashType||l===o.lineDashType&&o.lineDashType!==o.nullDataLineDashType)&&(e.stroke(),l=o.nullDataLineDashType,e.setLineDash(u)),e.lineTo(g,b),e.lineTo(g,m),H&&(i.lineTo(g,b),i.lineTo(g,m))):(e.beginPath(),e.moveTo(g,m),H&&(i.beginPath(),i.moveTo(g,m))),y=x=!1):(e.lineTo(g,b),H&&i.lineTo(g,b),e.lineTo(g,m),H&&i.lineTo(g,m),0==v%500&&(e.stroke(),e.beginPath(),e.moveTo(g,m),H&&(i.stroke(),i.beginPath(),i.moveTo(g,m)))),v<s.length-1&&(f!==(s[v].lineColor||d)||l!==(s[v].lineDashType||o.lineDashType))&&(e.stroke(),e.beginPath(),e.moveTo(g,m),f=s[v].lineColor||d,e.strokeStyle=f,e.setLineDash&&(s[v].lineDashType?(l=s[v].lineDashType,e.setLineDash(p(l,o.lineThickness))):(l=o.lineDashType,e.setLineDash(c)))),(0<s[v].markerSize||0<o.markerSize)&&(b=o.getMarkerProperties(v,g,m,e),n.push(b),_=h(_),H&&n.push({x:g,y:m,ctx:i,type:b.type,size:b.size,color:_,borderColor:_,borderThickness:b.borderThickness})),(s[v].indexLabel||o.indexLabel||s[v].indexLabelFormatter||o.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:s[v],dataSeries:o,point:{x:g,y:m},direction:0>s[v].y===t.axisY.reversed?1:-1,color:d})}e.stroke(),H&&i.stroke()}}return ht.drawMarkers(n),e.restore(),e.beginPath(),H&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderSpline=function(t){function e(t){if(t=C(t,2),0<t.length){i.beginPath(),H&&n.beginPath(),i.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(i.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&i.setLineDash(t[0].newLineDashArray),H&&n.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)i.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),H&&n.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0===e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(i.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&i.setLineDash(t[e+3].newLineDashArray),H&&(n.stroke(),n.beginPath(),n.moveTo(t[e+3].x,t[e+3].y)));i.stroke(),H&&n.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;i.save();var a=this.plotArea;i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip();for(var a=[],r=0;r<t.dataSeriesIndexes.length;r++){var o=t.dataSeriesIndexes[r],s=this.data[o];i.lineWidth=s.lineThickness;var l=s.dataPoints,u="solid";if(i.setLineDash){var c=p(s.nullDataLineDashType,s.lineThickness),u=s.lineDashType,d=p(u,s.lineThickness);i.setLineDash(d)}var f=s.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:o},f=h(f),n.strokeStyle=f,n.lineWidth=0<s.lineThickness?Math.max(s.lineThickness,4):0;var f=s._colorSet,g=f=s._options.lineColor?s._options.lineColor:f[0];i.strokeStyle=f;var m,x,v=0,y=[];if(i.beginPath(),0<l.length)for(x=!1,v=0;v<l.length;v++)if(m=l[v].getTime?l[v].x.getTime():l[v].x,!(m<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!x)))if("number"!=typeof l[v].y)0<v&&!x&&(s.connectNullData?i.setLineDash&&0<y.length&&(s._options.nullDataLineDashType||!l[v-1].lineDashType)&&(y[y.length-1].newLineDashArray=c,u=s.nullDataLineDashType):(e(y),y=[])),x=!0;else{m=t.axisX.convertValueToPixel(m),x=t.axisY.convertValueToPixel(l[v].y);var b=s.dataPointIds[v];if(this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:v,x1:m,y1:x},y[y.length]={x:m,y:x},v<l.length-1&&(g!==(l[v].lineColor||f)||u!==(l[v].lineDashType||s.lineDashType))&&(g=l[v].lineColor||f,y[y.length-1].newStrokeStyle=g,i.setLineDash&&(l[v].lineDashType?(u=l[v].lineDashType,y[y.length-1].newLineDashArray=p(u,s.lineThickness)):(u=s.lineDashType,y[y.length-1].newLineDashArray=d))),0<l[v].markerSize||0<s.markerSize){var _=s.getMarkerProperties(v,m,x,i);a.push(_),b=h(b),H&&a.push({x:m,y:x,ctx:n,type:_.type,size:_.size,color:b,borderColor:b,borderThickness:_.borderThickness})}(l[v].indexLabel||s.indexLabel||l[v].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:l[v],dataSeries:s,point:{x:m,y:x},direction:0>l[v].y===t.axisY.reversed?1:-1,color:f}),x=!1}e(y)}return ht.drawMarkers(a),i.restore(),i.beginPath(),H&&n.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}};var ot=function(t,e,i,n,a,r,o,s,l,h,u,c,d){"undefined"==typeof d&&(d=1),o=o||0,s=s||"black";var p=15<n-e&&15<a-i?8:.35*Math.min(n-e,a-i);t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=r,t.globalAlpha=d,t.fillRect(e,i,n-e,a-i),t.globalAlpha=1,0<o&&(d=0===o%2?0:.5,t.beginPath(),t.lineWidth=o,t.strokeStyle=s,t.moveTo(e,i),t.rect(e-d,i-d,n-e+2*d,a-i+2*d),t.stroke()),t.restore(),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(n-p,i+p),t.lineTo(n,i),t.closePath(),o=t.createLinearGradient((n+e)/2,i+p,(n+e)/2,i),o.addColorStop(0,r),o.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=o,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,a),t.lineTo(e+p,a-p),t.lineTo(n-p,a-p),t.lineTo(n,a),t.closePath(),o=t.createLinearGradient((n+e)/2,a-p,(n+e)/2,a),o.addColorStop(0,r),o.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=o,t.fill(),t.restore()),!0===u&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(e+p,a-p),t.lineTo(e,a),t.closePath(),o=t.createLinearGradient(e+p,(a+i)/2,e,(a+i)/2),o.addColorStop(0,r),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(n,i),t.lineTo(n-p,i+p),t.lineTo(n-p,a-p),t.lineTo(n,a),o=t.createLinearGradient(n-p,(a+i)/2,n,(a+i)/2),o.addColorStop(0,r),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,o.addColorStop(0,r),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,t.fill(),t.closePath(),t.restore())};S.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,r=null,o=this.plotArea,s=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),s=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,u=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0,c=t.axisX.dataInfo.minDiff;for(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.dataPointWidth?this.dataPointWidth:.9*(o.width*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&s>u&&(s=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<s&&(u=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),s)),c<s&&(c=s),c>u&&(c=u),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),o=0;o<t.dataSeriesIndexes.length;o++){var u=t.dataSeriesIndexes[o],d=this.data[u],p=d.dataPoints;if(0<p.length)for(var f=!!(5<c&&d.bevelEnabled),s=0;s<p.length;s++)if(a=p[s].getTime?p[s].x.getTime():p[s].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[s].y){i=t.axisX.convertValueToPixel(a),n=t.axisY.convertValueToPixel(p[s].y),i=t.axisX.reversed?i+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+o)*c<<0:i-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+o)*c<<0;var g,m=t.axisX.reversed?i-c<<0:i+c<<0;0<=p[s].y?g=l:(g=n,n=l),n>g&&(r=n,n=g,g=r),r=p[s].color?p[s].color:d._colorSet[s%d._colorSet.length],ot(e,i,n,m,g,r,0,null,f&&0<=p[s].y,0>p[s].y&&f,!1,!1,d.fillOpacity),r=d.dataPointIds[s],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:s,x1:i,y1:n,x2:m,y2:g},r=h(r),H&&ot(this._eventManager.ghostCtx,i,n,m,g,r,0,null,!1,!1,!1,!1),(p[s].indexLabel||d.indexLabel||p[s].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:p[s],dataSeries:d,point:{x:i+(m-i)/2,y:0>p[s].y===t.axisY.reversed?n:g},direction:0>p[s].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(n,g),x2:m,y2:Math.max(n,g)},color:r})}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.min(l,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.yScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,r=[],o=[],s=[],l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,c=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0,d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&l>c&&(l=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<l&&(c=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),l)),d<l&&(d=l),d>c&&(d=c),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],f=this.data[p],g=f.dataPoints;if(0<g.length){var m=!!(5<d&&f.bevelEnabled);for(e.strokeStyle="#4572A7 ",l=0;l<g.length;l++)if(n=g[l].x.getTime?g[l].x.getTime():g[l].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[l].y){var x,a=t.axisX.convertValueToPixel(n),v=a-t.plotType.plotUnits.length*d/2+t.index*d<<0,y=v+d<<0;if(t.axisY.logarithmic)s[n]=g[l].y+(s[n]?s[n]:0),0<s[n]&&(i=t.axisY.convertValueToPixel(s[n]),x=r[n]?r[n]:u,r[n]=i);else if(i=t.axisY.convertValueToPixel(g[l].y),0<=g[l].y){var b=r[n]?r[n]:0;i-=b,x=u-b,r[n]=b+(x-i)}else b=o[n]?o[n]:0,x=i+b,i=u+b,o[n]=b+(x-i);n=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ot(e,v,i,y,x,n,0,null,m&&0<=g[l].y,0>g[l].y&&m,!1,!1,f.fillOpacity),n=f.dataPointIds[l],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:v,y1:i,x2:y,y2:x},n=h(n),H&&ot(this._eventManager.ghostCtx,v,i,y,x,n,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:g[l],dataSeries:f,point:{x:a,y:0<=g[l].y?i:x},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:v,y1:Math.min(i,x),x2:y,y2:Math.max(i,x)},color:n})}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.min(u,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.yScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,r=[],o=[],s=[],l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,c=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0,d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&l>c&&(l=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<l&&(c=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),l)),d<l&&(d=l),d>c&&(d=c),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],f=this.data[p],g=f.dataPoints;if(0<g.length)for(var m=!!(5<d&&f.bevelEnabled),l=0;l<g.length;l++)if(n=g[l].x.getTime?g[l].x.getTime():g[l].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[l].y){a=t.axisX.convertValueToPixel(n),i=0!==t.dataPointYSums[n]?100*(g[l].y/t.dataPointYSums[n]):0;var x,v=a-t.plotType.plotUnits.length*d/2+t.index*d<<0,y=v+d<<0;if(t.axisY.logarithmic){if(s[n]=i+(s[n]?s[n]:0),0>=s[n])continue;i=t.axisY.convertValueToPixel(s[n]),x=r[n]?r[n]:u,r[n]=i}else if(i=t.axisY.convertValueToPixel(i),0<=g[l].y){var b=r[n]?r[n]:0;i-=b,x=u-b,r[n]=b+(x-i)}else b=o[n]?o[n]:0,x=i+b,i=u+b,o[n]=b+(x-i);n=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ot(e,v,i,y,x,n,0,null,m&&0<=g[l].y,0>g[l].y&&m,!1,!1,f.fillOpacity),n=f.dataPointIds[l],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:v,y1:i,x2:y,y2:x},n=h(n),H&&ot(this._eventManager.ghostCtx,v,i,y,x,n,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:g[l],dataSeries:f,point:{x:a,y:0<=g[l].y?i:x},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:v,y1:Math.min(i,x),x2:y,y2:Math.max(i,x)},color:n})}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.min(u,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.yScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,r=null,o=this.plotArea,s=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),s=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,u=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0,c=t.axisX.dataInfo.minDiff;for(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.dataPointWidth?this.dataPointWidth:.9*(o.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&s>u&&(s=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<s&&(u=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),s)),c<s&&(c=s),c>u&&(c=u),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),o=0;o<t.dataSeriesIndexes.length;o++){var u=t.dataSeriesIndexes[o],d=this.data[u],p=d.dataPoints;if(0<p.length){var f=!!(5<c&&d.bevelEnabled);for(e.strokeStyle="#4572A7 ",s=0;s<p.length;s++)if(a=p[s].getTime?p[s].x.getTime():p[s].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[s].y){n=t.axisX.convertValueToPixel(a),i=t.axisY.convertValueToPixel(p[s].y),n=t.axisX.reversed?n+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+o)*c<<0:n-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+o)*c<<0;var g,m=t.axisX.reversed?n-c<<0:n+c<<0;0<=p[s].y?g=l:(g=i,i=l),r=p[s].color?p[s].color:d._colorSet[s%d._colorSet.length],ot(e,g,n,i,m,r,0,null,f,!1,!1,!1,d.fillOpacity),r=d.dataPointIds[s],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:s,x1:g,y1:n,x2:i,y2:m},r=h(r),H&&ot(this._eventManager.ghostCtx,g,n,i,m,r,0,null,!1,!1,!1,!1),(p[s].indexLabel||d.indexLabel||p[s].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:p[s],dataSeries:d,point:{x:0<=p[s].y?i:g,y:n+(m-n)/2},direction:0>p[s].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(g,i),y1:n,x2:Math.max(g,i),y2:m},color:r})}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.max(l,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.xScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,r=[],o=[],s=[],l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,c=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0,d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&l>c&&(l=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<l&&(c=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),l)),d<l&&(d=l),d>c&&(d=c),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],f=this.data[p],g=f.dataPoints;if(0<g.length){var m=!!(5<d&&f.bevelEnabled);for(e.strokeStyle="#4572A7 ",l=0;l<g.length;l++)if(n=g[l].x.getTime?g[l].x.getTime():g[l].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[l].y){var x,a=t.axisX.convertValueToPixel(n),v=a-t.plotType.plotUnits.length*d/2+t.index*d<<0,y=v+d<<0;if(t.axisY.logarithmic)s[n]=g[l].y+(s[n]?s[n]:0),0<s[n]&&(x=r[n]?r[n]:u,r[n]=i=t.axisY.convertValueToPixel(s[n]));else if(i=t.axisY.convertValueToPixel(g[l].y),0<=g[l].y){var b=r[n]?r[n]:0;x=u+b,i+=b,r[n]=b+(i-x)}else b=o[n]?o[n]:0,x=i-b,i=u-b,o[n]=b+(i-x);n=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ot(e,x,v,i,y,n,0,null,m,!1,!1,!1,f.fillOpacity),n=f.dataPointIds[l],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:x,y1:v,x2:i,y2:y},n=h(n),H&&ot(this._eventManager.ghostCtx,x,v,i,y,n,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:g[l],dataSeries:f,point:{x:0<=g[l].y?i:x,y:a},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,i),y1:v,x2:Math.max(x,i),y2:y},color:n})}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.max(u,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.xScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,r=[],o=[],s=[],l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,c=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0,d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&l>c&&(l=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<l&&(c=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),l)),d<l&&(d=l),d>c&&(d=c),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],f=this.data[p],g=f.dataPoints;if(0<g.length){var m=!!(5<d&&f.bevelEnabled);for(e.strokeStyle="#4572A7 ",l=0;l<g.length;l++)if(n=g[l].x.getTime?g[l].x.getTime():g[l].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[l].y){var x,a=t.axisX.convertValueToPixel(n);x=0!==t.dataPointYSums[n]?100*(g[l].y/t.dataPointYSums[n]):0;var v=a-t.plotType.plotUnits.length*d/2+t.index*d<<0,y=v+d<<0;if(t.axisY.logarithmic){if(s[n]=x+(s[n]?s[n]:0),0>=s[n])continue;x=r[n]?r[n]:u,r[n]=i=t.axisY.convertValueToPixel(s[n])}else if(i=t.axisY.convertValueToPixel(x),0<=g[l].y){var b=r[n]?r[n]:0;x=u+b,i+=b,r[n]=b+(i-x)}else b=o[n]?o[n]:0,x=i-b,i=u-b,o[n]=b+(i-x);n=g[l].color?g[l].color:f._colorSet[l%f._colorSet.length],ot(e,x,v,i,y,n,0,null,m,!1,!1,!1,f.fillOpacity),n=f.dataPointIds[l],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:x,y1:v,x2:i,y2:y},n=h(n),H&&ot(this._eventManager.ghostCtx,x,v,i,y,n,0,null,!1,!1,!1,!1),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:g[l],dataSeries:f,point:{x:0<=g[l].y?i:x,y:a},direction:0>g[l].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,i),y1:v,x2:Math.max(x,i),y2:y},color:n})}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),t=Math.max(u,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:lt.xScaleAnimation,easingFunction:lt.easing.easeOutQuart,animationBase:t}}},S.prototype.renderArea=function(t){function e(){b&&(0<u.lineThickness&&i.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?m=y:0>t.axisY.viewportMaximum?m=r.y1:0<t.axisY.viewportMinimum&&(m=a.y2),i.lineTo(d,m),i.lineTo(b.x,m),i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,H&&(n.lineTo(d,m),n.lineTo(b.x,m),n.closePath(),n.fill()),i.beginPath(),i.moveTo(d,f),n.beginPath(),n.moveTo(d,f),b={x:d,y:f})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,r=t.axisY.lineCoordinates,o=[],s=this.plotArea;for(i.save(),H&&n.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),H&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],c=u.dataPoints,o=u.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=h(o),n.fillStyle=o;var d,f,g,m,o=[],x=!0,v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),b=null;if(0<c.length){var _=u._colorSet[v%u._colorSet.length],M=u._options.lineColor||_,w=M;i.fillStyle=_,i.strokeStyle=M,i.lineWidth=u.lineThickness;var T="solid";if(i.setLineDash){var S=p(u.nullDataLineDashType,u.lineThickness),T=u.lineDashType,C=p(T,u.lineThickness);i.setLineDash(C)}for(var k=!0;v<c.length;v++)if(g=c[v].x.getTime?c[v].x.getTime():c[v].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!k)))if("number"!=typeof c[v].y)u.connectNullData||k||x||e(),k=!0;else{d=t.axisX.convertValueToPixel(g),f=t.axisY.convertValueToPixel(c[v].y),x||k?(!x&&u.connectNullData?(i.setLineDash&&(u._options.nullDataLineDashType||T===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),T=u.nullDataLineDashType,i.setLineDash(S)),i.lineTo(d,f),H&&n.lineTo(d,f)):(i.beginPath(),i.moveTo(d,f),H&&(n.beginPath(),n.moveTo(d,f)),b={x:d,y:f}),k=x=!1):(i.lineTo(d,f),H&&n.lineTo(d,f),0==v%250&&e()),v<c.length-1&&(w!==(c[v].lineColor||M)||T!==(c[v].lineDashType||u.lineDashType))&&(e(),w=c[v].lineColor||M,i.strokeStyle=w,i.setLineDash&&(c[v].lineDashType?(T=c[v].lineDashType,i.setLineDash(p(T,u.lineThickness))):(T=u.lineDashType,i.setLineDash(C))));var A=u.dataPointIds[v];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:v,x1:d,y1:f},0!==c[v].markerSize&&(0<c[v].markerSize||0<u.markerSize)&&(g=u.getMarkerProperties(v,d,f,i),o.push(g),A=h(A),H&&o.push({x:d,y:f,ctx:n,type:g.type,size:g.size,color:A,borderColor:A,borderThickness:g.borderThickness})),(c[v].indexLabel||u.indexLabel||c[v].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:c[v],dataSeries:u,point:{x:d,y:f},direction:0>c[v].y===t.axisY.reversed?1:-1,color:_})}e(),ht.drawMarkers(o)}}return i.restore(),H&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderSplineArea=function(t){function e(){var e=C(y,2);if(0<e.length){if(0<u.lineThickness){i.beginPath(),i.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(i.strokeStyle=e[0].newStrokeStyle),
e[0].newLineDashArray&&i.setLineDash(e[0].newLineDashArray);for(var o=0;o<e.length-3;o+=3)i.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),H&&n.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),(e[o+3].newStrokeStyle||e[o+3].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(e[o+3].x,e[o+3].y),e[o+3].newStrokeStyle&&(i.strokeStyle=e[o+3].newStrokeStyle),e[o+3].newLineDashArray&&i.setLineDash(e[o+3].newLineDashArray));i.stroke()}for(i.beginPath(),i.moveTo(e[0].x,e[0].y),H&&(n.beginPath(),n.moveTo(e[0].x,e[0].y)),o=0;o<e.length-3;o+=3)i.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),H&&n.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?g=x:0>t.axisY.viewportMaximum?g=r.y1:0<t.axisY.viewportMinimum&&(g=a.y2),v={x:e[0].x,y:e[0].y},i.lineTo(e[e.length-1].x,g),i.lineTo(v.x,g),i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,H&&(n.lineTo(e[e.length-1].x,g),n.lineTo(v.x,g),n.closePath(),n.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,r=t.axisY.lineCoordinates,o=[],s=this.plotArea;for(i.save(),H&&n.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),H&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],c=u.dataPoints,o=u.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=h(o),n.fillStyle=o;var d,f,g,o=[],m=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),v=null,y=[];if(0<c.length){var b=u._colorSet[m%u._colorSet.length],_=u._options.lineColor||b,M=_;i.fillStyle=b,i.strokeStyle=_,i.lineWidth=u.lineThickness;var w="solid";if(i.setLineDash){var T=p(u.nullDataLineDashType,u.lineThickness),w=u.lineDashType,S=p(w,u.lineThickness);i.setLineDash(S)}for(f=!1;m<c.length;m++)if(d=c[m].x.getTime?c[m].x.getTime():c[m].x,!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!f)))if("number"!=typeof c[m].y)0<m&&!f&&(u.connectNullData?i.setLineDash&&0<y.length&&(u._options.nullDataLineDashType||!c[m-1].lineDashType)&&(y[y.length-1].newLineDashArray=T,w=u.nullDataLineDashType):(e(),y=[])),f=!0;else{d=t.axisX.convertValueToPixel(d),f=t.axisY.convertValueToPixel(c[m].y);var k=u.dataPointIds[m];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:m,x1:d,y1:f},y[y.length]={x:d,y:f},m<c.length-1&&(M!==(c[m].lineColor||_)||w!==(c[m].lineDashType||u.lineDashType))&&(M=c[m].lineColor||_,y[y.length-1].newStrokeStyle=M,i.setLineDash&&(c[m].lineDashType?(w=c[m].lineDashType,y[y.length-1].newLineDashArray=p(w,u.lineThickness)):(w=u.lineDashType,y[y.length-1].newLineDashArray=S))),0!==c[m].markerSize&&(0<c[m].markerSize||0<u.markerSize)){var A=u.getMarkerProperties(m,d,f,i);o.push(A),k=h(k),H&&o.push({x:d,y:f,ctx:n,type:A.type,size:A.size,color:k,borderColor:k,borderThickness:A.borderThickness})}(c[m].indexLabel||u.indexLabel||c[m].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:c[m],dataSeries:u,point:{x:d,y:f},direction:0>c[m].y===t.axisY.reversed?1:-1,color:b}),f=!1}e(),ht.drawMarkers(o)}}return i.restore(),H&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderStepArea=function(t){function e(){b&&(0<u.lineThickness&&i.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?m=y:0>t.axisY.viewportMaximum?m=r.y1:0<t.axisY.viewportMinimum&&(m=a.y2),i.lineTo(d,m),i.lineTo(b.x,m),i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,H&&(n.lineTo(d,m),n.lineTo(b.x,m),n.closePath(),n.fill()),i.beginPath(),i.moveTo(d,f),n.beginPath(),n.moveTo(d,f),b={x:d,y:f})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,r=t.axisY.lineCoordinates,o=[],s=this.plotArea;for(i.save(),H&&n.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),H&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],c=u.dataPoints,o=u.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=h(o),n.fillStyle=o;var d,f,g,m,o=[],x=!0,v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),b=null,_=!1;if(0<c.length){var M=u._colorSet[v%u._colorSet.length],w=u._options.lineColor||M,T=w;i.fillStyle=M,i.strokeStyle=w,i.lineWidth=u.lineThickness;var S="solid";if(i.setLineDash){var C=p(u.nullDataLineDashType,u.lineThickness),S=u.lineDashType,k=p(S,u.lineThickness);i.setLineDash(k)}for(;v<c.length;v++)if(g=c[v].x.getTime?c[v].x.getTime():c[v].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!_))){var A=f;"number"!=typeof c[v].y?(u.connectNullData||_||x||e(),_=!0):(d=t.axisX.convertValueToPixel(g),f=t.axisY.convertValueToPixel(c[v].y),x||_?(!x&&u.connectNullData?(i.setLineDash&&(u._options.nullDataLineDashType||S===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),S=u.nullDataLineDashType,i.setLineDash(C)),i.lineTo(d,A),i.lineTo(d,f),H&&(n.lineTo(d,A),n.lineTo(d,f))):(i.beginPath(),i.moveTo(d,f),H&&(n.beginPath(),n.moveTo(d,f)),b={x:d,y:f}),_=x=!1):(i.lineTo(d,A),H&&n.lineTo(d,A),i.lineTo(d,f),H&&n.lineTo(d,f),0==v%250&&e()),v<c.length-1&&(T!==(c[v].lineColor||w)||S!==(c[v].lineDashType||u.lineDashType))&&(e(),T=c[v].lineColor||w,i.strokeStyle=T,i.setLineDash&&(c[v].lineDashType?(S=c[v].lineDashType,i.setLineDash(p(S,u.lineThickness))):(S=u.lineDashType,i.setLineDash(k)))),A=u.dataPointIds[v],this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:v,x1:d,y1:f},0!==c[v].markerSize&&(0<c[v].markerSize||0<u.markerSize)&&(g=u.getMarkerProperties(v,d,f,i),o.push(g),A=h(A),H&&o.push({x:d,y:f,ctx:n,type:g.type,size:g.size,color:A,borderColor:A,borderThickness:g.borderThickness})),(c[v].indexLabel||u.indexLabel||c[v].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:c[v],dataSeries:u,point:{x:d,y:f},direction:0>c[v].y===t.axisY.reversed?1:-1,color:M}))}e(),ht.drawMarkers(o)}}return i.restore(),H&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderStackedArea=function(t){function e(){if(!(1>d.length)){for(0<_.lineThickness&&i.stroke();0<d.length;){var t=d.pop();i.lineTo(t.x,t.y),H&&v.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=_.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(v.closePath(),v.fill(),v.beginPath()),d=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n,a,r,o=null,l=[],u=this.plotArea,c=[],d=[],f=[],g=[],m=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),v=this._eventManager.ghostCtx;H&&v.beginPath(),i.save(),H&&v.save(),i.beginPath(),i.rect(u.x1,u.y1,u.width,u.height),i.clip(),H&&(v.beginPath(),v.rect(u.x1,u.y1,u.width,u.height),v.clip());for(var y=[],u=0;u<t.dataSeriesIndexes.length;u++){var b=t.dataSeriesIndexes[u],_=this.data[b],M=_.dataPoints;for(_.dataPointIndexes=[],m=0;m<M.length;m++)b=M[m].x.getTime?M[m].x.getTime():M[m].x,_.dataPointIndexes[b]=m,y[b]||(f.push(b),y[b]=!0);f.sort(s)}for(u=0;u<t.dataSeriesIndexes.length;u++){if(b=t.dataSeriesIndexes[u],_=this.data[b],M=_.dataPoints,y=!0,d=[],m=_.id,this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:b},m=h(m),v.fillStyle=m,0<f.length){var o=_._colorSet[0],w=_._options.lineColor||o,T=w;i.fillStyle=o,i.strokeStyle=w,i.lineWidth=_.lineThickness;var S="solid";if(i.setLineDash){var C=p(_.nullDataLineDashType,_.lineThickness),S=_.lineDashType,k=p(S,_.lineThickness);i.setLineDash(k)}for(var A=!0,m=0;m<f.length;m++){r=f[m];var P=null,P=0<=_.dataPointIndexes[r]?M[_.dataPointIndexes[r]]:{x:r,y:null};if(!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax&&(!_.connectNullData||!A)))if("number"!=typeof P.y)_.connectNullData||A||y||e(),A=!0;else{n=t.axisX.convertValueToPixel(r);var F=c[r]?c[r]:0;if(t.axisY.logarithmic){if(g[r]=P.y+(g[r]?g[r]:0),0>=g[r])continue;a=t.axisY.convertValueToPixel(g[r])}else a=t.axisY.convertValueToPixel(P.y),a-=F;if(d.push({x:n,y:x-F}),c[r]=x-a,y||A?(!y&&_.connectNullData?(i.setLineDash&&(_._options.nullDataLineDashType||S===_.lineDashType&&_.lineDashType!==_.nullDataLineDashType)&&(i.stroke(),S=_.nullDataLineDashType,i.setLineDash(C)),i.lineTo(n,a),H&&v.lineTo(n,a)):(i.beginPath(),i.moveTo(n,a),H&&(v.beginPath(),v.moveTo(n,a))),A=y=!1):(i.lineTo(n,a),H&&v.lineTo(n,a),0==m%250&&(e(),i.moveTo(n,a),H&&v.moveTo(n,a),d.push({x:n,y:x-F}))),m<M.length-1&&(T!==(M[m].lineColor||w)||S!==(M[m].lineDashType||_.lineDashType))&&(e(),i.beginPath(),i.moveTo(n,a),d.push({x:n,y:x-F}),T=M[m].lineColor||w,i.strokeStyle=T,i.setLineDash&&(M[m].lineDashType?(S=M[m].lineDashType,i.setLineDash(p(S,_.lineThickness))):(S=_.lineDashType,i.setLineDash(k)))),0<=_.dataPointIndexes[r]){var D=_.dataPointIds[_.dataPointIndexes[r]];this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:_.dataPointIndexes[r],x1:n,y1:a}}0<=_.dataPointIndexes[r]&&0!==P.markerSize&&(0<P.markerSize||0<_.markerSize)&&(r=_.getMarkerProperties(m,n,a,i),l.push(r),markerColor=h(D),H&&l.push({x:n,y:a,ctx:v,type:r.type,size:r.size,color:markerColor,borderColor:markerColor,borderThickness:r.borderThickness})),(P.indexLabel||_.indexLabel||P.indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:P,dataSeries:_,point:{x:n,y:a},direction:0>M[m].y===t.axisY.reversed?1:-1,color:o})}}e(),i.moveTo(n,a),H&&v.moveTo(n,a)}delete _.dataPointIndexes}return ht.drawMarkers(l),i.restore(),H&&v.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderStackedArea100=function(t){function e(){for(0<_.lineThickness&&i.stroke();0<d.length;){var t=d.pop();i.lineTo(t.x,t.y),H&&v.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=_.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(v.closePath(),v.fill(),v.beginPath()),d=[]}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n,a,r,o=null,l=this.plotArea,u=[],c=[],d=[],f=[],g=[],m=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),v=this._eventManager.ghostCtx;i.save(),H&&v.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),H&&(v.beginPath(),v.rect(l.x1,l.y1,l.width,l.height),v.clip());for(var y=[],l=0;l<t.dataSeriesIndexes.length;l++){var b=t.dataSeriesIndexes[l],_=this.data[b],M=_.dataPoints;for(_.dataPointIndexes=[],m=0;m<M.length;m++)b=M[m].x.getTime?M[m].x.getTime():M[m].x,_.dataPointIndexes[b]=m,y[b]||(f.push(b),y[b]=!0);f.sort(s)}for(l=0;l<t.dataSeriesIndexes.length;l++){if(b=t.dataSeriesIndexes[l],_=this.data[b],M=_.dataPoints,y=!0,o=_.id,this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:b},o=h(o),v.fillStyle=o,d=[],0<f.length){var o=_._colorSet[m%_._colorSet.length],w=_._options.lineColor||o,T=w;i.fillStyle=o,i.strokeStyle=w,i.lineWidth=_.lineThickness;var S="solid";if(i.setLineDash){var C=p(_.nullDataLineDashType,_.lineThickness),S=_.lineDashType,k=p(S,_.lineThickness);i.setLineDash(k)}for(var A=!0,m=0;m<f.length;m++){r=f[m];var P=null,P=0<=_.dataPointIndexes[r]?M[_.dataPointIndexes[r]]:{x:r,y:null};if(!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax&&(!_.connectNullData||!A)))if("number"!=typeof P.y)_.connectNullData||A||y||e(),A=!0;else{var F;F=0!==t.dataPointYSums[r]?100*(P.y/t.dataPointYSums[r]):0,n=t.axisX.convertValueToPixel(r);var D=c[r]?c[r]:0;if(t.axisY.logarithmic){if(g[r]=F+(g[r]?g[r]:0),0>=g[r])continue;a=t.axisY.convertValueToPixel(g[r])}else a=t.axisY.convertValueToPixel(F),a-=D;if(d.push({x:n,y:x-D}),c[r]=x-a,y||A?(!y&&_.connectNullData?(i.setLineDash&&(_._options.nullDataLineDashType||S===_.lineDashType&&_.lineDashType!==_.nullDataLineDashType)&&(i.stroke(),S=_.nullDataLineDashType,i.setLineDash(C)),i.lineTo(n,a),H&&v.lineTo(n,a)):(i.beginPath(),i.moveTo(n,a),H&&(v.beginPath(),v.moveTo(n,a))),A=y=!1):(i.lineTo(n,a),H&&v.lineTo(n,a),0==m%250&&(e(),i.moveTo(n,a),H&&v.moveTo(n,a),d.push({x:n,y:x-D}))),m<M.length-1&&(T!==(M[m].lineColor||w)||S!==(M[m].lineDashType||_.lineDashType))&&(e(),i.beginPath(),i.moveTo(n,a),d.push({x:n,y:x-D}),T=M[m].lineColor||w,i.strokeStyle=T,i.setLineDash&&(M[m].lineDashType?(S=M[m].lineDashType,i.setLineDash(p(S,_.lineThickness))):(S=_.lineDashType,i.setLineDash(k)))),0<=_.dataPointIndexes[r]){var L=_.dataPointIds[_.dataPointIndexes[r]];this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:_.dataPointIndexes[r],x1:n,y1:a}}0<=_.dataPointIndexes[r]&&0!==P.markerSize&&(0<P.markerSize||0<_.markerSize)&&(r=_.getMarkerProperties(m,n,a,i),u.push(r),markerColor=h(L),H&&u.push({x:n,y:a,ctx:v,type:r.type,size:r.size,color:markerColor,borderColor:markerColor,borderThickness:r.borderThickness})),(P.indexLabel||_.indexLabel||P.indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:P,dataSeries:_,point:{x:n,y:a},direction:0>M[m].y===t.axisY.reversed?1:-1,color:o})}}e(),i.moveTo(n,a),H&&v.moveTo(n,a)}delete _.dataPointIndexes}return ht.drawMarkers(u),i.restore(),H&&v.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a=this.plotArea,r=0;e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var o=-(1/0),s=1/0,l=0;l<t.dataSeriesIndexes.length;l++)for(var u=t.dataSeriesIndexes[l],c=this.data[u],d=c.dataPoints,p=0,r=0;r<d.length;r++)i=i=d[r].getTime?d[r].x.getTime():d[r].x,i<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax||"undefined"==typeof d[r].z||(p=d[r].z,p>o&&(o=p),p<s&&(s=p));for(var f=25*Math.PI,a=Math.max(Math.pow(.25*Math.min(a.height,a.width)/2,2)*Math.PI,f),l=0;l<t.dataSeriesIndexes.length;l++)if(u=t.dataSeriesIndexes[l],c=this.data[u],d=c.dataPoints,0<d.length)for(e.strokeStyle="#4572A7 ",r=0;r<d.length;r++)if(i=i=d[r].getTime?d[r].x.getTime():d[r].x,!(i<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof d[r].y){i=t.axisX.convertValueToPixel(i),n=t.axisY.convertValueToPixel(d[r].y);var p=d[r].z,g=2*Math.max(Math.sqrt((o===s?a/2:f+(a-f)/(o-s)*(p-s))/Math.PI)<<0,1),p=c.getMarkerProperties(r,e);p.size=g,e.globalAlpha=c.fillOpacity,ht.drawMarker(i,n,e,p.type,p.size,p.color,p.borderColor,p.borderThickness),e.globalAlpha=1;var m=c.dataPointIds[r];this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:r,x1:i,y1:n,size:g},g=h(m),H&&ht.drawMarker(i,n,this._eventManager.ghostCtx,p.type,p.size,g,g,p.borderThickness),(d[r].indexLabel||c.indexLabel||d[r].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:d[r],dataSeries:c,point:{x:i,y:n},direction:1,bounds:{x1:i-p.size/2,y1:n-p.size/2,x2:i+p.size/2,y2:n+p.size/2},color:null})}return e.restore(),H&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0}}},S.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a=this.plotArea,r=0;e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var s=t.dataSeriesIndexes[o],l=this.data[s],u=l.dataPoints;if(0<u.length){e.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(a.height,a.width)/2,2);for(var c=0,d=0,r=0;r<u.length;r++)if(i=i=u[r].getTime?u[r].x.getTime():u[r].x,!(i<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof u[r].y){i=t.axisX.convertValueToPixel(i),n=t.axisY.convertValueToPixel(u[r].y);var p=l.getMarkerProperties(r,i,n,e);e.globalAlpha=l.fillOpacity,ht.drawMarker(p.x,p.y,p.ctx,p.type,p.size,p.color,p.borderColor,p.borderThickness),e.globalAlpha=1,Math.sqrt((c-i)*(c-i)+(d-n)*(d-n))<Math.min(p.size,5)&&u.length>Math.min(this.plotArea.width,this.plotArea.height)||(c=l.dataPointIds[r],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:r,x1:i,y1:n},c=h(c),H&&ht.drawMarker(p.x,p.y,this._eventManager.ghostCtx,p.type,p.size,c,c,p.borderThickness),(u[r].indexLabel||l.indexLabel||u[r].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:u[r],dataSeries:l,point:{x:i,y:n},direction:1,bounds:{x1:i-p.size/2,y1:n-p.size/2,x2:i+p.size/2,y2:n+p.size/2},color:null}),c=i,d=n)}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0}}},S.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var n,a,r,o,s,l,u=null,u=this.plotArea,c=0,c=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;n=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.015*this.width;var d=t.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:.7*u.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&c>n&&(c=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<c&&(n=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),c)),d<c&&(d=c),d>n&&(d=n),e.save(),H&&i.save(),e.beginPath(),e.rect(u.x1,u.y1,u.width,u.height),e.clip(),H&&(i.beginPath(),i.rect(u.x1,u.y1,u.width,u.height),i.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],g=this.data[f],m=g.dataPoints;if(0<m.length)for(var x=!!(5<d&&g.bevelEnabled),c=0;c<m.length;c++)if(l=m[c].getTime?m[c].x.getTime():m[c].x,!(l<t.axisX.dataInfo.viewPortMin||l>t.axisX.dataInfo.viewPortMax)&&null!==m[c].y&&m[c].y.length&&"number"==typeof m[c].y[0]&&"number"==typeof m[c].y[1]&&"number"==typeof m[c].y[2]&&"number"==typeof m[c].y[3]){n=t.axisX.convertValueToPixel(l),a=t.axisY.convertValueToPixel(m[c].y[0]),r=t.axisY.convertValueToPixel(m[c].y[1]),o=t.axisY.convertValueToPixel(m[c].y[2]),s=t.axisY.convertValueToPixel(m[c].y[3]);var v=n-d/2<<0,y=v+d<<0,u=m[c].color?m[c].color:g._colorSet[0],b=Math.round(Math.max(1,.15*d)),_=0===b%2?0:.5,M=g.dataPointIds[c];this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:c,x1:v,y1:a,x2:y,y2:r,x3:n,y3:o,x4:n,y4:s,borderThickness:b,color:u},e.strokeStyle=u,e.beginPath(),e.lineWidth=b,i.lineWidth=Math.max(b,4),"candlestick"===g.type?(e.moveTo(n-_,r),e.lineTo(n-_,Math.min(a,s)),e.stroke(),e.moveTo(n-_,Math.max(a,s)),e.lineTo(n-_,o),e.stroke(),ot(e,v,Math.min(a,s),y,Math.max(a,s),m[c].y[0]<=m[c].y[3]?g.risingColor:u,b,u,x,x,!1,!1,g.fillOpacity),H&&(u=h(M),i.strokeStyle=u,i.moveTo(n-_,r),i.lineTo(n-_,Math.min(a,s)),i.stroke(),i.moveTo(n-_,Math.max(a,s)),i.lineTo(n-_,o),i.stroke(),ot(i,v,Math.min(a,s),y,Math.max(a,s),u,0,null,!1,!1,!1,!1))):"ohlc"===g.type&&(e.moveTo(n-_,r),e.lineTo(n-_,o),e.stroke(),e.beginPath(),e.moveTo(n,a),e.lineTo(v,a),e.stroke(),e.beginPath(),e.moveTo(n,s),e.lineTo(y,s),e.stroke(),H&&(u=h(M),i.strokeStyle=u,i.moveTo(n-_,r),i.lineTo(n-_,o),i.stroke(),i.beginPath(),i.moveTo(n,a),i.lineTo(v,a),i.stroke(),i.beginPath(),i.moveTo(n,s),i.lineTo(y,s),i.stroke())),(m[c].indexLabel||g.indexLabel||m[c].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:g.type,dataPoint:m[c],dataSeries:g,point:{x:v+(y-v)/2,y:t.axisY.reversed?o:r},direction:1,bounds:{x1:v,y1:Math.min(r,o),x2:y,y2:Math.max(r,o)},color:u})}}return e.restore(),H&&i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0}}},S.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a=null,r=this.plotArea,o=0,o=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;i=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.03*this.width;var s=t.axisX.dataInfo.minDiff;isFinite(s)||(s=.3*Math.abs(t.axisX.range)),s=this.dataPointWidth?this.dataPointWidth:.9*(r.width*(t.axisX.logarithmic?Math.log(s)/Math.log(t.axisX.range):Math.abs(s)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&o>i&&(o=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<o&&(i=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),o)),s<o&&(s=o),s>i&&(s=i),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(r.x1,r.y1,r.width,r.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],c=this.data[u],d=c.dataPoints;if(0<d.length)for(var p=!!(5<s&&c.bevelEnabled),o=0;o<d.length;o++)if(n=d[o].getTime?d[o].x.getTime():d[o].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&null!==d[o].y&&d[o].y.length&&"number"==typeof d[o].y[0]&&"number"==typeof d[o].y[1]){a=t.axisX.convertValueToPixel(n),r=t.axisY.convertValueToPixel(d[o].y[0]),i=t.axisY.convertValueToPixel(d[o].y[1]);var f=t.axisX.reversed?a+t.plotType.totalDataSeries*s/2-(t.previousDataSeriesCount+l)*s<<0:a-t.plotType.totalDataSeries*s/2+(t.previousDataSeriesCount+l)*s<<0,g=t.axisX.reversed?f-s<<0:f+s<<0,a=d[o].color?d[o].color:c._colorSet[o%c._colorSet.length];if(r>i){var m=r,r=i;i=m}m=c.dataPointIds[o],this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:o,x1:f,y1:r,x2:g,y2:i},ot(e,f,r,g,i,a,0,a,p,p,!1,!1,c.fillOpacity),a=h(m),H&&ot(this._eventManager.ghostCtx,f,r,g,i,a,0,null,!1,!1,!1,!1),(d[o].indexLabel||c.indexLabel||d[o].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[o],dataSeries:c,indexKeyword:0,point:{x:f+(g-f)/2,y:d[o].y[1]>=d[o].y[0]?i:r},direction:d[o].y[1]>=d[o].y[0]?-1:1,bounds:{x1:f,y1:Math.min(r,i),x2:g,y2:Math.max(r,i)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[o],dataSeries:c,indexKeyword:1,point:{x:f+(g-f)/2,y:d[o].y[1]>=d[o].y[0]?r:i},direction:d[o].y[1]>=d[o].y[0]?1:-1,bounds:{x1:f,y1:Math.min(r,i),x2:g,y2:Math.max(r,i)},color:a}))}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0}}},S.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,r=null,o=this.plotArea,s=0,s=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;i=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0;var l=t.axisX.dataInfo.minDiff;isFinite(l)||(l=.3*Math.abs(t.axisX.range)),l=this.dataPointWidth?this.dataPointWidth:.9*(o.height*(t.axisX.logarithmic?Math.log(l)/Math.log(t.axisX.range):Math.abs(l)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&s>i&&(s=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<s&&(i=Math.max(this.dataPointWidth?this.dataPointWidth:-(1/0),s)),l<s&&(l=s),l>i&&(l=i),e.save(),H&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var u=0;u<t.dataSeriesIndexes.length;u++){var c=t.dataSeriesIndexes[u],d=this.data[c],p=d.dataPoints;if(0<p.length){var f=!!(5<l&&d.bevelEnabled);for(e.strokeStyle="#4572A7 ",s=0;s<p.length;s++)if(a=p[s].getTime?p[s].x.getTime():p[s].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&null!==p[s].y&&p[s].y.length&&"number"==typeof p[s].y[0]&&"number"==typeof p[s].y[1]){o=t.axisY.convertValueToPixel(p[s].y[0]),i=t.axisY.convertValueToPixel(p[s].y[1]),n=t.axisX.convertValueToPixel(a),n=t.axisX.reversed?n+t.plotType.totalDataSeries*l/2-(t.previousDataSeriesCount+u)*l<<0:n-t.plotType.totalDataSeries*l/2+(t.previousDataSeriesCount+u)*l<<0;var g=t.axisX.reversed?n-l<<0:n+l<<0;o>i&&(r=o,o=i,i=r),r=p[s].color?p[s].color:d._colorSet[s%d._colorSet.length],ot(e,o,n,i,g,r,0,null,f,!1,!1,!1,d.fillOpacity),r=d.dataPointIds[s],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:s,x1:o,y1:n,x2:i,y2:g},r=h(r),H&&ot(this._eventManager.ghostCtx,o,n,i,g,r,0,null,!1,!1,!1,!1),(p[s].indexLabel||d.indexLabel||p[s].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:p[s],dataSeries:d,indexKeyword:0,point:{x:p[s].y[1]>=p[s].y[0]?o:i,y:n+(g-n)/2},direction:p[s].y[1]>=p[s].y[0]?-1:1,bounds:{x1:Math.min(o,i),y1:n,x2:Math.max(o,i),y2:g},color:r}),this._indexLabels.push({chartType:"rangeBar",dataPoint:p[s],dataSeries:d,indexKeyword:1,point:{x:p[s].y[1]>=p[s].y[0]?i:o,y:n+(g-n)/2},direction:p[s].y[1]>=p[s].y[0]?1:-1,bounds:{x1:Math.min(o,i),y1:n,x2:Math.max(o,i),y2:g},color:r}))}}}return e.restore(),H&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:lt.fadeInAnimation,easingFunction:lt.easing.easeInQuad,animationBase:0}}},S.prototype.renderRangeArea=function(t){function e(){if(v){var t=null;0<l.lineThickness&&i.stroke();for(var e=o.length-1;0<=e;e--)t=o[e],i.lineTo(t.x,t.y),n.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=l.fillOpacity,i.fill(),i.globalAlpha=1,n.fill(),0<l.lineThickness){for(i.beginPath(),i.moveTo(t.x,t.y),e=0;e<o.length;e++)t=o[e],i.lineTo(t.x,t.y);i.stroke()}i.beginPath(),i.moveTo(c,d),n.beginPath(),n.moveTo(c,d),v={x:c,y:d},o=[],o.push({x:c,y:f})}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=[],r=this.plotArea;for(i.save(),H&&n.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),H&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip()),r=0;r<t.dataSeriesIndexes.length;r++){var o=[],s=t.dataSeriesIndexes[r],l=this.data[s],u=l.dataPoints,a=l.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:s},a=h(a),n.fillStyle=a;var c,d,f,g,a=[],m=!0,x=0,v=null;if(0<u.length){var y=l._colorSet[x%l._colorSet.length],b=l._options.lineColor||y,_=b;i.fillStyle=y,i.strokeStyle=b,i.lineWidth=l.lineThickness;var M="solid";if(i.setLineDash){var w=p(l.nullDataLineDashType,l.lineThickness),M=l.lineDashType,T=p(M,l.lineThickness);i.setLineDash(T)}for(var S=!0;x<u.length;x++)if(g=u[x].x.getTime?u[x].x.getTime():u[x].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!l.connectNullData||!S)))if(null!==u[x].y&&u[x].y.length&&"number"==typeof u[x].y[0]&&"number"==typeof u[x].y[1]){if(c=t.axisX.convertValueToPixel(g),d=t.axisY.convertValueToPixel(u[x].y[0]),f=t.axisY.convertValueToPixel(u[x].y[1]),m||S?(l.connectNullData&&!m?(i.setLineDash&&(l._options.nullDataLineDashType||M===l.lineDashType&&l.lineDashType!==l.nullDataLineDashType)&&(o[o.length-1].newLineDashArray=T,M=l.nullDataLineDashType,i.setLineDash(w)),i.lineTo(c,d),H&&n.lineTo(c,d),o.push({x:c,y:f})):(i.beginPath(),i.moveTo(c,d),v={x:c,y:d},o=[],o.push({x:c,y:f}),H&&(n.beginPath(),n.moveTo(c,d))),S=m=!1):(i.lineTo(c,d),o.push({x:c,y:f}),H&&n.lineTo(c,d),0==x%250&&e()),g=l.dataPointIds[x],this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:x,x1:c,y1:d,y2:f},x<u.length-1&&(_!==(u[x].lineColor||b)||M!==(u[x].lineDashType||l.lineDashType))&&(e(),_=u[x].lineColor||b,o[o.length-1].newStrokeStyle=_,i.strokeStyle=_,i.setLineDash&&(u[x].lineDashType?(M=u[x].lineDashType,o[o.length-1].newLineDashArray=p(M,l.lineThickness),i.setLineDash(o[o.length-1].newLineDashArray)):(M=l.lineDashType,o[o.length-1].newLineDashArray=T,i.setLineDash(T)))),0!==u[x].markerSize&&(0<u[x].markerSize||0<l.markerSize)){var C=l.getMarkerProperties(x,c,f,i);a.push(C);var k=h(g);H&&a.push({x:c,y:f,ctx:n,type:C.type,size:C.size,color:k,borderColor:k,borderThickness:C.borderThickness}),C=l.getMarkerProperties(x,c,d,i),a.push(C),k=h(g),H&&a.push({x:c,y:d,ctx:n,type:C.type,size:C.size,color:k,borderColor:k,borderThickness:C.borderThickness})}(u[x].indexLabel||l.indexLabel||u[x].indexLabelFormatter||l.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:u[x],dataSeries:l,indexKeyword:0,point:{x:c,y:d},direction:u[x].y[0]>u[x].y[1]===t.axisY.reversed?-1:1,color:y}),this._indexLabels.push({chartType:"rangeArea",dataPoint:u[x],dataSeries:l,indexKeyword:1,point:{x:c,y:f},direction:u[x].y[0]>u[x].y[1]===t.axisY.reversed?1:-1,color:y}))}else S||m||e(),S=!0;e(),ht.drawMarkers(a)}}return i.restore(),H&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}},S.prototype.renderRangeSplineArea=function(t){function e(t,e){var a=C(g,2);if(0<a.length){if(0<s.lineThickness){i.strokeStyle=e,i.setLineDash&&i.setLineDash(t),i.beginPath(),i.moveTo(a[0].x,a[0].y);for(var r=0;r<a.length-3;r+=3)(a[r].newStrokeStyle||a[r].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(a[r].x,a[r].y),a[r].newStrokeStyle&&(i.strokeStyle=a[r].newStrokeStyle),a[r].newLineDashArray&&i.setLineDash(a[r].newLineDashArray)),i.bezierCurveTo(a[r+1].x,a[r+1].y,a[r+2].x,a[r+2].y,a[r+3].x,a[r+3].y);i.stroke()}for(i.beginPath(),i.moveTo(a[0].x,a[0].y),H&&(n.beginPath(),n.moveTo(a[0].x,a[0].y)),r=0;r<a.length-3;r+=3)i.bezierCurveTo(a[r+1].x,a[r+1].y,a[r+2].x,a[r+2].y,a[r+3].x,a[r+3].y),H&&n.bezierCurveTo(a[r+1].x,a[r+1].y,a[r+2].x,a[r+2].y,a[r+3].x,a[r+3].y);for(a=C(m,2),i.lineTo(m[m.length-1].x,m[m.length-1].y),r=a.length-1;2<r;r-=3)i.bezierCurveTo(a[r-1].x,a[r-1].y,a[r-2].x,a[r-2].y,a[r-3].x,a[r-3].y),H&&n.bezierCurveTo(a[r-1].x,a[r-1].y,a[r-2].x,a[r-2].y,a[r-3].x,a[r-3].y);if(i.closePath(),i.globalAlpha=s.fillOpacity,i.fill(),H&&(n.closePath(),n.fill()),i.globalAlpha=1,0<s.lineThickness){i.strokeStyle=e,i.setLineDash&&i.setLineDash(t),i.beginPath(),i.moveTo(a[0].x,a[0].y);for(var o=r=0;r<a.length-3;r+=3,o++)(g[o].newStrokeStyle||g[o].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(a[r].x,a[r].y),g[o].newStrokeStyle&&(i.strokeStyle=g[o].newStrokeStyle),g[o].newLineDashArray&&i.setLineDash(g[o].newLineDashArray)),i.bezierCurveTo(a[r+1].x,a[r+1].y,a[r+2].x,a[r+2].y,a[r+3].x,a[r+3].y);i.stroke()}i.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=[],r=this.plotArea;for(i.save(),H&&n.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),H&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip()),r=0;r<t.dataSeriesIndexes.length;r++){var o=t.dataSeriesIndexes[r],s=this.data[o],l=s.dataPoints,a=s.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:o},a=h(a),n.fillStyle=a;var u,c,d,a=[],f=0,g=[],m=[];if(0<l.length){var x=s._colorSet[f%s._colorSet.length],v=s._options.lineColor||x,y=v;i.fillStyle=x,i.lineWidth=s.lineThickness;var b,_="solid";if(i.setLineDash){var M=p(s.nullDataLineDashType,s.lineThickness),_=s.lineDashType;b=p(_,s.lineThickness)}for(c=!1;f<l.length;f++)if(u=l[f].x.getTime?l[f].x.getTime():l[f].x,!(u<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!c)))if(null!==l[f].y&&l[f].y.length&&"number"==typeof l[f].y[0]&&"number"==typeof l[f].y[1]){
u=t.axisX.convertValueToPixel(u),c=t.axisY.convertValueToPixel(l[f].y[0]),d=t.axisY.convertValueToPixel(l[f].y[1]);var w=s.dataPointIds[f];if(this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:f,x1:u,y1:c,y2:d},g[g.length]={x:u,y:c},m[m.length]={x:u,y:d},f<l.length-1&&(y!==(l[f].lineColor||v)||_!==(l[f].lineDashType||s.lineDashType))&&(y=l[f].lineColor||v,g[g.length-1].newStrokeStyle=y,i.setLineDash&&(l[f].lineDashType?(_=l[f].lineDashType,g[g.length-1].newLineDashArray=p(_,s.lineThickness)):(_=s.lineDashType,g[g.length-1].newLineDashArray=b))),0!==l[f].markerSize&&(0<l[f].markerSize||0<s.markerSize)){var T=s.getMarkerProperties(f,u,c,i);a.push(T);var S=h(w);H&&a.push({x:u,y:c,ctx:n,type:T.type,size:T.size,color:S,borderColor:S,borderThickness:T.borderThickness}),T=s.getMarkerProperties(f,u,d,i),a.push(T),S=h(w),H&&a.push({x:u,y:d,ctx:n,type:T.type,size:T.size,color:S,borderColor:S,borderThickness:T.borderThickness})}(l[f].indexLabel||s.indexLabel||l[f].indexLabelFormatter||s.indexLabelFormatter)&&(this._indexLabels.push({chartType:"splineArea",dataPoint:l[f],dataSeries:s,indexKeyword:0,point:{x:u,y:c},direction:l[f].y[0]<=l[f].y[1]?-1:1,color:x}),this._indexLabels.push({chartType:"splineArea",dataPoint:l[f],dataSeries:s,indexKeyword:1,point:{x:u,y:d},direction:l[f].y[0]<=l[f].y[1]?1:-1,color:x})),c=!1}else 0<f&&!c&&(s.connectNullData?i.setLineDash&&0<g.length&&(s._options.nullDataLineDashType||!l[f-1].lineDashType)&&(g[g.length-1].newLineDashArray=M,_=s.nullDataLineDashType):(e(b,v),g=[],m=[])),c=!0;e(b,v),ht.drawMarkers(a)}}return i.restore(),H&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:lt.xClipAnimation,easingFunction:lt.easing.linear,animationBase:0}}};var st=function(t,e,i,n,a,r,o,s,l){if(!(0>i)){if("undefined"==typeof s&&(s=1),!H){var h=Number((o%(2*Math.PI)).toFixed(8));Number((r%(2*Math.PI)).toFixed(8))===h&&(o-=1e-4)}t.save(),t.globalAlpha=s,"pie"===a?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,r,o,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===a&&(t.beginPath(),t.arc(e.x,e.y,i,r,o,!1),0<=l&&t.arc(e.x,e.y,l*i,o,r,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};S.prototype.renderPie=function(t){function e(){if(u&&d){for(var t=0,e=0,i=0,n=0,a=0;a<d.length;a++){var r=d[a],o=u.dataPointIds[a],s={id:o,objectType:"dataPoint",dataPointIndex:a,dataSeriesIndex:0};m.push(s);var h={percent:null,total:null},p=null,h=l.getPercentAndTotal(u,r);(u.indexLabelFormatter||r.indexLabelFormatter)&&(p={chart:l._options,dataSeries:u,dataPoint:r,total:h.total,percent:h.percent}),h=r.indexLabelFormatter?r.indexLabelFormatter(p):r.indexLabel?l.replaceKeywordsWithValue(r.indexLabel,r,u,a):u.indexLabelFormatter?u.indexLabelFormatter(p):u.indexLabel?l.replaceKeywordsWithValue(u.indexLabel,r,u,a):r.label?r.label:"",l._eventManager.objectMap[o]=s,s.center={x:_.x,y:_.y},s.y=r.y,s.radius=T,s.percentInnerRadius=C,s.indexLabelText=h,s.indexLabelPlacement=u.indexLabelPlacement,s.indexLabelLineColor=r.indexLabelLineColor?r.indexLabelLineColor:u.indexLabelLineColor?u.indexLabelLineColor:r.color?r.color:u._colorSet[a%u._colorSet.length],s.indexLabelLineThickness=c(r.indexLabelLineThickness)?u.indexLabelLineThickness:r.indexLabelLineThickness,s.indexLabelLineDashType=r.indexLabelLineDashType?r.indexLabelLineDashType:u.indexLabelLineDashType,s.indexLabelFontColor=r.indexLabelFontColor?r.indexLabelFontColor:u.indexLabelFontColor,s.indexLabelFontStyle=r.indexLabelFontStyle?r.indexLabelFontStyle:u.indexLabelFontStyle,s.indexLabelFontWeight=r.indexLabelFontWeight?r.indexLabelFontWeight:u.indexLabelFontWeight,s.indexLabelFontSize=r.indexLabelFontSize?r.indexLabelFontSize:u.indexLabelFontSize,s.indexLabelFontFamily=r.indexLabelFontFamily?r.indexLabelFontFamily:u.indexLabelFontFamily,s.indexLabelBackgroundColor=r.indexLabelBackgroundColor?r.indexLabelBackgroundColor:u.indexLabelBackgroundColor?u.indexLabelBackgroundColor:null,s.indexLabelMaxWidth=r.indexLabelMaxWidth?r.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*g.width,s.indexLabelWrap="undefined"!=typeof r.indexLabelWrap?r.indexLabelWrap:u.indexLabelWrap,s.startAngle=0===a?u.startAngle?u.startAngle/180*Math.PI:0:m[a-1].endAngle,s.startAngle=(s.startAngle+2*Math.PI)%(2*Math.PI),s.endAngle=s.startAngle+2*Math.PI/M*Math.abs(r.y),r=(s.endAngle+s.startAngle)/2,r=(r+2*Math.PI)%(2*Math.PI),s.midAngle=r,s.midAngle>Math.PI/2-y&&s.midAngle<Math.PI/2+y?((0===t||m[i].midAngle>s.midAngle)&&(i=a),t++):s.midAngle>3*Math.PI/2-y&&s.midAngle<3*Math.PI/2+y&&((0===e||m[n].midAngle>s.midAngle)&&(n=a),e++),s.hemisphere=r>Math.PI/2&&r<=3*Math.PI/2?"left":"right",s.indexLabelTextBlock=new P(l.plotArea.ctx,{fontSize:s.indexLabelFontSize,fontFamily:s.indexLabelFontFamily,fontColor:s.indexLabelFontColor,fontStyle:s.indexLabelFontStyle,fontWeight:s.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:s.indexLabelBackgroundColor,maxWidth:s.indexLabelMaxWidth,maxHeight:s.indexLabelWrap?5*s.indexLabelFontSize:1.5*s.indexLabelFontSize,text:s.indexLabelText,padding:0,textBaseline:"top"}),s.indexLabelTextBlock.measureText()}for(o=r=0,h=!1,a=0;a<d.length;a++)s=m[(i+a)%d.length],1<t&&s.midAngle>Math.PI/2-y&&s.midAngle<Math.PI/2+y&&(r<=t/2&&!h?(s.hemisphere="right",r++):(s.hemisphere="left",h=!0));for(h=!1,a=0;a<d.length;a++)s=m[(n+a)%d.length],1<e&&s.midAngle>3*Math.PI/2-y&&s.midAngle<3*Math.PI/2+y&&(o<=e/2&&!h?(s.hemisphere="left",o++):(s.hemisphere="right",h=!0))}}function i(t){var e=l.plotArea.ctx;for(e.clearRect(g.x1,g.y1,g.width,g.height),e.fillStyle=l.backgroundColor,e.fillRect(g.x1,g.y1,g.width,g.height),e=0;e<d.length;e++){var i=m[e].startAngle,n=m[e].endAngle;if(n>i){var a=.07*T*Math.cos(m[e].midAngle),r=.07*T*Math.sin(m[e].midAngle),o=!1;d[e].exploded?(1e-9<Math.abs(m[e].center.x-(_.x+a))||1e-9<Math.abs(m[e].center.y-(_.y+r)))&&(m[e].center.x=_.x+a*t,m[e].center.y=_.y+r*t,o=!0):(0<Math.abs(m[e].center.x-_.x)||0<Math.abs(m[e].center.y-_.y))&&(m[e].center.x=_.x+a*(1-t),m[e].center.y=_.y+r*(1-t),o=!0),o&&(a={},a.dataSeries=u,a.dataPoint=u.dataPoints[e],a.index=e,l._toolTip.highlightObjects([a])),st(l.plotArea.ctx,m[e].center,m[e].radius,d[e].color?d[e].color:u._colorSet[e%u._colorSet.length],u.type,i,n,u.fillOpacity,m[e].percentInnerRadius)}}for(t=l.plotArea.ctx,t.save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<d.length;e++)i=m[e],i.indexLabelText&&(i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2,n=0,n="left"===i.hemisphere?"inside"!==u.indexLabelPlacement?-(i.indexLabelTextBlock.width+f):-i.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?f:-i.indexLabelTextBlock.width/2,i.indexLabelTextBlock.x+=n,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=n,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&0<i.indexLabelLineThickness&&(n=i.center.x+T*Math.cos(i.midAngle),a=i.center.y+T*Math.sin(i.midAngle),t.strokeStyle=i.indexLabelLineColor,t.lineWidth=i.indexLabelLineThickness,t.setLineDash&&t.setLineDash(p(i.indexLabelLineDashType,i.indexLabelLineThickness)),t.beginPath(),t.moveTo(n,a),t.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),t.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-f:f),i.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function n(t,e){var i=0,i=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,n=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,a=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,r=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return i=e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?a-n:i-r}function a(t){for(var e=null,i=1;i<d.length;i++){if(e=(t+i+m.length)%m.length,m[e].hemisphere!==m[t].hemisphere){e=null;break}if(m[e].indexLabelText&&e!==t&&(0>n(m[e],m[t])||("right"===m[t].hemisphere?m[e].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y:m[e].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y)))break;e=null}return e}function r(t,e,i){if(i=(i||0)+1,1e3<i)return 0;e=e||0;var o=0,s=_.y-1*h,l=_.y+1*h;if(0<=t&&t<d.length){var u=m[t];if(0>e&&u.indexLabelTextBlock.y<s||0<e&&u.indexLabelTextBlock.y>l)return 0;var c=0,p=0,p=c=c=0;for(0>e?u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2>s&&u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2+e<s&&(e=-(s-(u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2+e))):u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2<s&&u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2+e>l&&(e=u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2+e-l),e=u.indexLabelTextBlock.y+e,s=0,s="right"===u.hemisphere?_.x+Math.sqrt(Math.pow(h,2)-Math.pow(e-_.y,2)):_.x-Math.sqrt(Math.pow(h,2)-Math.pow(e-_.y,2)),p=_.x+T*Math.cos(u.midAngle),c=_.y+T*Math.sin(u.midAngle),c=Math.sqrt(Math.pow(s-p,2)+Math.pow(e-c,2)),p=Math.acos(T/h),c=Math.acos((h*h+T*T-c*c)/(2*T*h)),e=c<p?e-u.indexLabelTextBlock.y:0,s=null,l=1;l<d.length;l++){if(s=(t-l+m.length)%m.length,m[s].hemisphere!==m[t].hemisphere){s=null;break}if(m[s].indexLabelText&&m[s].hemisphere===m[t].hemisphere&&s!==t&&(0>n(m[s],m[t])||("right"===m[t].hemisphere?m[s].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y:m[s].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y)))break;s=null}p=s,c=a(t),l=s=0,0>e?(l="right"===u.hemisphere?p:c,o=e,null!==l&&(p=-e,e=u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2-(m[l].indexLabelTextBlock.y+m[l].indexLabelTextBlock.height/2),e-p<x&&(s=-p,l=r(l,s,i+1),+l.toFixed(b)>+s.toFixed(b)&&(o=e>x?-(e-x):-(p-(l-s)))))):0<e&&(l="right"===u.hemisphere?c:p,o=e,null!==l&&(p=e,e=m[l].indexLabelTextBlock.y-m[l].indexLabelTextBlock.height/2-(u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2),e-p<x&&(s=p,l=r(l,s,i+1),+l.toFixed(b)<+s.toFixed(b)&&(o=e>x?e-x:p-(s-l))))),o&&(i=u.indexLabelTextBlock.y+o,e=0,e="right"===u.hemisphere?_.x+Math.sqrt(Math.pow(h,2)-Math.pow(i-_.y,2)):_.x-Math.sqrt(Math.pow(h,2)-Math.pow(i-_.y,2)),u.midAngle>Math.PI/2-y&&u.midAngle<Math.PI/2+y?(s=(t-1+m.length)%m.length,s=m[s],t=m[(t+1+m.length)%m.length],"left"===u.hemisphere&&"right"===s.hemisphere&&e>s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x-15:"right"===u.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):u.midAngle>3*Math.PI/2-y&&u.midAngle<3*Math.PI/2+y&&(s=(t-1+m.length)%m.length,s=m[s],t=m[(t+1+m.length)%m.length],"right"===u.hemisphere&&"left"===s.hemisphere&&e<s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x+15:"left"===u.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),u.indexLabelTextBlock.y=i,u.indexLabelTextBlock.x=e,u.indexLabelAngle=Math.atan2(u.indexLabelTextBlock.y-_.y,u.indexLabelTextBlock.x-_.x))}return o}function o(){var t=l.plotArea.ctx;t.fillStyle="grey",t.strokeStyle="grey",t.font="16px Arial",t.textBaseline="middle";for(var e=t=0,i=0,o=!0,e=0;10>e&&(1>e||0<i);e++){if((u.radius||!u.radius&&"undefined"!=typeof u.innerRadius&&null!==u.innerRadius&&T-i<=S)&&(o=!1),o&&(T-=i),i=0,"inside"!==u.indexLabelPlacement){for(h=T*v,t=0;t<d.length;t++){var s=m[t];s.indexLabelTextBlock.x=_.x+h*Math.cos(s.midAngle),s.indexLabelTextBlock.y=_.y+h*Math.sin(s.midAngle),s.indexLabelAngle=s.midAngle,s.radius=T,s.percentInnerRadius=C}for(var c,p,t=0;t<d.length;t++){var s=m[t],y=a(t);if(null!==y){c=m[t],p=m[y];var M=0,M=n(c,p)-x;if(0>M){for(var w=p=0,k=0;k<d.length;k++)k!==t&&m[k].hemisphere===s.hemisphere&&(m[k].indexLabelTextBlock.y<s.indexLabelTextBlock.y?p++:w++);p=M/(p+w||1)*w;var w=-1*(M-p),A=k=0;"right"===s.hemisphere?(k=r(t,p),w=-1*(M-k),A=r(y,w),+A.toFixed(b)<+w.toFixed(b)&&+k.toFixed(b)<=+p.toFixed(b)&&r(t,-(w-A))):(k=r(y,p),w=-1*(M-k),A=r(t,w),+A.toFixed(b)<+w.toFixed(b)&&+k.toFixed(b)<=+p.toFixed(b)&&r(y,-(w-A)))}}}}else for(t=0;t<d.length;t++)s=m[t],h="pie"===u.type?.7*T:.8*T,y=_.x+h*Math.cos(s.midAngle),p=_.y+h*Math.sin(s.midAngle),s.indexLabelTextBlock.x=y,s.indexLabelTextBlock.y=p;for(t=0;t<d.length;t++)s=m[t],y=s.indexLabelTextBlock.measureText(),0!==y.height&&0!==y.width&&(y=y=0,"right"===s.hemisphere?(y=g.x2-(s.indexLabelTextBlock.x+s.indexLabelTextBlock.width+f),y*=-1):y=g.x1-(s.indexLabelTextBlock.x-s.indexLabelTextBlock.width-f),0<y&&(!o&&s.indexLabelText&&(p="right"===s.hemisphere?g.x2-s.indexLabelTextBlock.x:s.indexLabelTextBlock.x-g.x1,.3*s.indexLabelTextBlock.maxWidth>p?s.indexLabelText="":s.indexLabelTextBlock.maxWidth=.85*p,.3*s.indexLabelTextBlock.maxWidth<p&&(s.indexLabelTextBlock.x-="right"===s.hemisphere?2:-2)),Math.abs(s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2-_.y)<T||Math.abs(s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2-_.y)<T)&&(y/=Math.abs(Math.cos(s.indexLabelAngle)),9<y&&(y*=.3),y>i&&(i=y)),y=y=0,0<s.indexLabelAngle&&s.indexLabelAngle<Math.PI?(y=g.y2-(s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2+5),y*=-1):y=g.y1-(s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2-5),0<y&&(!o&&s.indexLabelText&&(p=0<s.indexLabelAngle&&s.indexLabelAngle<Math.PI?-1:1,0===r(t,y*p)&&r(t,2*p)),Math.abs(s.indexLabelTextBlock.x-_.x)<T&&(y/=Math.abs(Math.sin(s.indexLabelAngle)),9<y&&(y*=.3),y>i&&(i=y))));var P=function(t,e,i){for(var n=[],a=0;n.push(m[e]),e!==i;e=(e+1+d.length)%d.length);for(n.sort(function(t,e){return t.y-e.y}),e=0;e<n.length&&(i=n[e],a<.7*t);e++)a+=i.indexLabelTextBlock.height,i.indexLabelTextBlock.text="",i.indexLabelText="",i.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,i=0,r=!1,o=0;o<d.length;o++)if(r=!1,c=m[o],c.indexLabelText){var s=a(o);if(null!==s){var l=m[s];M=0,M=n(c,l);var h;if(h=0>M){h=c.indexLabelTextBlock.x;var u=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2,p=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2,g=l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2,x=l.indexLabelTextBlock.x+l.indexLabelTextBlock.width,v=l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2;h=!(c.indexLabelTextBlock.x+c.indexLabelTextBlock.width<l.indexLabelTextBlock.x-f||h>x+f||u>v+f||p<g-f)}h?(0>t&&(t=o),s!==t&&(e=s,i+=-M),0===o%Math.max(d.length/10,3)&&(r=!0)):r=!0,r&&0<i&&0<=t&&0<=e&&(P(i,t,e),e=t=-1,i=0)}}0<i&&P(i,t,e)}()}}function s(){if(l.plotArea.layoutManager.reset(),l._title&&(l._title.dockInsidePlotArea||"center"===l._title.horizontalAlign&&"center"===l._title.verticalAlign)&&l._title.render(),l.subtitles)for(var t=0;t<l.subtitles.length;t++){var e=l.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}l.legend&&(l.legend.dockInsidePlotArea||"center"===l.legend.horizontalAlign&&"center"===l.legend.verticalAlign)&&l.legend.render()}var l=this;if(!(0>=t.dataSeriesIndexes.length)){var h,u=this.data[t.dataSeriesIndexes[0]],d=u.dataPoints,f=10,g=this.plotArea,m=[],x=2,v=1.3,y=20/180*Math.PI,b=6,_={x:(g.x2+g.x1)/2,y:(g.y2+g.y1)/2},M=0;t=!1;for(var w=0;w<d.length;w++)M+=Math.abs(d[w].y),!t&&"undefined"!=typeof d[w].indexLabel&&null!==d[w].indexLabel&&0<d[w].indexLabel.toString().length&&(t=!0),!t&&"undefined"!=typeof d[w].label&&null!==d[w].label&&0<d[w].label.toString().length&&(t=!0);if(0!==M){t=t||"undefined"!=typeof u.indexLabel&&null!==u.indexLabel&&0<u.indexLabel.toString().length;var T="inside"!==u.indexLabelPlacement&&t?.75*Math.min(g.width,g.height)/2:.92*Math.min(g.width,g.height)/2;u.radius&&(T=k(u.radius,T));var S="undefined"!=typeof u.innerRadius&&null!==u.innerRadius?k(u.innerRadius,T):.7*T,C=Math.min(S/T,(T-1)/T);this.pieDoughnutClickHandler=function(t){l.isAnimating||!c(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||(t=t.dataPoint,t.exploded=!t.exploded,1<this.dataPoints.length&&l._animator.animate(0,500,function(t){i(t),s()}))},e(),o(),o(),o(),o(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(t){var e=l.plotArea.ctx;for(e.clearRect(g.x1,g.y1,g.width,g.height),e.fillStyle=l.backgroundColor,e.fillRect(g.x1,g.y1,g.width,g.height),t=m[0].startAngle+2*Math.PI*t,e=0;e<d.length;e++){var i=0===e?m[e].startAngle:n,n=i+(m[e].endAngle-m[e].startAngle),a=!1;n>t&&(n=t,a=!0);var r=d[e].color?d[e].color:u._colorSet[e%u._colorSet.length];if(n>i&&st(l.plotArea.ctx,m[e].center,m[e].radius,r,u.type,i,n,u.fillOpacity,m[e].percentInnerRadius),a)break}s()},function(){l.disableToolTip=!1,l._animator.animate(0,l.animatedRender?500:0,function(t){i(t),s()})})}}},S.prototype.animationRequestId=null,S.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),S.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,A.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},A.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},A.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},A.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},t(P,T),P.prototype.render=function(t){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var n=0,a=this.padding,r=null;for((0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,i=0;i<this._wrappedText.lines.length;i++)r=this._wrappedText.lines[i],"right"===this.horizontalAlign?n=this.width-r.width-this.padding:"left"===this.horizontalAlign?n=this.padding:"center"===this.horizontalAlign&&(n=(this.width-2*this.padding)/2-r.width/2+this.padding),this.ctx.fillText(r.text,n,a),a+=r.height;this.ctx.font=e,t&&this.ctx.restore()},P.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},P.prototype.measureText=function(){if(this._lineHeight=d(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},P.prototype._getLineWithWidth=function(t,e,i){if(t=String(t),!t)return{text:"",width:0};var n=i=0,a=t.length-1,r=1/0;for(this.ctx.font=this._getFontString();n<=a;){var r=Math.floor((n+a)/2),o=t.substr(0,r+1);if(i=this.ctx.measureText(o).width,i<e)n=r+1;else{if(!(i>e))break;a=r-1}}return i>e&&1<o.length&&(o=o.substr(0,o.length-1),i=this.ctx.measureText(o).width),e=!0,o.length!==t.length&&" "!==t[o.length]||(e=!1),e&&(t=o.split(" "),1<t.length&&t.pop(),o=t.join(" "),i=this.ctx.measureText(o).width),{text:o,width:i}},P.prototype._wrapText=function(){var t=new String(r(String(this.text))),e=[],i=this.ctx.font,n=0,a=0;for(this.ctx.font=this._getFontString();0<t.length;){var o=this.maxHeight-2*this.padding,s=this._getLineWithWidth(t,this.maxWidth-2*this.padding,!1);s.height=this._lineHeight,e.push(s);var l=a,a=Math.max(a,s.width),n=n+s.height,t=r(t.slice(s.text.length,t.length));o&&n>o&&(s=e.pop(),n-=s.height,a=l)}this._wrappedText={lines:e,width:a,height:n},this.width=a+2*this.padding,this.height=n+2*this.padding,this.ctx.font=i},P.prototype._getFontString=function(){var t;t=""+(this.fontStyle?this.fontStyle+" ":""),t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!H&&e&&(e=e.split(",")[0],"'"!==e[0]&&'"'!==e[0]&&(e="'"+e+"'")),t+=e},t(F,T),F.prototype.render=function(){if(this.text){var t,e,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,n=i.layoutManager.getFreeSpace(),a=n.x1,r=n.y1,o=0,s=0,l=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=n.width-4-l*("center"===this.horizontalAlign?2:1)),s=.5*n.height-this.margin-2,o=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=n.height-4),s=.5*n.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=n.width-4),s=.5*n.height-4)),this.wrap||(s=Math.min(s,Math.max(1.5*this.fontSize,this.fontSize+2.5*this.padding)));var s=new P(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:s,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),h=s.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(r=n.y1+2,e="top"):"bottom"===this.verticalAlign&&(r=n.y2-2-h.height,e="bottom"),"left"===this.horizontalAlign?a=n.x1+2:"center"===this.horizontalAlign?a=n.x1+n.width/2-h.width/2:"right"===this.horizontalAlign&&(a=n.x2-2-h.width-l),t=this.horizontalAlign,this.width=h.width,this.height=h.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(a=n.x1+2,r=n.y2-2-(this.maxWidth/2-h.width/2),o=-90,e="left",this.width=h.height,this.height=h.width):"right"===this.horizontalAlign?(a=n.x2-2,r=n.y1+2+(this.maxWidth/2-h.width/2),o=90,e="right",this.width=h.height,this.height=h.width):"center"===this.horizontalAlign&&(r=i.y1+(i.height/2-h.height/2),a=i.x1+(i.width/2-h.width/2),e="center",this.width=h.width,this.height=h.height),t="center"),s.x=a,s.y=r,s.angle=o,s.horizontalAlign=t,s.render(!0),i.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:a,y1:r,x2:a+this.width,y2:r+this.height},this.ctx.textBaseline="top"}},t(D,T),D.prototype.render=F.prototype.render,t(L,T),L.prototype.render=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,n=0,a=0,r=0,o=0,s=this.chart._options.legend&&!c(this.chart._options.legend.markerMargin)?this.chart._options.legend.markerMargin:.3*this.fontSize;this.height=0;var l=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,r=null!==this.maxWidth?this.maxWidth:e.width,o=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,r=null!==this.maxWidth?this.maxWidth:.5*e.width,o=null!==this.maxHeight?this.maxHeight:e.height);for(var d=0;d<this.dataSeries.length;d++){var p=this.dataSeries[d];if("pie"!==p.type&&"doughnut"!==p.type&&"funnel"!==p.type){var f=p.legendMarkerType?p.legendMarkerType:"line"!==p.type&&"stepLine"!==p.type&&"spline"!==p.type&&"scatter"!==p.type&&"bubble"!==p.type||!p.markerType?I.getDefaultLegendMarker(p.type):p.markerType,g=p.legendText?p.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart._publicChartReference,legend:this._options,dataSeries:p,dataPoint:null}):p.name,m=p.legendMarkerColor?p.legendMarkerColor:p.markerColor?p.markerColor:p._colorSet[0],x=p.markerSize||"line"!==p.type&&"stepLine"!==p.type&&"spline"!==p.type?.75*this.lineHeight:0,v=p.legendMarkerBorderColor?p.legendMarkerBorderColor:p.markerBorderColor,y=p.legendMarkerBorderThickness?p.legendMarkerBorderThickness:p.markerBorderThickness?Math.max(1,Math.round(.2*x)):0,g=this.chart.replaceKeywordsWithValue(g,p.dataPoints[0],p,d),f={markerType:f,markerColor:m,text:g,textBlock:null,chartType:p.type,markerSize:x,lineColor:p._colorSet[0],dataSeriesIndex:p.index,dataPointIndex:null,markerBorderColor:v,markerBorderThickness:y};l.push(f)}else for(var b=0;b<p.dataPoints.length;b++){var _=p.dataPoints[b],f=_.legendMarkerType?_.legendMarkerType:p.legendMarkerType?p.legendMarkerType:I.getDefaultLegendMarker(p.type),g=_.legendText?_.legendText:p.legendText?p.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart._publicChartReference,legend:this._options,dataSeries:p,dataPoint:_}):_.name?_.name:"DataPoint: "+(b+1),m=_.legendMarkerColor?_.legendMarkerColor:p.legendMarkerColor?p.legendMarkerColor:_.color?_.color:p.color?p.color:p._colorSet[b%p._colorSet.length],x=.75*this.lineHeight,v=_.legendMarkerBorderColor?_.legendMarkerBorderColor:p.legendMarkerBorderColor?p.legendMarkerBorderColor:_.markerBorderColor?_.markerBorderColor:p.markerBorderColor,y=_.legendMarkerBorderThickness?_.legendMarkerBorderThickness:p.legendMarkerBorderThickness?p.legendMarkerBorderThickness:_.markerBorderThickness||p.markerBorderThickness?Math.max(1,Math.round(.2*x)):0,g=this.chart.replaceKeywordsWithValue(g,_,p,b),f={markerType:f,markerColor:m,text:g,textBlock:null,chartType:p.type,markerSize:x,dataSeriesIndex:d,dataPointIndex:b,markerBorderColor:v,markerBorderThickness:y};(_.showInLegend||p.showInLegend&&!1!==_.showInLegend)&&l.push(f)}}if(!0===this.reversed&&l.reverse(),0<l.length){for(p=null,b=g=_=0,g=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,r):Math.min(this.itemWidth,r):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,r):r,x=0===x?.75*this.lineHeight:x,g-=x+s,d=0;d<l.length;d++)f=l[d],"line"!==f.chartType&&"spline"!==f.chartType&&"stepLine"!==f.chartType||(g-=.2*this.lineHeight),0>=o||"undefined"==typeof o||0>=g||"undefined"==typeof g||("horizontal"===this.orientation?(f.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:g,maxHeight:this.itemWrap?o:this.lineHeight,angle:0,text:f.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),f.textBlock.measureText(),null!==this.itemWidth&&(f.textBlock.width=this.itemWidth-(x+s+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))),(!p||p.width+Math.round(f.textBlock.width+x+s+(0===p.width?0:this.horizontalSpacing)+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))>r)&&(p={items:[],width:0},u.push(p),this.height+=b,b=0),b=Math.max(b,f.textBlock.height)):(f.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:g,maxHeight:!0===this.itemWrap?o:1.5*this.fontSize,angle:0,text:f.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),f.textBlock.measureText(),null!==this.itemWidth&&(f.textBlock.width=this.itemWidth-(x+s+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))),this.height<o-this.lineHeight?(p={items:[],width:0},u.push(p)):(p=u[_],_=(_+1)%u.length),this.height+=f.textBlock.height),f.textBlock.x=p.width,f.textBlock.y=0,p.width+=Math.round(f.textBlock.width+x+s+(0===p.width?0:this.horizontalSpacing)+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0)),p.items.push(f),this.width=Math.max(p.width,this.width));this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+b,this.height=Math.min(o,this.height),this.width=Math.min(r,this.width)}for("top"===this.verticalAlign?(a="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y1):"center"===this.verticalAlign?(a="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(a="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,n=e.y2-this.height),this.items=l,d=0;d<this.items.length;d++)f=l[d],f.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[f.id]={id:f.id,objectType:"legendItem",legendItemIndex:d,dataSeriesIndex:f.dataSeriesIndex,dataPointIndex:f.dataPointIndex};for(d=e=0;d<u.length;d++){for(p=u[d],_=b=0;_<p.items.length;_++)f=p.items[_],m=f.textBlock.x+a+(0===_?.2*x:this.horizontalSpacing),v=n+e,g=m,this.chart.data[f.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(a,n,r,Math.max(o-o%this.lineHeight,0)),this.ctx.clip(),"line"!==f.chartType&&"stepLine"!==f.chartType&&"spline"!==f.chartType||(this.ctx.strokeStyle=f.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,v+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,v+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),ht.drawMarker(m+x/2,v+this.lineHeight/2,this.ctx,f.markerType,f.markerSize,f.markerColor,f.markerBorderColor,f.markerBorderThickness),f.textBlock.x=m+s+x,"line"!==f.chartType&&"stepLine"!==f.chartType&&"spline"!==f.chartType||(f.textBlock.x+=.1*this.lineHeight),f.textBlock.y=Math.round(v+this.lineHeight/2),f.textBlock.render(!0),this.ctx.restore(),b=0<_?Math.max(b,f.textBlock.height):f.textBlock.height,this.chart.data[f.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),m=h(f.id),this.ghostCtx.fillStyle=m,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,f.textBlock.y-this.lineHeight/2,f.textBlock.x+f.textBlock.width-g,f.textBlock.height),f.x1=this.chart._eventManager.objectMap[f.id].x1=g,f.y1=this.chart._eventManager.objectMap[f.id].y1=f.textBlock.y-this.lineHeight/2,f.x2=this.chart._eventManager.objectMap[f.id].x2=f.textBlock.x+f.textBlock.width,f.y2=this.chart._eventManager.objectMap[f.id].y2=f.textBlock.y+f.textBlock.height-this.lineHeight/2;e+=b}0<l.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:a,y1:n,x2:a+this.width,y2:n+this.height}},t(B,T),B.prototype.render=function(){var t=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red",this.ctx.fillRect(t.x1,t.y1,t.x2,t.y2)},t(I,T),I.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},I.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t||"funnel"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t?"triangle":(window.console.log("Unknown Chart Type: "+t),null)},I.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},n=null,a=0,r=0,o=1,s=1/0,l=0,h=0,u=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?(u=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),u=1<u?Math.min(Math.max((this.dataPoints.length-1)/u*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(u=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,u=0<u?Math.min(Math.max((this.dataPoints.length-1)/u*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(r=0<o?u+a:u-a,0<=r&&r<this.dataPoints.length){var n=this.dataPoints[r],c=this.axisX.logarithmic?n.x>t?n.x/t:t/n.x:Math.abs(n.x-t);if(c<i.distance&&(i.dataPoint=n,i.distance=c,i.index=r),n=c,n<=s?s=n:0<o?l++:h++,1e3<l&&1e3<h)break;
}else if(0>u-a&&u+a>=this.dataPoints.length)break;-1===o?(a++,o=1):o=-1}return e||i.dataPoint.x!==t?e&&null!==i.dataPoint?i:null:i},I.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var n=[],a=0,r=0,o=1,s=!1,l=1/0,h=0,u=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.chart.axisX.getXValueAt({x:t,y:e}),this.axisX.logarithmic?(r=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),c=1<r?Math.min(Math.max((this.dataPoints.length-1)/r*Math.log(c/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(r=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,c=0<r?Math.min(Math.max((this.dataPoints.length-1)/r*(c-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(r=0<o?c+a:c-a,0<=r&&r<this.dataPoints.length){var d=this.chart._eventManager.objectMap[this.dataPointIds[r]],p=this.dataPoints[r],f=null;if(d){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":t>=d.x1&&t<=d.x2&&e>=d.y1&&e<=d.y2&&(n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y1-e),Math.abs(d.y2-e))}),s=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var g=m("markerSize",p,this)||4,x=i?20:g,f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2));f<=x&&n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:f}),r=Math.abs(d.x1-t),r<=l?l=r:0<o?h++:u++,f<=g/2&&(s=!0);break;case"rangeArea":case"rangeSplineArea":g=m("markerSize",p,this)||4,x=i?20:g,f=Math.min(Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)),Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y2-e,2))),f<=x&&n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:f}),r=Math.abs(d.x1-t),r<=l?l=r:0<o?h++:u++,f<=g/2&&(s=!0);break;case"bubble":g=d.size,f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)),f<=g/2&&(n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:f}),s=!0);break;case"pie":case"doughnut":g=d.center,x="doughnut"===this.type?d.percentInnerRadius*d.radius:0,f=Math.sqrt(Math.pow(g.x-t,2)+Math.pow(g.y-e,2)),f<d.radius&&f>x&&(f=Math.atan2(e-g.y,t-g.x),0>f&&(f+=2*Math.PI),f=Number(((180*(f/Math.PI)%360+360)%360).toFixed(12)),g=Number(((180*(d.startAngle/Math.PI)%360+360)%360).toFixed(12)),x=Number(((180*(d.endAngle/Math.PI)%360+360)%360).toFixed(12)),0===x&&1<d.endAngle&&(x=360),g>=x&&0!==p.y&&(x+=360,f<g&&(f+=360)),f>g&&f<x&&(n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:0}),s=!0));break;case"candlestick":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y2-d.borderThickness/2&&e<=d.y3+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0);break;case"ohlc":(Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y2&&e<=d.y3||t>=d.x1&&t<=(d.x2+d.x1)/2&&e>=d.y1-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||t>=(d.x1+d.x2)/2&&t<=d.x2&&e>=d.y4-d.borderThickness/2&&e<=d.y4+d.borderThickness/2)&&(n.push({dataPoint:p,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0)}if(s||1e3<h&&1e3<u)break}}else if(0>c-a&&c+a>=this.dataPoints.length)break;-1===o?(a++,o=1):o=-1}for(t=null,e=0;e<n.length;e++)t?n[e].distance<=t.distance&&(t=n[e]):t=n[e];return t},I.prototype.getMarkerProperties=function(t,e,i,n){var a=this.dataPoints;return{x:e,y:i,ctx:n,type:a[t].markerType?a[t].markerType:this.markerType,size:a[t].markerSize?a[t].markerSize:this.markerSize,color:a[t].markerColor?a[t].markerColor:this.markerColor?this.markerColor:a[t].color?a[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:a[t].markerBorderColor?a[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:a[t].markerBorderThickness?a[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},t(E,T),E.prototype.createExtraLabelsForLog=function(t){if(t=(t||0)+1,!(5<t)){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=E.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/i)*i;n<e;n+=i)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(s),this.createExtraLabelsForLog(t)}}},E.prototype.createLabels=function(){var t,e,i,a,r=0,o=0,s=0,l=0,o=0,h=this.interval,u=0,d=.6*this.chart.height;if("axisX"!==this.type||"dateTime"!==this.chart.plotInfo.axisXValueType||this.logarithmic){if(i=this.viewportMaximum,this.labels){t=Math.ceil(h);for(var h=Math.ceil(this.intervalStartPosition),p=!1,r=h;r<this.viewportMaximum;r+=t){if(!this.labels[r]){p=!1;break}p=!0}p&&(this.interval=t,this.intervalStartPosition=h)}if(this.logarithmic&&!this.equidistantInterval){this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog());for(var f=0;f<this.logLabelValues.length;f++)r=this.logLabelValues[f],r<this.viewportMinimum||(t=this.labelFormatter?this.labelFormatter({chart:this.chart._publicChartReference,axis:this._options,value:r,label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[r]?this.labels[r]:Z(r,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:r,textBlock:t,effectiveHeight:null}))}for(r=this.intervalStartPosition;r<=i;r=parseFloat((this.logarithmic&&this.equidistantInterval?r*Math.pow(this.logarithmBase,this.interval):r+this.interval).toFixed(14)))t=this.labelFormatter?this.labelFormatter({chart:this.chart._publicChartReference,axis:this._options,value:r,label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[r]?this.labels[r]:Z(r,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:r,textBlock:t,effectiveHeight:null})}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),i=n(new Date(this.viewportMaximum),this.interval,this.intervalType),r=this.intervalStartPosition;r<i;n(r,h,this.intervalType))t=r.getTime(),t=this.labelFormatter?this.labelFormatter({chart:this.chart._publicChartReference,axis:this._options,value:r,label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[t]?this.labels[t]:K(r,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:l,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:r.getTime(),textBlock:t,effectiveHeight:null});for("bottom"===this._position||"top"===this._position?(u=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$[this.intervalType+"Duration"]*this.interval,s="undefined"==typeof this._options.labelMaxWidth?.5*this.chart.width>>0:this._options.labelMaxWidth,this.chart.panEnabled||(l="undefined"==typeof this._options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(u=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*$[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(s="undefined"==typeof this._options.labelMaxWidth?.3*this.chart.width>>0:this._options.labelMaxWidth),l="undefined"==typeof this._options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),o=0;o<this._labels.length;o++){t=this._labels[o].textBlock,t.maxWidth=s,t.maxHeight=l;var g=t.measureText();a=g.height}if(i=[],p=h=0,this.labelAutoFit||this._options.labelAutoFit)if(c(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(s=.9*u>>0,p=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++){t=this._labels[r].textBlock;for(var m,x=t.text.split(" "),o=0;o<x.length;o++)f=x[o],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,f=this.ctx.measureText(f),f.width>p&&(m=r,p=f.width)}for(r=0,r=this.intervalStartPosition<this.viewportMinimum?1:0;r<this._labels.length;r++)if(t=this._labels[r].textBlock,g=t.measureText(),r<this._labels.length-1&&(f=r+1,e=this._labels[f].textBlock,e=e.measureText()),i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),c(this._options.labelAngle)&&isNaN(this._options.labelAngle)&&0!==this._options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),x=(d-(a+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),c(this._options.labelWrap)){if(c(this._options.labelWrap))if(c(this._options.labelMaxWidth)){if(!c(e))if(o=g.width+e.width>>0,f=this.labelFontSize,p<s)o-2*s>h&&(h=o-2*s,o>=2*s&&o<2.2*s?(this.sessionVariables.labelMaxWidth=s,c(this._options.labelFontSize)&&12<f&&(f=Math.floor(12/13*f),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?f:this._options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=2.2*s&&o<2.8*s?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelFontSize=f):o>=2.8*s&&o<3.2*s?(this.sessionVariables.labelMaxWidth=Math.max(s,p),this.sessionVariables.labelWrap=!0,c(this._options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?f:this._options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=3.2*s&&o<3.6*s?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelFontSize=this.labelFontSize):o>3.6*s&&o<5*s?(c(this._options.labelFontSize)&&12<f&&(f=Math.floor(12/13*f),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?f:this._options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x):o>5*s&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=f,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=this.labelAngle));else if(m===r&&(0===m&&p+this._labels[m+1].textBlock.measureText().width-2*s>h||m===this._labels.length-1&&p+this._labels[m-1].textBlock.measureText().width-2*s>h||0<m&&m<this._labels.length-1&&p+this._labels[m+1].textBlock.measureText().width-2*s>h&&p+this._labels[m-1].textBlock.measureText().width-2*s>h))h=0===m?p+this._labels[m+1].textBlock.measureText().width-2*s:p+this._labels[m-1].textBlock.measureText().width-2*s,this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?f:this._options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x;else if(0===h)for(this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?f:this._options.labelFontSize,this.sessionVariables.labelWrap=!0,o=0;o<this._labels.length;o++)t=this._labels[o].textBlock,t.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),x),g=t.measureText(),o<this._labels.length-1&&(f=o+1,e=this._labels[f].textBlock,e.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),x),e=e.measureText(),g.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=-25))}else this._options.labelMaxWidth<s?(this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l)}else this.labelWrap?c(this._options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),x),this.sessionVariables.labelWrap=this.labelWrap,g.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?-25:this.sessionVariables.labelAngle):c(this._options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=s,g.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=x)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),x=0!=this.labelAngle?(d-(a+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):s,this.sessionVariables.labelMaxHeight=l=this.labelWrap?(d-x*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,c(this._options.labelWrap)?c(this._options.labelWrap)&&(this.labelWrap&&!c(this._options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:x,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=x,this.sessionVariables.labelMaxHeight=o<.9*u?.9*u:o,this.sessionVariables.labelWrap=this.labelWrap)):(this._options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:x):(c(this._options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:x,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=l);for(o=0;o<this._labels.length;o++)t=this._labels[o].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(r=0;r<this._labels.length;r++)t=this._labels[r].textBlock,t.maxWidth=this.labelMaxWidth=c(this._options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this._options.labelMaxWidth,t.fontSize=this.labelFontSize=c(this._options.labelFontSize)?this.sessionVariables.labelFontSize:this._options.labelFontSize,t.angle=this.labelAngle=c(this._options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=c(this._options.labelWrap)?this.sessionVariables.labelWrap:this._options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(s=c(this._options.labelMaxWidth)?.3*this.chart.width>>0:this._options.labelMaxWidth,l="undefined"==typeof this._options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=c(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++)t=this._labels[r].textBlock,g=t.measureText(),r<this._labels.length-1&&(f=r+1,e=this._labels[f].textBlock,e=e.measureText()),i.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),c(this._options.labelAngle)&&isNaN(this._options.labelAngle)&&0!==this._options.labelAngle?c(this._options.labelWrap)?c(this._options.labelWrap)&&(c(this._options.labelMaxWidth)?c(e)||(u=g.height+e.height>>0,u-2*l>p&&(p=u-2*l,u>=2*l&&u<2.4*l?(c(this._options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?this.labelFontSize:this._options.labelFontSize):u>=2.4*l&&u<2.8*l?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):u>=2.8*l&&u<3.2*l?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,c(this._options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?this.labelFontSize:this._options.labelFontSize,this.sessionVariables.labelAngle=c(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):u>=3.2*l&&u<3.6*l?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):u>3.6*l&&u<10*l?(c(this._options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?this.labelFontSize:this._options.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelAngle=c(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):u>10*l&&u<50*l&&(c(this._options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=c(this._options.labelFontSize)?this.labelFontSize:this._options.labelFontSize,this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelAngle=c(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this._options.labelMaxWidth?this._options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this._options.labelMaxWidth?this._options.labelMaxWidth:this.sessionVariables.labelMaxWidth:s,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?s:Math.min((o-l*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),l),c(this._options.labelWrap)?c(this._options.labelWrap)&&(this.labelWrap&&!c(this._options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth>this._options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:s,this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:o,c(this._options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this._options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?l:o,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=s):(this.sessionVariables.labelMaxHeight=l,c(this._options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this._options.labelMaxWidth?this._options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap));for(o=0;o<this._labels.length;o++)t=this._labels[o].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(r=0;r<this._labels.length;r++)t=this._labels[r].textBlock,t.maxWidth=this.labelMaxWidth=c(this._options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this._options.labelMaxWidth,t.fontSize=this.labelFontSize=c(this._options.labelFontSize)?this.sessionVariables.labelFontSize:this._options.labelFontSize,t.angle=this.labelAngle=c(this._options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=c(this._options.labelWrap)?this.sessionVariables.labelWrap:this._options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(r=0;r<this.stripLines.length;r++){var v,s=this.stripLines[r];"outside"===s.labelPlacement?(l=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(v="undefined"==typeof s._options.labelWrap?this.sessionVariables.labelMaxHeight:s.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(v="undefined"==typeof s._options.labelWrap?this.sessionVariables.labelMaxHeight:s.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),e=c(s._options.labelBackgroundColor)?"#EEEEEE":s._options.labelBackgroundColor):(l="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,v="undefined"==typeof s._options.labelWrap||s.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,e=c(s._options.labelBackgroundColor)?c(s.startValue)&&0!==s.startValue?"transparent":"#EEEEEE":s._options.labelBackgroundColor),t=new P(this.ctx,{x:0,y:0,backgroundColor:e,maxWidth:s._options.labelMaxWidth?s._options.labelMaxWidth:l,maxHeight:v,angle:this.labelAngle,text:s.labelFormatter?s.labelFormatter({chart:this.chart._publicChartReference,axis:this,stripLine:s}):s.label,horizontalAlign:"left",fontSize:"outside"===s.labelPlacement?s._options.labelFontSize?s._options.labelFontSize:this.labelFontSize:s.labelFontSize,fontFamily:"outside"===s.labelPlacement?s._options.labelFontFamily?s._options.labelFontFamily:this.labelFontFamily:s.labelFontFamily,fontWeight:"outside"===s.labelPlacement?s._options.fontWeight?s._options.fontWeight:this.fontWeight:s.fontWeight,fontColor:s._options.labelFontColor||s.color,fontStyle:"outside"===s.labelPlacement?s._options.fontStyle?s._options.fontStyle:this.fontWeight:s.fontStyle,textBaseline:"middle",borderThickness:0}),this._stripLineLabels.push({position:s.value,textBlock:t,effectiveHeight:null,stripLine:s})}},E.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;if(this._labels=[],this._stripLineLabels=[],"left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var i=this._labels[e].textBlock,n=i.measureText(),a=0,a=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));t<a&&(t=a),this._labels[e].effectiveWidth=a}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<this.viewportMaximum&&(i=this._stripLineLabels[e].textBlock,n=i.measureText(),a=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),t<a&&(t=a),this._stripLineLabels[e].effectiveWidth=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+5},E.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,i=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(i=0;i<this._labels.length;i++){e=this._labels[i].textBlock;var n=e.measureText(),a=0,a=0===this.labelAngle?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));t<a&&(t=a),this._labels[i].effectiveHeight=a}for(i=0;i<this._stripLineLabels.length;i++)"outside"===this._stripLineLabels[i].stripLine.labelPlacement&&(e=this._stripLineLabels[i].textBlock,n=e.measureText(),a=0===this.labelAngle?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),t<a&&(t=a),this._stripLineLabels[i].effectiveHeight=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+5},E.setLayoutAndRender=function(t,e,i,n,a){var r,o,s,l=t.chart,h=l.ctx;t.calculateAxisParameters(),e&&e.calculateAxisParameters(),i&&i.calculateAxisParameters();var u,d,p,f,g,m,x,v,y,b=e?e.margin:0,_=i?i.margin:0,M=0,w=0,T=0,S=0,C=0;if(x=v=y=!1,t&&t.title&&(t._titleTextBlock=new P(t.ctx,{text:t.title,horizontalAlign:"center",fontSize:t.titleFontSize,fontFamily:t.titleFontFamily,fontWeight:t.titleFontWeight,fontColor:t.titleFontColor,fontStyle:t.titleFontStyle,textBaseline:"top"})),e&&e.title&&(e._titleTextBlock=new P(e.ctx,{text:e.title,horizontalAlign:"center",fontSize:e.titleFontSize,fontFamily:e.titleFontFamily,fontWeight:e.titleFontWeight,fontColor:e.titleFontColor,fontStyle:e.titleFontStyle,textBaseline:"top"})),i&&i.title&&(i._titleTextBlock=new P(i.ctx,{text:i.title,horizontalAlign:"center",fontSize:i.titleFontSize,fontFamily:i.titleFontFamily,fontWeight:i.titleFontWeight,fontColor:i.titleFontColor,fontStyle:i.titleFontStyle,textBaseline:"top"})),"normal"===n){var k=[],A=[],F=[];for(t&&t.title&&(t._titleTextBlock.maxWidth=t.titleMaxWidth||a.width,t._titleTextBlock.maxHeight=t.titleWrap?.8*a.height:1.5*t.titleFontSize,t._titleTextBlock.angle=0),e&&e.title&&(e._titleTextBlock.maxWidth=e.titleMaxWidth||a.height,e._titleTextBlock.maxHeight=e.titleWrap?.8*a.width:1.5*e.titleFontSize,e._titleTextBlock.angle=-90),i&&i.title&&(i._titleTextBlock.maxWidth=i.titleMaxWidth||a.height,i._titleTextBlock.maxHeight=i.titleWrap?.8*a.width:1.5*i.titleFontSize,i._titleTextBlock.angle=90);4>M++;){if(t.lineCoordinates={},d=Math.ceil(e?e.createLabelsAndCalculateWidth():0),A.push(d),r=Math.round(a.x1+d+b),u=Math.ceil(i?i.createLabelsAndCalculateWidth():0),F.push(u),o=Math.round(a.x2-u-_>t.chart.width-10?t.chart.width-10:a.x2-u-_),!t.labelAutoFit||c(g)||c(m)||(0<t.labelAngle?m+T>o&&(S+=0<t.labelAngle?m+T-o-u:0):0>t.labelAngle?g-w<r&&g-w<t.viewportMinimum&&(C=r-(b+t.tickLength+d+g-w+t.labelFontSize/2)):0===t.labelAngle&&(m+T>o&&(S=m+T/2-o-u),g-w<r&&g-w<t.viewportMinimum&&(C=r-b-t.tickLength-d-g+w/2)),t.viewportMaximum===t.maximum&&t.viewportMinimum===t.minimum&&0<t.labelAngle&&0<S?o-=S:t.viewportMaximum===t.maximum&&t.viewportMinimum===t.minimum&&0>t.labelAngle&&0<C?r+=C:t.viewportMaximum===t.maximum&&t.viewportMinimum===t.minimum&&0===t.labelAngle&&(0<C&&(r+=C),0<S&&(o-=S))),t.lineCoordinates.x1=r,t.lineCoordinates.x2=o,t.lineCoordinates.width=Math.abs(o-r),t.title&&(t._titleTextBlock.maxWidth=0<t.titleMaxWidth&&t.titleMaxWidth<t.lineCoordinates.width?t.titleMaxWidth:t.lineCoordinates.width),d=Math.ceil(t.createLabelsAndCalculateHeight()),k.push(d),t._labels&&1<t._labels.length&&(n=s=0,s=t._labels[1],n="dateTime"===t.chart.plotInfo.axisXValueType?t._labels[t._labels.length-2]:t._labels[t._labels.length-1],w=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)),T=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle))),l.panEnabled?d=l.sessionVariables.axisX.height:l.sessionVariables.axisX.height=d,n=Math.round(a.y2-d-t.margin),s=Math.round(a.y2-t.margin),t.lineCoordinates.y1=n,t.lineCoordinates.y2=n,t.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:s-n},e&&(r=Math.round(a.x1+e.margin),n=Math.round(10>a.y1?10:a.y1),o=Math.round(t.lineCoordinates.x1),s=Math.round(a.y2-d-t.margin),e.lineCoordinates={x1:o,y1:n,x2:o,y2:s,height:Math.abs(s-n)},e.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:s-n},e.title&&(e._titleTextBlock.maxWidth=0<e.titleMaxWidth&&e.titleMaxWidth<e.lineCoordinates.height?e.titleMaxWidth:e.lineCoordinates.height)),i&&(r=Math.round(t.lineCoordinates.x2),n=Math.round(10>a.y1?10:a.y1),o=Math.round(r+u),s=Math.round(a.y2-d-t.margin),i.lineCoordinates={x1:r,y1:n,x2:r,y2:s,height:Math.abs(s-n)},i.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:s-n},i.title&&(i._titleTextBlock.maxWidth=0<i.titleMaxWidth&&i.titleMaxWidth<i.lineCoordinates.height?i.titleMaxWidth:i.lineCoordinates.height)),t.calculateValueToPixelConversionParameters(),t._labels&&1<t._labels.length&&(g=(t.logarithmic?Math.log(t._labels[1].position/t.viewportMinimum)/t.conversionParameters.lnLogarithmBase:t._labels[1].position-t.viewportMinimum)*Math.abs(t.conversionParameters.pixelPerUnit)+t.lineCoordinates.x1,m="dateTime"===t.chart.plotInfo.axisXValueType?(t.logarithmic?Math.log(t._labels[t._labels.length-2].position/t.viewportMinimum)/t.conversionParameters.lnLogarithmBase:t._labels[t._labels.length-2].position-t.viewportMinimum)*Math.abs(t.conversionParameters.pixelPerUnit)+t.lineCoordinates.x1:(t.logarithmic?Math.log(t._labels[t._labels.length-1].position/t.viewportMinimum)/t.conversionParameters.lnLogarithmBase:t._labels[t._labels.length-1].position-t.viewportMinimum)*Math.abs(t.conversionParameters.pixelPerUnit)+t.lineCoordinates.x1),e&&e.calculateValueToPixelConversionParameters(),i&&i.calculateValueToPixelConversionParameters(),t||e||i){if(!c(k))for(M=0;M<k.length;M++)for(j=M+1;j<k.length;j++)k[M]==k[j]&&(x=!0);if(!c(A))for(M=0;M<A.length;M++)for(j=M+1;j<A.length;j++)A[M]==A[j]&&(v=!0);if(!c(F))for(M=0;M<F.length;M++)for(j=M+1;j<F.length;j++)F[M]==F[j]&&(y=!0)}if(x&&v&&y)break}h.save(),h.beginPath(),h.rect(5,t.boundingRect.y1,t.chart.width-10,t.boundingRect.height),h.clip(),t.renderLabelsTicksAndTitle(),h.restore(),e&&e.renderLabelsTicksAndTitle(),i&&i.renderLabelsTicksAndTitle()}else{for(_=[],g=[],m=[],t&&t.title&&(t._titleTextBlock.maxWidth=t.titleMaxWidth||a.height,
t._titleTextBlock.maxHeight=t.titleWrap?.8*a.width:1.5*t.titleFontSize,t._titleTextBlock.angle=-90),e&&e.title&&(e._titleTextBlock.maxWidth=e.titleMaxWidth||a.width,e._titleTextBlock.maxHeight=e.titleWrap?.8*a.height:1.5*e.titleFontSize,e._titleTextBlock.angle=0),i&&i.title&&(i._titleTextBlock.maxWidth=e.titleMaxWidth||a.width,i._titleTextBlock.maxHeight=i.titleWrap?.8*a.height:1.5*i.titleFontSize,i._titleTextBlock.angle=0);4>M++;){if(S=Math.ceil(t.createLabelsAndCalculateWidth()),_.push(S),e&&(e.lineCoordinates={},r=Math.round(a.x1+S+t.margin),o=Math.round(a.x2>e.chart.width-10?e.chart.width-10:a.x2),e.labelAutoFit&&!c(u)&&(r=0>e.labelAngle?Math.max(r,u):0===e.labelAngle?Math.max(r,u/2):r,o=0<e.labelAngle?o-d:0===e.labelAngle?o-d/2:o),e.lineCoordinates.x1=r,e.lineCoordinates.x2=o,e.lineCoordinates.width=Math.abs(o-r),e.title&&(e._titleTextBlock.maxWidth=0<e.titleMaxWidth&&e.titleMaxWidth<e.lineCoordinates.width?e.titleMaxWidth:e.lineCoordinates.width)),i&&(i.lineCoordinates={},r=Math.round(a.x1+S+t.margin),o=Math.round(a.x2>i.chart.width-10?i.chart.width-10:a.x2),e&&e.labelAutoFit&&!c(p)&&(r=0<i.labelAngle?Math.max(r,p):0===i.labelAngle?Math.max(r,p/2):r,o-=f/2),i.lineCoordinates.x1=r,i.lineCoordinates.x2=o,i.lineCoordinates.width=Math.abs(o-r),i.title&&(i._titleTextBlock.maxWidth=0<i.titleMaxWidth&&i.titleMaxWidth<i.lineCoordinates.width?i.titleMaxWidth:i.lineCoordinates.width)),C=Math.ceil(e?e.createLabelsAndCalculateHeight():0),w=Math.ceil(i?i.createLabelsAndCalculateHeight():0),g.push(C),m.push(w),e&&0<e._labels.length&&(s=e._labels[0],n=e._labels[e._labels.length-1],u=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)),d=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle))),i&&0<i._labels.length&&(s=i._labels[0],n=i._labels[i._labels.length-1],p=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)),f=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle))),l.panEnabled?C=l.sessionVariables.axisY.height:l.sessionVariables.axisY.height=C,e&&(n=Math.round(a.y2-C-e.margin),s=Math.round(a.y2-b>e.chart.height-10?e.chart.height-10:a.y2-b),e.lineCoordinates.y1=n,e.lineCoordinates.y2=n,e.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:C},e.title&&(e._titleTextBlock.maxWidth=0<e.titleMaxWidth&&e.titleMaxWidth<e.lineCoordinates.width?e.titleMaxWidth:e.lineCoordinates.width)),i&&(n=Math.round(a.y1+i.margin),s=a.y1+i.margin+w,i.lineCoordinates.y1=s,i.lineCoordinates.y2=s,i.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:w},i.title&&(i._titleTextBlock.maxWidth=0<i.titleMaxWidth&&i.titleMaxWidth<i.lineCoordinates.width?i.titleMaxWidth:i.lineCoordinates.width)),r=Math.round(a.x1+t.margin),n=Math.round(i?i.lineCoordinates.y2:10>a.y1?10:a.y1),o=Math.round(a.x1+S+t.margin),s=Math.round(e?e.lineCoordinates.y1:a.y2-b>t.chart.height-10?t.chart.height-10:a.y2-b),e&&e.labelAutoFit&&(o=0>e.labelAngle?Math.max(o,u):0===e.labelAngle?Math.max(o,u/2):o,r=0>e.labelAngle||0===e.labelAngle?o-S:r),i&&i.labelAutoFit&&(o=i.lineCoordinates.x1,r=o-S),t.lineCoordinates={x1:o,y1:n,x2:o,y2:s,height:Math.abs(s-n)},t.boundingRect={x1:r,y1:n,x2:o,y2:s,width:o-r,height:s-n},t.title&&(t._titleTextBlock.maxWidth=0<t.titleMaxWidth&&t.titleMaxWidth<t.lineCoordinates.height?t.titleMaxWidth:t.lineCoordinates.height),t.calculateValueToPixelConversionParameters(),e&&e.calculateValueToPixelConversionParameters(),i&&i.calculateValueToPixelConversionParameters(),t||e||i){if(!c(k))for(M=0;M<k.length;M++)for(j=M+1;j<k.length;j++)k[M]==k[j]&&(x=!0);if(!c(A))for(M=0;M<A.length;M++)for(j=M+1;j<A.length;j++)A[M]==A[j]&&(v=!0);if(!c(F))for(M=0;M<F.length;M++)for(j=M+1;j<F.length;j++)F[M]==F[j]&&(y=!0)}if(x&&v&&y)break}e&&e.renderLabelsTicksAndTitle(),i&&i.renderLabelsTicksAndTitle(),t.renderLabelsTicksAndTitle()}l.preparePlotArea(),a=t.chart.plotArea,h.save(),h.beginPath(),h.rect(a.x1,a.y1,Math.abs(a.x2-a.x1),Math.abs(a.y2-a.y1)),h.clip(),t.renderStripLinesOfThicknessType("value"),e&&e.renderStripLinesOfThicknessType("value"),i&&i.renderStripLinesOfThicknessType("value"),t.renderInterlacedColors(),e&&e.renderInterlacedColors(),i&&i.renderInterlacedColors(),h.restore(),t.renderGrid(),e&&e.renderGrid(),i&&i.renderGrid(),t.renderAxisLine(),e&&e.renderAxisLine(),i&&i.renderAxisLine(),t.renderStripLinesOfThicknessType("pixel"),e&&e.renderStripLinesOfThicknessType("pixel"),i&&i.renderStripLinesOfThicknessType("pixel")},E.prototype.renderLabelsTicksAndTitle=function(){var t=!1,e=0,i=0,n=1,a=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(n=1.2),"undefined"==typeof this._options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var r,e=[],n=0!==this.labelAngle&&360!==this.labelAngle?1:1.2,o=this.viewportMaximum,s=this.lineCoordinates.width/Math.log(this.range),l=this._labels.length-1;0<=l&&(u=this._labels[l],!(u.position<this.viewportMinimum));l--)u.position>this.viewportMaximum||!(l===this._labels.length-1||r<Math.log(o/u.position)*s/n)||(e.push(u),o=u.position,r=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=e}else{for(l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||(u=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),e+=u);e>this.lineCoordinates.width*n&&this.labelAutoFit&&(t=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var h,e=[],o=this.viewportMaximum,s=this.lineCoordinates.height/Math.log(this.range),l=this._labels.length-1;0<=l&&(u=this._labels[l],!(u.position<this.viewportMinimum));l--)u.position>this.viewportMaximum||!(l===this._labels.length-1||h<Math.log(o/u.position)*s)||(e.push(u),o=u.position,h=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=e}else{for(l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||(u=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),i+=u);i>this.lineCoordinates.height*n&&this.labelAutoFit&&(t=!0)}}if("bottom"===this._position){for(var u,l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||u.position>this.viewportMaximum||(i=this.getPixelCoordinatesOnAxis(u.position),t&&0!==a++%2&&this.labelAutoFit||(this.tickThickness&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?(i.x<<0)+.5:i.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,i.y<<0),this.ctx.lineTo(n,i.y+this.tickLength<<0),this.ctx.stroke()),0===u.textBlock.angle?(i.x-=u.textBlock.width/2,i.y+=this.tickLength+u.textBlock.fontSize/2):(i.x-=0>this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,i.y+=this.tickLength+Math.abs(0>this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),u.textBlock.x=i.x,u.textBlock.y=i.y,u.textBlock.render(!0)));this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-3,this._titleTextBlock.render(!0))}else if("top"===this._position){for(l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||u.position>this.viewportMaximum||(i=this.getPixelCoordinatesOnAxis(u.position),t&&0!==a++%2&&this.labelAutoFit||(this.tickThickness&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?(i.x<<0)+.5:i.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,i.y<<0),this.ctx.lineTo(n,i.y-this.tickLength<<0),this.ctx.stroke()),0===u.textBlock.angle?(i.x-=u.textBlock.width/2,i.y-=this.tickLength+u.textBlock.height):(i.x+=(u.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),i.y-=this.tickLength+(u.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0))),u.textBlock.x=i.x,u.textBlock.y=i.y,u.textBlock.render(!0)));this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y1+1,this._titleTextBlock.render(!0))}else if("left"===this._position){for(l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||u.position>this.viewportMaximum||(i=this.getPixelCoordinatesOnAxis(u.position),t&&0!==a++%2&&this.labelAutoFit||(this.tickThickness&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?(i.y<<0)+.5:i.y<<0,this.ctx.beginPath(),this.ctx.moveTo(i.x<<0,n),this.ctx.lineTo(i.x-this.tickLength<<0,n),this.ctx.stroke()),0===this.labelAngle?(u.textBlock.y=i.y,u.textBlock.x=i.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(u.textBlock.y=i.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),u.textBlock.x=0<this.labelAngle?i.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:i.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength),u.textBlock.render(!0)));this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.boundingRect.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(l=0;l<this._labels.length;l++)u=this._labels[l],u.position<this.viewportMinimum||u.position>this.viewportMaximum||(i=this.getPixelCoordinatesOnAxis(u.position),t&&0!==a++%2&&this.labelAutoFit||(this.tickThickness&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=1===this.ctx.lineWidth%2?(i.y<<0)+.5:i.y<<0,this.ctx.beginPath(),this.ctx.moveTo(i.x<<0,n),this.ctx.lineTo(i.x+this.tickLength<<0,n),this.ctx.stroke()),0===this.labelAngle?(u.textBlock.y=i.y,u.textBlock.x=i.x+this.tickLength+5):(u.textBlock.y=0>this.labelAngle?i.y:i.y-(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),u.textBlock.x=0<this.labelAngle?i.x+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:i.x+this.tickLength+5),u.textBlock.render(!0)));this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.boundingRect.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}},E.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,n=this.chart.plotArea,a=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[a].position),t=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(n.x1,Math.min(e.y,t.y),Math.abs(n.x1-n.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[a].position),e=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(Math.min(e.x,t.x),n.y1,Math.abs(e.x-t.x),Math.abs(n.y1-n.y2)),t=!1):t=!0;i.beginPath()},E.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){for(var e,i=this,n=0,a=0,r=!1,o=!1,s=[],l=[],o=!1,n=0;n<this.stripLines.length;n++){var h=this.stripLines[n];h._thicknessType===t&&("pixel"===t&&(h.value<this.viewportMinimum||h.value>this.viewportMaximum)||s.push(h))}for(n=0;n<this._stripLineLabels.length;n++)if(h=this.stripLines[n],e=this._stripLineLabels[n],!(e.position<this.viewportMinimum||e.position>this.viewportMaximum)){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(h&&(this.ctx.strokeStyle=h.color,"pixel"===h._thicknessType&&(this.ctx.lineWidth=h.thickness)),"bottom"===this._position){var u=1===this.ctx.lineWidth%2?(t.x<<0)+.5:t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(u,t.y<<0),this.ctx.lineTo(u,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(u=1===this.ctx.lineWidth%2?(t.x<<0)+.5:t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,t.y<<0),this.ctx.lineTo(u,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(u=1===this.ctx.lineWidth%2?(t.y<<0)+.5:t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,u),this.ctx.lineTo(t.x-this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(u=1===this.ctx.lineWidth%2?(t.y<<0)+.5:t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,u),this.ctx.lineTo(t.x+this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this._options.stripLines[n].labelMaxWidth?this._options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?c(h.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,c(h.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this._options.stripLines[n].labelMaxWidth?this._options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?c(h.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,c(h.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this._options.stripLines[n].labelMaxWidth?this._options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?c(h.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:c(h.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this._options.stripLines[n].labelMaxWidth?this._options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?c(h.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:c(h.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,l.push(e)}if(!o){for(o=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<s.length;n++)h=s[n],h.showOnTop?r||(r=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<s.length;a++)h=s[a],h.showOnTop&&h.render();this.ctx.restore()},h)):h.render();for(n=0;n<l.length;n++)e=l[n],e.stripLine.showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(a=0;a<l.length;a++)e=l[a],"inside"===e.stripLine.labelPlacement&&e.stripLine.showOnTop&&(i.ctx.save(),i.ctx.beginPath(),i.ctx.rect(i.chart.plotArea.x1,i.chart.plotArea.y1,i.chart.plotArea.width,i.chart.plotArea.height),i.ctx.clip(),e.textBlock.render(!0),i.ctx.restore())},e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),o=!0}if(o)for(o=!1,n=0;n<l.length;n++)e=l[n],e.stripLine.showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(a=0;a<l.length;a++)e=l[a],"outside"===e.stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)},e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},E.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(p(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=1===t.lineWidth%2?(e.x<<0)+.5:e.x<<0,t.moveTo(e,i.y1<<0),t.lineTo(e,i.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=1===t.lineWidth%2?(e.y<<0)+.5:e.y<<0,t.moveTo(i.x1<<0,e),t.lineTo(i.x2<<0,e),t.stroke());t.restore()}},E.prototype.renderAxisLine=function(){var t=this.chart.ctx;if(t.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor?this.lineColor:"black",t.setLineDash&&t.setLineDash(p(this.lineDashType,this.lineThickness));var e=1===this.lineThickness%2?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;t.beginPath(),t.moveTo(this.lineCoordinates.x1,e),t.lineTo(this.lineCoordinates.x2,e),t.stroke()}}else"left"!==this._position&&"right"!==this._position||!this.lineThickness||(t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor,t.setLineDash&&t.setLineDash(p(this.lineDashType,this.lineThickness)),e=1===this.lineThickness%2?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,t.beginPath(),t.moveTo(e,this.lineCoordinates.y1),t.lineTo(e,this.lineCoordinates.y2),t.stroke());t.restore()},E.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},E.prototype.convertPixelToValue=function(t){if(!t)return null;var e=0;return t="left"===this._position||"right"===this._position?t.y:t.x,e=this.logarithmic?Math.pow(this.logarithmBase,(t-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit)*this.viewportMinimum:this.conversionParameters.minimum+(t-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit},E.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},E.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},E.prototype.calculateValueToPixelConversionParameters=function(t){t={pixelPerUnit:null,minimum:null,reference:null};var e=this.lineCoordinates.width,i=this.lineCoordinates.height;t.minimum=this.viewportMinimum,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?-1:1)*e*t.lnLogarithmBase/Math.log(Math.abs(this.range))):t.pixelPerUnit=(this.reversed?-1:1)*e/Math.abs(this.range),t.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?1:-1)*i*t.lnLogarithmBase/Math.log(Math.abs(this.range))):t.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(this.range),t.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=t},E.prototype.convertValueToPixel=function(t){return this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0},E.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithamicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40,i=4;"axisX"===this.type&&(i=100>this.maxWidth?3:300>this.maxWidth?6:600>this.maxWidth?8:6);var n,a,r,t=Math.max(i,Math.floor(this.maxWidth/t)),i=0;if((null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),"axisX"===this.type?(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,a=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0===a-n&&(i="undefined"==typeof this._options.interval?.4:this._options.interval,a+=i,n-=i),1/0!==this.dataInfo.minDiff?r=this.dataInfo.minDiff:1<a-n?r=.5*Math.abs(a-n):(r=1,"dateTime"===this.chart.plotInfo.axisXValueType&&(e=!0))):"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,a=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(a)?isFinite(n)?isFinite(a)||(a=n):n=a:(a="undefined"==typeof this._options.interval?-(1/0):this._options.interval,n=0),0===n&&0===a?(a+=9,n=0):0===a-n?(i=Math.min(Math.abs(.01*Math.abs(a)),5),a+=i,n-=i):n>a?(i=Math.min(Math.abs(.01*Math.abs(a-n)),5),0<=a?n=a-i:a=n+i):(i=Math.min(Math.abs(.01*Math.abs(a-n)),.05),0!==a&&(a+=i),0!==n&&(n-=i)),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>a&&(a=0)),i=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?a:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(this.intervalType||(i/1<=t?(this.interval=1,this.intervalType="millisecond"):i/2<=t?(this.interval=2,this.intervalType="millisecond"):i/5<=t?(this.interval=5,this.intervalType="millisecond"):i/10<=t?(this.interval=10,this.intervalType="millisecond"):i/20<=t?(this.interval=20,this.intervalType="millisecond"):i/50<=t?(this.interval=50,this.intervalType="millisecond"):i/100<=t?(this.interval=100,this.intervalType="millisecond"):i/200<=t?(this.interval=200,this.intervalType="millisecond"):i/250<=t?(this.interval=250,this.intervalType="millisecond"):i/300<=t?(this.interval=300,this.intervalType="millisecond"):i/400<=t?(this.interval=400,this.intervalType="millisecond"):i/500<=t?(this.interval=500,this.intervalType="millisecond"):i/(1*$.secondDuration)<=t?(this.interval=1,this.intervalType="second"):i/(2*$.secondDuration)<=t?(this.interval=2,this.intervalType="second"):i/(5*$.secondDuration)<=t?(this.interval=5,this.intervalType="second"):i/(10*$.secondDuration)<=t?(this.interval=10,this.intervalType="second"):i/(15*$.secondDuration)<=t?(this.interval=15,this.intervalType="second"):i/(20*$.secondDuration)<=t?(this.interval=20,this.intervalType="second"):i/(30*$.secondDuration)<=t?(this.interval=30,this.intervalType="second"):i/(1*$.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):i/(2*$.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):i/(5*$.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):i/(10*$.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):i/(15*$.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):i/(20*$.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):i/(30*$.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):i/(1*$.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):i/(2*$.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):i/(3*$.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):i/(6*$.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):i/(1*$.dayDuration)<=t?(this.interval=1,this.intervalType="day"):i/(2*$.dayDuration)<=t?(this.interval=2,this.intervalType="day"):i/(4*$.dayDuration)<=t?(this.interval=4,this.intervalType="day"):i/(1*$.weekDuration)<=t?(this.interval=1,this.intervalType="week"):i/(2*$.weekDuration)<=t?(this.interval=2,this.intervalType="week"):i/(3*$.weekDuration)<=t?(this.interval=3,this.intervalType="week"):i/(1*$.monthDuration)<=t?(this.interval=1,this.intervalType="month"):i/(2*$.monthDuration)<=t?(this.interval=2,this.intervalType="month"):i/(3*$.monthDuration)<=t?(this.interval=3,this.intervalType="month"):i/(6*$.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=i/(1*$.yearDuration)<=t?1:i/(2*$.yearDuration)<=t?2:i/(4*$.yearDuration)<=t?4:Math.floor(E.getNiceNumber(i/(t-1),!0)/$.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-r/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=a+r/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",i=E.getNiceNumber(i,!1),this.interval=this._options&&0<this._options.interval?this._options.interval:E.getNiceNumber(i/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-r/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?a+r/2:Math.ceil(a/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this._options.viewportMinimum?this.viewportMaximum+=10:0===this._options.viewportMaximum&&(this.viewportMinimum-=10),this._options&&"undefined"==typeof this._options.interval&&(this.interval=E.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,a=null!==this.maximum?this.maximum:this.dataInfo.max,0===a-n&&(i="undefined"==typeof this._options.interval?.4:this._options.interval,a+=i,n-=i),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,a=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(a)?0===n&&0===a?(a+=9,n=0):0===a-n?(i=Math.min(Math.abs(.01*Math.abs(a)),5),a+=i,n-=i):n>a?(i=Math.min(Math.abs(.01*Math.abs(a-n)),5),0<=a?n=a-i:a=n+i):(i=Math.min(Math.abs(.01*Math.abs(a-n)),.05),0!==a&&(a+=i),0!==n&&(n-=i)):(a="undefined"==typeof this._options.interval?-(1/0):this._options.interval,n=0),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>a&&(a=0)),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?((null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-r/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=a+r/2)):(this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-r/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?a+r/2:Math.ceil(a/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-(1/0):this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this._options.minimum?this.maximum+=10:0===this._options.maximum&&(this.minimum-=10)))),
this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.range)&&(e=Math.floor(Math.abs(Math.log(this.range)/Math.LN10))+2,!isNaN(e)&&isFinite(e)||(e=2),2<e))for(n=0;n<e-2;n++)this.valueFormatString+="#"}},E.prototype.calculateLogarithamicAxisParameters=function(){var t,e=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var n,a,r,o,e="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(o=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),"axisX"===this.type?(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,a=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,1===a/n&&(o=Math.pow(this.logarithmBase,"undefined"==typeof this._options.interval?.4:this._options.interval),a*=o,n/=o),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,a=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=n&&!isFinite(a)?(a="undefined"==typeof this._options.interval?0:this._options.interval,n=1):0>=n?n=a:isFinite(a)||(a=n),1===n&&1===a?(a*=this.logarithmBase-1/this.logarithmBase,n=1):1===a/n?(o=Math.min(a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a*=o,n/=o):n>a?(o=Math.min(n/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=a?n=a/o:a=n*o):(o=Math.min(a/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==a&&(a*=o),1!==n&&(n/=o)),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>a&&(a=1)),o=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?a:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum),linearRange=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?a:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum),this.intervalType="number",o=Math.pow(this.logarithmBase,E.getNiceNumber(Math.abs(Math.log(o)/i),!1)),this._options&&0<this._options.interval?this.interval=this._options.interval:(this.interval=E.getNiceExponent(Math.log(o)/i/(e-1),!0),t=E.getNiceNumber(linearRange/(e-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?a*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this._options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this._options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this._options&&"undefined"==typeof this._options.interval&&(this.interval=E.getNiceExponent(Math.ceil(Math.log(o)/i)/(e-1)),t=E.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,a=null!==this.maximum?this.maximum:this.dataInfo.max,1===a/n&&(o=Math.pow(this.logarithmBase,"undefined"==typeof this._options.interval?.4:this._options.interval),a*=o,n/=o),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,a=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(a)?1===n&&1===a?(a*=this.logarithmBase,n/=this.logarithmBase):1===a/n?(o=Math.pow(this.logarithmBase,this.interval),a*=o,n/=o):n>a?(o=Math.min(.01*(n/a),5),1<=a?n=a/o:a=n*o):(o=Math.min(a/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==a&&(a*=o),1!==n&&(n/=o)):(a="undefined"==typeof this._options.interval?0:this._options.interval,n=1),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>a&&(a=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?"undefined"==typeof this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?a*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?"undefined"==typeof this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this._options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this._options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this._options.viewportMinimum&&!this._options.minimum||this._options.viewportMaximum||this._options.maximum?this._options.viewportMinimum||this._options.minimum||!this._options.viewportMaximum&&!this._options.maximum||(this.viewportMinimum=this.minimum=(this._options.viewportMaximum||this._options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this._options.viewportMinimum||this._options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=e,!this._options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>e?2:3)){for(i=Math.floor(this.viewportMinimum/t+.5)*t;i<this.viewportMinimum;)i+=t;this.equidistantInterval=!1,this.intervalStartPosition=i,this.interval=t}else this._options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(i=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(i)&&isFinite(i)||(i=2),2<i))for(t=0;t<i-2;t++)this.valueFormatString+="#"},E.getNiceExponent=function(t){var e=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,e),i=0>e?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1);return Number((i*Math.pow(10,e)).toFixed(20))},E.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,i);return Number(((e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10)*Math.pow(10,i)).toFixed(20))},E.prototype.getLabelStartPoint=function(){var t=$[this.intervalType+"Duration"]*this.interval,t=new Date(Math.floor(this.viewportMinimum/t)*t);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},t(z,T),z.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var i=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var n=this.ctx.globalAlpha;this.ctx.globalAlpha=i,h(this.id);var a,r,o,s;this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(p(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(a=r=1===this.ctx.lineWidth%2?(t.x<<0)+.5:t.x<<0,o=this.chart.plotArea.y1,s=this.chart.plotArea.y2):"left"!==this.parent._position&&"right"!==this.parent._position||(o=s=1===this.ctx.lineWidth%2?(t.y<<0)+.5:t.y<<0,a=this.chart.plotArea.x1,r=this.chart.plotArea.x2),this.ctx.moveTo(a,o),this.ctx.lineTo(r,s),this.ctx.stroke(),this.ctx.globalAlpha=n}this.ctx.restore()},t(W,T),W.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.display="none";var t;t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(H?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=H?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",H||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),t+='} "> Sample Tooltip</div>',this.container.innerHTML=t,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},W.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(t,e))},W.prototype._updateToolTip=function(t,e){if(!this.chart.disableToolTip){if("undefined"==typeof t||"undefined"==typeof e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var i=null,n=null,a=[],r=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){for(r="xySwapped"===this.chart.plotInfo.axisPlacement?this.chart.axisX.convertPixelToValue({y:e}):this.chart.axisX.convertPixelToValue({x:t}),n=[],i=0;i<this.chart.data.length;i++){var o=this.chart.data[i].getDataPointAtX(r,!0);o&&0<=o.index&&(o.dataSeries=this.chart.data[i],null!==o.dataPoint.y&&n.push(o))}if(0===n.length)return;for(n.sort(function(t,e){return t.distance-e.distance}),r=n[0],i=0;i<n.length;i++)n[i].dataPoint.x.valueOf()===r.dataPoint.x.valueOf()&&a.push(n[i]);n=null}else{if(o=this.chart.getDataPointAtXY(t,e,!0))this.currentDataPointIndex=o.dataPointIndex,this.currentSeriesIndex=o.dataSeries.index;else if(H)if(o=g(t,e,this.chart._eventManager.ghostCtx),0<o&&"undefined"!=typeof this.chart._eventManager.objectMap[o]){if(o=this.chart._eventManager.objectMap[o],"legendItem"===o.objectType)return;this.currentSeriesIndex=o.dataSeriesIndex,this.currentDataPointIndex=0<=o.dataPointIndex?o.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(n=this.chart.data[this.currentSeriesIndex],o={},0<=this.currentDataPointIndex)i=n.dataPoints[this.currentDataPointIndex],o.dataSeries=n,o.dataPoint=i,o.index=this.currentDataPointIndex,o.distance=Math.abs(i.x-r);else{if(!this.enabled||"line"!==n.type&&"stepLine"!==n.type&&"spline"!==n.type&&"area"!==n.type&&"stepArea"!==n.type&&"splineArea"!==n.type&&"stackedArea"!==n.type&&"stackedArea100"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type&&"candlestick"!==n.type&&"ohlc"!==n.type)return;r=n.axisX.convertPixelToValue({x:t}),o=n.getDataPointAtX(r,!0),o.dataSeries=n,this.currentDataPointIndex=o.index,i=o.dataPoint}if(!c(o.dataPoint.y))if(o.dataSeries.axisY)if(0<o.dataPoint.y.length){for(i=r=0;i<o.dataPoint.y.length;i++)o.dataPoint.y[i]<o.dataSeries.axisY.viewportMinimum?r--:o.dataPoint.y[i]>o.dataSeries.axisY.viewportMaximum&&r++;r<o.dataPoint.y.length&&r>-o.dataPoint.y.length&&a.push(o)}else"column"===n.type||"bar"===n.type?0>o.dataPoint.y?0>o.dataSeries.axisY.viewportMinimum&&o.dataSeries.axisY.viewportMaximum>=o.dataPoint.y&&a.push(o):o.dataSeries.axisY.viewportMinimum<=o.dataPoint.y&&0<=o.dataSeries.axisY.viewportMaximum&&a.push(o):"bubble"===n.type?(r=this.chart._eventManager.objectMap[n.dataPointIds[o.index]].size/2,o.dataPoint.y>=o.dataSeries.axisY.viewportMinimum-r&&o.dataPoint.y<=o.dataSeries.axisY.viewportMaximum+r&&a.push(o)):(0<=o.dataSeries.type.indexOf("100")||"stackedColumn"===n.type||"stackedBar"===n.type||o.dataPoint.y>=o.dataSeries.axisY.viewportMinimum&&o.dataPoint.y<=o.dataSeries.axisY.viewportMaximum)&&a.push(o);else a.push(o)}}if(0<a.length&&(this.highlightObjects(a),this.enabled))if(r="",r=this.getToolTipInnerHTML({entries:a}),null!==r){this.contentDiv.innerHTML=r,this.contentDiv.innerHTML=r,r=!1,"none"===this.container.style.display&&(r=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch(t){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?o=t-10-this.container.clientWidth:(o=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart._container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart._container.clientWidth,this.chart.width)-this.container.clientWidth)),o+="px",a=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):e:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y),a=-a+10,0<a+this.container.clientHeight+5&&(a-=a+this.container.clientHeight+5-0),this.container.style.left=o,this.container.style.bottom=a+"px",!this.animationEnabled||r?this.disableAnimation():this.enableAnimation()}else this.hide(!1)}},W.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var i=this.chart.plotArea,n=0;for(e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip(),i=0;i<t.length;i++){var a=t[i];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&"dataPoint"===a.objectType){var n=this.chart.data[a.dataSeriesIndex],r=n.dataPoints[a.dataPointIndex],o=a.dataPointIndex;!1===r.highlightEnabled||!0!==n.highlightEnabled&&!0!==r.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?(r=n.getMarkerProperties(o,a.x1,a.y1,this.chart.overlaidCanvasCtx),r.size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),ht.drawMarkers([r]),"undefined"!=typeof a.y2&&(r=n.getMarkerProperties(o,a.x1,a.y2,this.chart.overlaidCanvasCtx),r.size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),ht.drawMarkers([r]))):"bubble"===n.type?(r=n.getMarkerProperties(o,a.x1,a.y1,this.chart.overlaidCanvasCtx),r.size=a.size,r.color="white",r.borderColor="white",e.globalAlpha=.3,ht.drawMarkers([r]),e.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type?ot(e,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?st(e,a.center,a.radius,"white",n.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius):"candlestick"===n.type?(e.globalAlpha=1,e.strokeStyle=a.color,e.lineWidth=2*a.borderThickness,n=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(a.x3-n,Math.min(a.y2,a.y3)),e.lineTo(a.x3-n,Math.min(a.y1,a.y4)),e.stroke(),e.beginPath(),e.moveTo(a.x3-n,Math.max(a.y1,a.y4)),e.lineTo(a.x3-n,Math.max(a.y2,a.y3)),e.stroke(),ot(e,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===n.type&&(e.globalAlpha=1,e.strokeStyle=a.color,e.lineWidth=2*a.borderThickness,n=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(a.x3-n,a.y2),e.lineTo(a.x3-n,a.y3),e.stroke(),e.beginPath(),e.moveTo(a.x3,a.y1),e.lineTo(a.x1,a.y1),e.stroke(),e.beginPath(),e.moveTo(a.x3,a.y4),e.lineTo(a.x2,a.y4),e.stroke(),e.globalAlpha=1))}}e.restore(),e.globalAlpha=1,e.beginPath()},W.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,i=null,n=null,a=0,r="",o=!0,s=0;s<t.length;s++)if(t[s].dataSeries.toolTipContent||t[s].dataPoint.toolTipContent){o=!1;break}if(o&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart._publicChartReference,toolTip:this._options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(var l="",s=0;s<t.length;s++)i=t[s].dataSeries,n=t[s].dataPoint,a=t[s].index,r="",0===s&&o&&!this.content&&(l+="undefined"!=typeof this.chart.axisX.labels[n.x]?this.chart.axisX.labels[n.x]:"{x}",l+="</br>",l=this.chart.replaceKeywordsWithValue(l,n,i,a)),null===n.toolTipContent||"undefined"==typeof n.toolTipContent&&null===i._options.toolTipContent||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type?r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}":"bubble"===i.type?r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}":"candlestick"!==i.type&&"ohlc"!==i.type||(r+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(r,n,i,a)+e,s<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(r,n,i,a),s<t.length-1&&(e+="</br>")));null!==e&&(e=l+e)}else{if(i=t[0].dataSeries,n=t[0].dataPoint,a=t[0].index,null===n.toolTipContent||"undefined"==typeof n.toolTipContent&&null===i._options.toolTipContent)return null;"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>"+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"!==i.type&&"ohlc"!==i.type||(r=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.fontColor?"":"'color:{color};'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(r,n,i,a)}return e},W.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")},W.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},W.prototype.hide=function(t){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,("undefined"==typeof t||t)&&this.chart.resetOverlayedCanvas())},S.prototype.getPercentAndTotal=function(t,e){var n=null,a=null,r=null;if(0<=t.type.indexOf("stacked"))a=0,n=e.x.getTime?e.x.getTime():e.x,n in t.plotUnit.yTotals&&(a=t.plotUnit.yTotals[n],r=isNaN(e.y)?0:0===a?0:100*(e.y/a));else if("pie"===t.type||"doughnut"===t.type){for(i=a=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(a+=t.dataPoints[i].y);r=isNaN(e.y)?0:100*(e.y/a)}return{percent:r,total:a}},S.prototype.replaceKeywordsWithValue=function(t,e,i,n,a){var o=this;if(a="undefined"==typeof a?0:a,(0<=i.type.indexOf("stacked")||"pie"===i.type||"doughnut"===i.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var s="#percent",l="#total",h=this.getPercentAndTotal(i,e),l=isNaN(h.total)?l:h.total,s=isNaN(h.percent)?s:h.percent;do{if(h="",i.percentFormatString)h=i.percentFormatString;else{var h="#,##0.",u=Math.max(Math.ceil(Math.log(1/Math.abs(s))/Math.LN10),2);!isNaN(u)&&isFinite(u)||(u=2);for(var c=0;c<u;c++)h+="#"}t=t.replace("#percent",Z(s,h,o._cultureInfo)),t=t.replace("#total",Z(l,i.yValueFormatString?i.yValueFormatString:"#,##0.########"))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=r(t.slice(1,t.length-1)),t=t.replace("#index",a);var s=null;try{var l=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);l&&0<l.length&&(s=r(l[2]),t=r(l[1]))}catch(t){}if(l=null,"color"===t)return e.color?e.color:i.color?i.color:i._colorSet[n%i._colorSet.length];if(e.hasOwnProperty(t))l=e;else{if(!i.hasOwnProperty(t))return"";l=i}return l=l[t],null!==s&&(l=l[s]),"x"===t?!o.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic&&("dateTime"===o.plotInfo.axisXValueType||"dateTime"===i.xValueType||e.x&&e.x.getTime)?K(l,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:o.axisX&&o.axisX.autoValueFormatString?o.axisX.autoValueFormatString:"DD MMM YY",o._cultureInfo):Z(l,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:"#,##0.########",o._cultureInfo):"y"===t?Z(l,e.yValueFormatString?e.yValueFormatString:i.yValueFormatString?i.yValueFormatString:"#,##0.########",o._cultureInfo):"z"===t?Z(l,e.zValueFormatString?e.zValueFormatString:i.zValueFormatString?i.zValueFormatString:"#,##0.########",o._cultureInfo):l})},N.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],H&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},N.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},N.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],i=Q(t),n=null;if((n=this.chart.getObjectAtXY(i.x,i.y,!1))&&"undefined"!=typeof this.objectMap[n])if(n=this.objectMap[n],"dataPoint"===n.objectType){var a=this.chart.data[n.dataSeriesIndex],r=a.dataPoints[n.dataPointIndex],o=n.dataPointIndex;n.eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:a._options,dataPointIndex:o,dataSeriesIndex:a.index,chart:this.chart._publicChartReference},n.eventContext={context:r,userContext:r,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(n),n=this.objectMap[a.id],n.eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:a._options,dataPointIndex:o,dataSeriesIndex:a.index,chart:this.chart._publicChartReference},n.eventContext={context:a,userContext:a._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[a.id])}else"legendItem"===n.objectType&&(a=this.chart.data[n.dataSeriesIndex],r=null!==n.dataPointIndex?a.dataPoints[n.dataPointIndex]:null,n.eventParameter={x:i.x,y:i.y,dataSeries:a._options,dataPoint:r,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart._publicChartReference},n.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(n));for(a=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(r=!0,n=0;n<e.length;n++)if(e[n].id===this.mouseoveredObjectMaps[i].id){r=!1;break}r?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):a.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=a,i=0;i<e.length;i++){for(a=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(e[i].id===this.mouseoveredObjectMaps[n].id){a=!0;break}a||(this.fireEvent(e[i],"mouseover",t),this.mouseoveredObjectMaps.push(e[i])),"click"===t.type?this.fireEvent(e[i],"click",t):"mousemove"===t.type&&this.fireEvent(e[i],"mousemove",t)}}},N.prototype.fireEvent=function(t,e,i){if(t&&e){var n=t.eventParameter,a=t.eventContext,r=t.eventContext.userContext;r&&a&&r[a[e]]&&r[a[e]].call(r,n),"mouseout"!==e?r.cursor&&r.cursor!==i.target.style.cursor&&(i.target.style.cursor=r.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},t(V,T),R.prototype.animate=function(t,e,i,n,a){var r=this;for(this.chart.isAnimating=!0,a=a||lt.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t?t:0),duration:e,animationCallback:i,onComplete:n}),t=[];0<this.animations.length;)e=this.animations.shift(),i=(new Date).getTime(),n=0,e.startTime<=i&&(n=a(Math.min(i-e.startTime,e.duration),0,1,e.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(e),e.animationCallback(n),1<=n&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){r.animate.call(r)}):this.chart.isAnimating=!1},R.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var lt={yScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,a=e.animationBase;i.drawImage(n,0,0,n.width,n.height,0,a-a*t,i.canvas.width/nt,t*i.canvas.height/nt)}},xScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,a=e.animationBase;i.drawImage(n,0,0,n.width,n.height,a-a*t,0,t*i.canvas.width/nt,i.canvas.height/nt)}
},xClipAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),0<t&&i.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/nt,n.height/nt),i.restore()}},fadeInAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(n,0,0,n.width,n.height,0,0,i.canvas.width/nt,i.canvas.height/nt),i.restore()}},easing:{linear:function(t,e,i,n){return i*t/n+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e}}},ht={drawMarker:function(t,e,i,n,a,r,o,s){if(i){var l=1;i.fillStyle=r?r:"#000000",i.strokeStyle=o?o:"#000000",i.lineWidth=s?s:0,"circle"===n?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,a/2,0,2*Math.PI,!1),r&&i.fill(),s&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"square"===n?(i.beginPath(),i.rect(t-a/2,e-a/2,a,a),r&&i.fill(),s&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"triangle"===n?(i.beginPath(),i.moveTo(t-a/2,e+a/2),i.lineTo(t+a/2,e+a/2),i.lineTo(t,e-a/2),i.closePath(),r&&i.fill(),s&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l)),i.beginPath()):"cross"===n&&(i.strokeStyle=r,i.lineWidth=a/4,i.beginPath(),i.moveTo(t-a/2,e-a/2),i.lineTo(t+a/2,e+a/2),i.stroke(),i.moveTo(t+a/2,e-a/2),i.lineTo(t-a/2,e+a/2),i.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];ht.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}},ut={Chart:function(t,e){var i=new S(t,e,this);this.render=function(){i.render(this.options)},this.options=i._options},addColorSet:function(t,e){q[t]=e},addCultureInfo:function(t,e){Y[t]=e},formatNumber:function(t,e,i){if(i=i||"en",Y[i])return Z(t,e||"#,##0.##",new V(i));throw"Unknown Culture Name"},formatDate:function(t,e,i){if(i=i||"en",Y[i])return K(t,e||"DD MMM YYYY",new V(i));throw"Unknown Culture Name"}};ut.Chart.version="v1.9.1 GA",window.CanvasJS=ut}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new p(this))}function e(t,e){var i=F.call(arguments,2);return function(){return t.apply(e,i.concat(F.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||(t=t.createStyleSheet(),t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function a(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function r(t){t=t.srcElement,t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function s(t,e){for(var i=o(),n=0;3>n;n++)for(var a=0;3>a;a++){for(var r=0,s=0;3>s;s++)r+=t[n][s]*e[s][a];i[n][a]=r}return i}function l(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function h(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),e=t.substring(e+1,i).split(",");return 4==e.length&&"a"==t.charAt(3)||(e[3]=1),e}function u(t,e,i){return Math.min(i,Math.max(e,t))}function c(t,e,i){return 0>i&&i++,1<i&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}function d(t){if(t in z)return z[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){i=h(t),e="#";for(var n,a=0;3>a;a++)n=-1!=i[a].indexOf("%")?Math.floor(255*(parseFloat(i[a])/100)):+i[a],e+=L[u(n,0,255)];i=+i[3]}else if(/^hsl/.test(t)){if(a=i=h(t),e=parseFloat(a[0])/360%360,0>e&&e++,n=u(parseFloat(a[1])/100,0,1),a=u(parseFloat(a[2])/100,0,1),0==n)n=a=e=a;else{var r=.5>a?a*(1+n):a+n-a*n,o=2*a-r;n=c(o,r,e+1/3),a=c(o,r,e),e=c(o,r,e-1/3)}e="#"+L[Math.floor(255*n)]+L[Math.floor(255*a)]+L[Math.floor(255*e)],i=i[3]}else e=E[t]||t;return z[t]={color:e,alpha:i}}function p(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*A,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i),e=i.cloneNode(!1),e.style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=i,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function f(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function g(t,e){var i=d(t.strokeStyle),n=i.color,i=i.alpha*t.globalAlpha,a=t.lineScale_*t.lineWidth;1>a&&(i*=a),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',N[t.lineCap]||"square",'"',' weight="',a,'px"',' color="',n,'" />')}function m(t,e,i,n){var a=t.fillStyle,r=t.arcScaleX_,o=t.arcScaleY_,s=n.x-i.x,l=n.y-i.y;if(a instanceof y){var h=0,u=n=0,c=0,p=1;if("gradient"==a.type_){h=a.x1_/r,i=a.y1_/o;var f=x(t,a.x0_/r,a.y0_/o),h=x(t,h,i),h=180*Math.atan2(h.x-f.x,h.y-f.y)/Math.PI;0>h&&(h+=360),1e-6>h&&(h=0)}else f=x(t,a.x0_,a.y0_),n=(f.x-i.x)/s,u=(f.y-i.y)/l,s/=r*A,l/=o*A,p=M.max(s,l),c=2*a.r0_/p,p=2*a.r1_/p-c;r=a.colors_,r.sort(function(t,e){return t.offset-e.offset}),o=r.length,f=r[0].color,i=r[o-1].color,s=r[0].alpha*t.globalAlpha,t=r[o-1].alpha*t.globalAlpha;for(var l=[],g=0;g<o;g++){var m=r[g];l.push(m.offset*p+c+" "+m.color)}e.push('<g_vml_:fill type="',a.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',i,'"',' colors="',l.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',s,'"',' angle="',h,'"',' focusposition="',n,",",u,'" />')}else a instanceof b?s&&l&&e.push("<g_vml_:fill",' position="',-i.x/s*r*r,",",-i.y/l*o*o,'"',' type="tile"',' src="',a.src_,'" />'):(a=d(t.fillStyle),e.push('<g_vml_:fill color="',a.color,'" opacity="',a.alpha*t.globalAlpha,'" />'))}function x(t,e,i){return t=t.m_,{x:A*(e*t[0][0]+i*t[1][0]+t[2][0])-P,y:A*(e*t[0][1]+i*t[1][1]+t[2][1])-P}}function v(t,e,i){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,i&&(t.lineScale_=k(C(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function y(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function b(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new _("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new _("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new _("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function _(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var M=Math,w=M.round,T=M.sin,S=M.cos,C=M.abs,k=M.sqrt,A=10,P=A/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var F=Array.prototype.slice;n(document);var D={init:function(t){t=t||document,t.createElement("canvas"),t.attachEvent("onreadystatechange",e(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",a),e.attachEvent("onresize",r);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};D.init();for(var L=[],B=0;16>B;B++)for(var I=0;16>I;I++)L[16*B+I]=B.toString(16)+I.toString(16);var E={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},z={},W={},N={butt:"flat",round:"round"},B=p.prototype;B.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},B.beginPath=function(){this.currentPath_=[]},B.moveTo=function(t,e){var i=x(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},B.lineTo=function(t,e){var i=x(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},B.bezierCurveTo=function(t,e,i,n,a,r){a=x(this,a,r),t=x(this,t,e),i=x(this,i,n),f(this,t,i,a)},B.quadraticCurveTo=function(t,e,i,n){t=x(this,t,e),i=x(this,i,n),n={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},f(this,n,{x:n.x+(i.x-this.currentX_)/3,y:n.y+(i.y-this.currentY_)/3},i)},B.arc=function(t,e,i,n,a,r){i*=A;var o=r?"at":"wa",s=t+S(n)*i-P,l=e+T(n)*i-P;n=t+S(a)*i-P,a=e+T(a)*i-P,s!=n||r||(s+=.125),t=x(this,t,e),s=x(this,s,l),n=x(this,n,a),this.currentPath_.push({type:o,x:t.x,y:t.y,radius:i,xStart:s.x,yStart:s.y,xEnd:n.x,yEnd:n.y})},B.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},B.strokeRect=function(t,e,i,n){var a=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=a},B.fillRect=function(t,e,i,n){var a=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=a},B.createLinearGradient=function(t,e,i,n){var a=new y("gradient");return a.x0_=t,a.y0_=e,a.x1_=i,a.y1_=n,a},B.createRadialGradient=function(t,e,i,n,a,r){var o=new y("gradientradial");return o.x0_=t,o.y0_=e,o.r0_=i,o.x1_=n,o.y1_=a,o.r1_=r,o},B.drawImage=function(t){var e,i,n,a,r,o,s,l;n=t.runtimeStyle.width,a=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var h=t.width,u=t.height;if(t.runtimeStyle.width=n,t.runtimeStyle.height=a,3==arguments.length)e=arguments[1],i=arguments[2],r=o=0,s=n=h,l=a=u;else if(5==arguments.length)e=arguments[1],i=arguments[2],n=arguments[3],a=arguments[4],r=o=0,s=h,l=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");r=arguments[1],o=arguments[2],s=arguments[3],l=arguments[4],e=arguments[5],i=arguments[6],n=arguments[7],a=arguments[8]}var c=x(this,e,i),d=[];if(d.push(" <g_vml_:group",' coordsize="',10*A,",",10*A,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var p=[];p.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",w(c.x/A),",","Dy=",w(c.y/A),"");var f=x(this,e+n,i),g=x(this,e,i+a);e=x(this,e+n,i+a),c.x=M.max(c.x,f.x,g.x,e.x),c.y=M.max(c.y,f.y,g.y,e.y),d.push("padding:0 ",w(c.x/A),"px ",w(c.y/A),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",p.join(""),", sizingmethod='clip');")}else d.push("top:",w(c.y/A),"px;left:",w(c.x/A),"px;");d.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',A*n,"px;"," height:",A*a,'px"',' cropleft="',r/h,'"',' croptop="',o/u,'"',' cropright="',(h-r-s)/h,'"',' cropbottom="',(u-o-l)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",d.join(""))},B.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*A,",",10*A,'"',' stroked="',!t,'"',' path="');for(var i={x:null,y:null},n={x:null,y:null},a=0;a<this.currentPath_.length;a++){var r=this.currentPath_[a];switch(r.type){case"moveTo":e.push(" m ",w(r.x),",",w(r.y));break;case"lineTo":e.push(" l ",w(r.x),",",w(r.y));break;case"close":e.push(" x "),r=null;break;case"bezierCurveTo":e.push(" c ",w(r.cp1x),",",w(r.cp1y),",",w(r.cp2x),",",w(r.cp2y),",",w(r.x),",",w(r.y));break;case"at":case"wa":e.push(" ",r.type," ",w(r.x-this.arcScaleX_*r.radius),",",w(r.y-this.arcScaleY_*r.radius)," ",w(r.x+this.arcScaleX_*r.radius),",",w(r.y+this.arcScaleY_*r.radius)," ",w(r.xStart),",",w(r.yStart)," ",w(r.xEnd),",",w(r.yEnd))}r&&((null==i.x||r.x<i.x)&&(i.x=r.x),(null==n.x||r.x>n.x)&&(n.x=r.x),(null==i.y||r.y<i.y)&&(i.y=r.y),(null==n.y||r.y>n.y)&&(n.y=r.y))}e.push(' ">'),t?m(this,e,i,n):g(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},B.fill=function(){this.stroke(!0)},B.closePath=function(){this.currentPath_.push({type:"close"})},B.save=function(){var t={};l(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=s(o(),this.m_)},B.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},B.translate=function(t,e){v(this,s([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},B.rotate=function(t){var e=S(t);t=T(t),v(this,s([[e,t,0],[-t,e,0],[0,0,1]],this.m_),!1)},B.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,v(this,s([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},B.transform=function(t,e,i,n,a,r){v(this,s([[t,e,0],[i,n,0],[a,r,1]],this.m_),!0)},B.setTransform=function(t,e,i,n,a,r){v(this,[[t,e,0],[i,n,0],[a,r,1]],!0)},B.drawText_=function(t,e,n,a,r){var o=this.m_;a=0;var s,l=1e3,h=0,u=[];if(s=this.font,W[s])s=W[s];else{var c=document.createElement("div").style;try{c.font=s}catch(t){}s=W[s]={style:c.fontStyle||"normal",variant:c.fontVariant||"normal",weight:c.fontWeight||"normal",size:c.fontSize||10,family:c.fontFamily||"sans-serif"}}var c=s,d=this.element_;s={};for(var p in c)s[p]=c[p];switch(p=parseFloat(d.currentStyle.fontSize),d=parseFloat(c.size),"number"==typeof c.size?s.size=c.size:-1!=c.size.indexOf("px")?s.size=d:-1!=c.size.indexOf("em")?s.size=p*d:-1!=c.size.indexOf("%")?s.size=p/100*d:-1!=c.size.indexOf("pt")?s.size=d/.75:s.size=p,s.size*=.981,p=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,d=this.element_.currentStyle,c=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":c="ltr"==d.direction?"right":"left";break;case"start":c="rtl"==d.direction?"right":"left";break;default:c="left"}switch(this.textBaseline){case"hanging":case"top":h=s.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":h=-s.size/2.25}switch(c){case"right":a=1e3,l=.05;break;case"center":a=l=500}e=x(this,e+0,n+h),u.push('<g_vml_:line from="',-a,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?g(this,u):m(this,u,{x:-a,y:0},{x:l,y:s.size}),r=o[0][0].toFixed(3)+","+o[1][0].toFixed(3)+","+o[0][1].toFixed(3)+","+o[1][1].toFixed(3)+",0,0",e=w(e.x/A)+","+w(e.y/A),u.push('<g_vml_:skew on="t" matrix="',r,'" ',' offset="',e,'" origin="',a,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',c,";font:",i(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",u.join(""))},B.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},B.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},B.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},B.clip=function(){},B.arcTo=function(){},B.createPattern=function(t,e){return new b(t,e)},y.prototype.addColorStop=function(t,e){e=d(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},B=_.prototype=Error(),B.INDEX_SIZE_ERR=1,B.DOMSTRING_SIZE_ERR=2,B.HIERARCHY_REQUEST_ERR=3,B.WRONG_DOCUMENT_ERR=4,B.INVALID_CHARACTER_ERR=5,B.NO_DATA_ALLOWED_ERR=6,B.NO_MODIFICATION_ALLOWED_ERR=7,B.NOT_FOUND_ERR=8,B.NOT_SUPPORTED_ERR=9,B.INUSE_ATTRIBUTE_ERR=10,B.INVALID_STATE_ERR=11,B.SYNTAX_ERR=12,B.INVALID_MODIFICATION_ERR=13,B.NAMESPACE_ERR=14,B.INVALID_ACCESS_ERR=15,B.VALIDATION_ERR=16,B.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=D,CanvasRenderingContext2D=p,CanvasGradient=y,CanvasPattern=b,DOMException=_}(),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function r(t){return{left:function(e,i,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=e.length);a>n;){var r=n+a>>>1;t(e[r],i)<0?n=r+1:a=r}return n},right:function(e,i,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=e.length);a>n;){var r=n+a>>>1;t(e[r],i)>0?a=r:n=r+1}return n}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}function h(){this._=Object.create(null)}function u(t){return(t+="")===yo||t[0]===bo?bo+t:t}function c(t){return(t+="")[0]===bo?t.slice(1):t}function d(t){return u(t)in this._}function p(t){return(t=u(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(c(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function x(){this._=Object.create(null)}function v(t){return t}function y(t,e,i){return function(){var n=i.apply(e,arguments);return n===e?t:n}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,n=_o.length;n>i;++i){var a=_o[i]+e;if(a in t)return a}}function _(){}function M(){}function w(t){function e(){for(var e,n=i,a=-1,r=n.length;++a<r;)(e=n[a].on)&&e.apply(this,arguments);return t}var i=[],n=new h;return e.on=function(e,a){var r,o=n.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,i=i.slice(0,r=i.indexOf(o)).concat(i.slice(r+1)),n.remove(e)),a&&i.push(n.set(e,{on:a})),t)},e}function T(){so.event.preventDefault()}function S(){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new M,i=0,n=arguments.length;++i<n;)e[arguments[i]]=w(e);return e.of=function(i,n){return function(a){try{var r=a.sourceEvent=so.event;a.target=t,so.event=a,e[a.type].apply(i,n)}finally{so.event=r}}},e}function k(t){return wo(t,ko),t}function A(t){return"function"==typeof t?t:function(){return To(t,this)}}function P(t){return"function"==typeof t?t:function(){return So(t,this)}}function F(t,e){function i(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function r(){this.setAttributeNS(t.space,t.local,e)}function o(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function s(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=so.ns.qualify(t),null==e?t.local?n:i:"function"==typeof e?t.local?s:o:t.local?r:a}function D(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function B(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function i(){for(var i=-1;++i<a;)t[i](this,e)}function n(){for(var i=-1,n=e.apply(this,arguments);++i<a;)t[i](this,n)}t=B(t).map(E);var a=t.length;return"function"==typeof e?n:i}function E(t){var e=L(t);return function(i,n){if(a=i.classList)return n?a.add(t):a.remove(t);var a=i.getAttribute("class")||"";n?(e.lastIndex=0,e.test(a)||i.setAttribute("class",D(a+" "+t))):i.setAttribute("class",D(a.replace(e," ")))}}function z(t,e,i){function n(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,i)}function r(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}return null==e?n:"function"==typeof e?r:a}function W(t,e){function i(){delete this[t]}function n(){this[t]=e}function a(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?a:n}function N(t){function e(){var e=this.ownerDocument,i=this.namespaceURI;return i===Ao&&e.documentElement.namespaceURI===Ao?e.createElement(t):e.createElementNS(i,t)}function i(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=so.ns.qualify(t)).local?i:e}function V(){var t=this.parentNode;t&&t.removeChild(this)}function R(t){return{__data__:t}}function j(t){return function(){return Co(this,t)}}function O(t){return arguments.length||(t=i),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function H(t,e){for(var i=0,n=t.length;n>i;i++)for(var a,r=t[i],o=0,s=r.length;s>o;o++)(a=r[o])&&e(a,o,i);return t}function X(t){return wo(t,Fo),t}function Y(t){var e,i;return function(n,a,r){var o,s=t[r].update,l=s.length;for(r!=i&&(i=r,e=0),a>=e&&(e=a+1);!(o=s[e])&&++e<l;);return o}}function q(t,e,i){function n(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function a(){var a=l(e,ho(arguments));n.call(this),this.addEventListener(t,this[o]=a,a.$=i),a._=e}function r(){var e,i=new RegExp("^__on([^.]+)"+so.requote(t)+"$");for(var n in this)if(e=n.match(i)){var a=this[n];this.removeEventListener(e[1],a,a.$),delete this[n]}}var o="__on"+t,s=t.indexOf("."),l=U;s>0&&(t=t.slice(0,s));var h=Do.get(t);return h&&(t=h,l=$),s?e?a:n:e?_:r}function U(t,e){return function(i){var n=so.event;so.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{so.event=n}}}function $(t,e){var i=U(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function G(i){var n=".dragsuppress-"+ ++Bo,a="click"+n,r=so.select(e(i)).on("touchmove"+n,T).on("dragstart"+n,T).on("selectstart"+n,T);if(null==Lo&&(Lo=!("onselectstart"in i)&&b(i.style,"userSelect")),Lo){var o=t(i).style,s=o[Lo];o[Lo]="none"}return function(t){if(r.on(n,null),Lo&&(o[Lo]=s),t){var e=function(){r.on(a,null)};r.on(a,function(){T(),e()},!0),setTimeout(e,0)}}}function J(t,i){i.changedTouches&&(i=i.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();if(0>Io){var r=e(t);if(r.scrollX||r.scrollY){n=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Io=!(o.f||o.e),n.remove()}}return Io?(a.x=i.pageX,a.y=i.pageY):(a.x=i.clientX,a.y=i.clientY),a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var s=t.getBoundingClientRect();return[i.clientX-s.left-t.clientLeft,i.clientY-s.top-t.clientTop]}function K(){return so.event.changedTouches[0].identifier}function Z(t){return t>0?1:0>t?-1:0}function Q(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function tt(t){return t>1?0:-1>t?Wo:Math.acos(t)}function et(t){return t>1?Ro:-1>t?-Ro:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function nt(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function rt(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,i){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):_t(""+t,Mt,st):new st(t,e,i)}function lt(t,e,i){function n(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(o-r)*t/60:180>t?o:240>t?r+(o-r)*(240-t)/60:r}function a(t){return Math.round(255*n(t))}var r,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,i=0>i?0:i>1?1:i,o=.5>=i?i*(1+e):i+e-i*e,r=2*i-o,new xt(a(t+120),a(t),a(t-120))}function ht(t,e,i){return this instanceof ht?(this.h=+t,this.c=+e,void(this.l=+i)):arguments.length<2?t instanceof ht?new ht(t.h,t.c,t.l):t instanceof ct?pt(t.l,t.a,t.b):pt((t=wt((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ht(t,e,i)}function ut(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ct(i,Math.cos(t*=jo)*e,Math.sin(t)*e)}function ct(t,e,i){return this instanceof ct?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof ct?new ct(t.l,t.a,t.b):t instanceof ht?ut(t.h,t.c,t.l):wt((t=xt(t)).r,t.g,t.b):new ct(t,e,i)}function dt(t,e,i){var n=(t+16)/116,a=n+e/500,r=n-i/200;return a=ft(a)*Zo,n=ft(n)*Qo,r=ft(r)*ts,new xt(mt(3.2404542*a-1.5371385*n-.4985314*r),mt(-.969266*a+1.8760108*n+.041556*r),mt(.0556434*a-.2040259*n+1.0572252*r))}function pt(t,e,i){return t>0?new ht(Math.atan2(i,e)*Oo,Math.sqrt(e*e+i*i),t):new ht(NaN,NaN,t)}function ft(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function xt(t,e,i){return this instanceof xt?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof xt?new xt(t.r,t.g,t.b):_t(""+t,xt,lt):new xt(t,e,i)}function vt(t){return new xt(t>>16,t>>8&255,255&t)}function yt(t){return vt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _t(t,e,i){var n,a,r,o=0,s=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(a=n[2].split(","),n[1]){case"hsl":return i(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(St(a[0]),St(a[1]),St(a[2]))}return(r=ns.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&r)>>4,o=o>>4|o,s=240&r,s=s>>4|s,l=15&r,l=l<<4|l):7===t.length&&(o=(16711680&r)>>16,s=(65280&r)>>8,l=255&r)),e(o,s,l))}function Mt(t,e,i){var n,a,r=Math.min(t/=255,e/=255,i/=255),o=Math.max(t,e,i),s=o-r,l=(o+r)/2;return s?(a=.5>l?s/(o+r):s/(2-o-r),n=t==o?(e-i)/s+(i>e?6:0):e==o?(i-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,a=l>0&&1>l?0:n),new st(n,a,l)}function wt(t,e,i){t=Tt(t),e=Tt(e),i=Tt(i);var n=gt((.4124564*t+.3575761*e+.1804375*i)/Zo),a=gt((.2126729*t+.7151522*e+.072175*i)/Qo),r=gt((.0193339*t+.119192*e+.9503041*i)/ts);return ct(116*a-16,500*(n-a),200*(a-r))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function kt(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),At(e,i,t,n)}}function At(t,e,i,n){function a(){var t,e=l.status;if(!e&&Ft(l)||e>=200&&300>e||304===e){try{t=i.call(r,l)}catch(t){return void o.error.call(r,t)}o.load.call(r,t)}else o.error.call(r,l)}var r={},o=so.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,h=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(t){var e=so.event;so.event=t;try{o.progress.call(r,l)}finally{so.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(h=t,r):h},r.response=function(t){return i=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(ho(arguments)))}}),r.send=function(i,n,a){if(2===arguments.length&&"function"==typeof n&&(a=n,n=null),l.open(i,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=a&&r.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(r,l),l.send(null==n?null:n),r},r.abort=function(){return l.abort(),r},so.rebind(r,o,"on"),null==n?r:r.get(Pt(n))}function Pt(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function Ft(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(t,e,i){var n=arguments.length;2>n&&(e=0),3>n&&(i=Date.now());var a=i+e,r={c:t,t:a,n:null};return rs?rs.n=r:as=r,rs=r,os||(ss=clearTimeout(ss),os=1,ls(Lt)),r}function Lt(){var t=Bt(),e=It()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Lt,e)),os=0):(os=1,ls(Lt))}function Bt(){for(var t=Date.now(),e=as;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=as,i=1/0;e;)e.c?(e.t<i&&(i=e.t),e=(t=e).n):e=t?t.n=e.n:as=e.n;return rs=t,i}function Et(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,e){var i=Math.pow(10,3*vo(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Wt(t){var e=t.decimal,i=t.thousands,n=t.grouping,a=t.currency,r=n&&i?function(t,e){for(var a=t.length,r=[],o=0,s=n[0],l=0;a>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),r.push(t.substring(a-=s,a+s)),!((l+=s+1)>e));)s=n[o=(o+1)%n.length];return r.reverse().join(i)}:v;return function(t){var i=us.exec(t),n=i[1]||" ",o=i[2]||">",s=i[3]||"-",l=i[4]||"",h=i[5],u=+i[6],c=i[7],d=i[8],p=i[9],f=1,g="",m="",x=!1,v=!0;switch(d&&(d=+d.substring(1)),(h||"0"===n&&"="===o)&&(h=n="0",o="="),p){case"n":c=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":v=!1;case"d":x=!0,d=0;break;case"s":f=-1,p="r"}"$"===l&&(g=a[0],m=a[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=cs.get(p)||Nt;var y=h&&c;return function(t){var i=m;if(x&&t%1)return"";var a=0>t||0===t&&0>1/t?(t=-t,
"-"):"-"===s?"":s;if(0>f){var l=so.formatPrefix(t,d);t=l.scale(t),i=l.symbol+m}else t*=f;t=p(t,d);var b,_,M=t.lastIndexOf(".");if(0>M){var w=v?t.lastIndexOf("e"):-1;0>w?(b=t,_=""):(b=t.substring(0,w),_=t.substring(w))}else b=t.substring(0,M),_=e+t.substring(M+1);!h&&c&&(b=r(b,1/0));var T=g.length+b.length+_.length+(y?0:a.length),S=u>T?new Array(T=u-T+1).join(n):"";return y&&(b=r(S+b,S.length?u-_.length:1/0)),a+=g,t=b+_,("<"===o?a+t+S:">"===o?S+a+t:"^"===o?S.substring(0,T>>=1)+a+t+S.substring(T):a+(y?t:S+t))+i}}}function Nt(t){return t+""}function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Rt(t,e,i){function n(e){var i=t(e),n=r(i,1);return n-e>e-i?i:n}function a(i){return e(i=t(new ps(i-1)),1),i}function r(t,i){return e(t=new ps(+t),i),t}function o(t,n,r){var o=a(t),s=[];if(r>1)for(;n>o;)i(o)%r||s.push(new Date(+o)),e(o,1);else for(;n>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,i){try{ps=Vt;var n=new Vt;return n._=t,o(n,e,i)}finally{ps=Date}}t.floor=t,t.round=n,t.ceil=a,t.offset=r,t.range=o;var l=t.utc=jt(t);return l.floor=l,l.round=jt(n),l.ceil=jt(a),l.offset=jt(r),l.range=s,t}function jt(t){return function(e,i){try{ps=Vt;var n=new Vt;return n._=e,t(n,i)._}finally{ps=Date}}}function Ot(t){function e(t){function e(e){for(var i,a,r,o=[],s=-1,l=0;++s<n;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(a=gs[i=t.charAt(++s)])&&(i=t.charAt(++s)),(r=A[i])&&(i=r(e,null==a?"e"===i?" ":"0":a)),o.push(i),l=s+1);return o.push(t.slice(l,s)),o.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=i(n,t,e,0);if(a!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ps!==Vt,o=new(r?Vt:ps);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?o._:o},e.toString=function(){return t},e}function i(t,e,i,n){for(var a,r,o,s=0,l=e.length,h=i.length;l>s;){if(n>=h)return-1;if(a=e.charCodeAt(s++),37===a){if(o=e.charAt(s++),r=P[o in gs?e.charAt(s++):o],!r||(n=r(t,i,n))<0)return-1}else if(a!=i.charCodeAt(n++))return-1}return n}function n(t,e,i){M.lastIndex=0;var n=M.exec(e.slice(i));return n?(t.w=w.get(n[0].toLowerCase()),i+n[0].length):-1}function a(t,e,i){b.lastIndex=0;var n=b.exec(e.slice(i));return n?(t.w=_.get(n[0].toLowerCase()),i+n[0].length):-1}function r(t,e,i){C.lastIndex=0;var n=C.exec(e.slice(i));return n?(t.m=k.get(n[0].toLowerCase()),i+n[0].length):-1}function o(t,e,i){T.lastIndex=0;var n=T.exec(e.slice(i));return n?(t.m=S.get(n[0].toLowerCase()),i+n[0].length):-1}function s(t,e,n){return i(t,A.c.toString(),e,n)}function l(t,e,n){return i(t,A.x.toString(),e,n)}function h(t,e,n){return i(t,A.X.toString(),e,n)}function u(t,e,i){var n=y.get(e.slice(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)}var c=t.dateTime,d=t.date,p=t.time,f=t.periods,g=t.days,m=t.shortDays,x=t.months,v=t.shortMonths;e.utc=function(t){function i(t){try{ps=Vt;var e=new ps;return e._=t,n(e)}finally{ps=Date}}var n=e(t);return i.parse=function(t){try{ps=Vt;var e=n.parse(t);return e&&e._}finally{ps=Date}},i.toString=n.toString,i},e.multi=e.utc.multi=le;var y=so.map(),b=Xt(g),_=Yt(g),M=Xt(m),w=Yt(m),T=Xt(x),S=Yt(x),C=Xt(v),k=Yt(v);f.forEach(function(t,e){y.set(t.toLowerCase(),e)});var A={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return x[t.getMonth()]},c:e(c),d:function(t,e){return Ht(t.getDate(),e,2)},e:function(t,e){return Ht(t.getDate(),e,2)},H:function(t,e){return Ht(t.getHours(),e,2)},I:function(t,e){return Ht(t.getHours()%12||12,e,2)},j:function(t,e){return Ht(1+ds.dayOfYear(t),e,3)},L:function(t,e){return Ht(t.getMilliseconds(),e,3)},m:function(t,e){return Ht(t.getMonth()+1,e,2)},M:function(t,e){return Ht(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Ht(t.getSeconds(),e,2)},U:function(t,e){return Ht(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ht(ds.mondayOfYear(t),e,2)},x:e(d),X:e(p),y:function(t,e){return Ht(t.getFullYear()%100,e,2)},Y:function(t,e){return Ht(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},P={a:n,A:a,b:r,B:o,c:s,d:te,e:te,H:ie,I:ie,j:ee,L:re,m:Qt,M:ne,p:u,S:ae,U:Ut,w:qt,W:$t,x:l,X:h,y:Jt,Y:Gt,Z:Kt,"%":se};return e}function Ht(t,e,i){var n=0>t?"-":"",a=(n?-t:t)+"",r=a.length;return n+(i>r?new Array(i-r+1).join(e)+a:a)}function Xt(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Yt(t){for(var e=new h,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function qt(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Ut(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i));return n?(t.U=+n[0],i+n[0].length):-1}function $t(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i));return n?(t.W=+n[0],i+n[0].length):-1}function Gt(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function Jt(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.y=Zt(+n[0]),i+n[0].length):-1}function Kt(t,e,i){return/^[+-]\d{4}$/.test(e=e.slice(i,i+5))?(t.Z=-e,i+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function te(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function ee(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function ie(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function ne(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function ae(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function re(t,e,i){ms.lastIndex=0;var n=ms.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",n=vo(e)/60|0,a=vo(e)%60;return i+Ht(n,"0",2)+Ht(a,"0",2)}function se(t,e,i){xs.lastIndex=0;var n=xs.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function le(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,n=t[i];!n[1](e);)n=t[++i];return n[0](e)}}function he(){}function ue(t,e,i){var n=i.s=t+e,a=n-t,r=n-a;i.t=t-r+(e-a)}function ce(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function de(t,e,i){var n,a=-1,r=t.length-i;for(e.lineStart();++a<r;)n=t[a],e.point(n[0],n[1],n[2]);e.lineEnd()}function pe(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)de(t[i],e,1);e.polygonEnd()}function fe(){function t(t,e){t*=jo,e=e*jo/2+Wo/4;var i=t-n,o=i>=0?1:-1,s=o*i,l=Math.cos(e),h=Math.sin(e),u=r*h,c=a*l+u*Math.cos(s),d=u*o*Math.sin(s);ws.add(Math.atan2(d,c)),n=t,a=l,r=h}var e,i,n,a,r;Ts.point=function(o,s){Ts.point=t,n=(e=o)*jo,a=Math.cos(s=(i=s)*jo/2+Wo/4),r=Math.sin(s)},Ts.lineEnd=function(){t(e,i)}}function ge(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _e(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Me(t,e){return vo(t[0]-e[0])<Eo&&vo(t[1]-e[1])<Eo}function we(t,e){t*=jo;var i=Math.cos(e*=jo);Te(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function Te(t,e,i){++Ss,ks+=(t-ks)/Ss,As+=(e-As)/Ss,Ps+=(i-Ps)/Ss}function Se(){function t(t,a){t*=jo;var r=Math.cos(a*=jo),o=r*Math.cos(t),s=r*Math.sin(t),l=Math.sin(a),h=Math.atan2(Math.sqrt((h=i*l-n*s)*h+(h=n*o-e*l)*h+(h=e*s-i*o)*h),e*o+i*s+n*l);Cs+=h,Fs+=h*(e+(e=o)),Ds+=h*(i+(i=s)),Ls+=h*(n+(n=l)),Te(e,i,n)}var e,i,n;zs.point=function(a,r){a*=jo;var o=Math.cos(r*=jo);e=o*Math.cos(a),i=o*Math.sin(a),n=Math.sin(r),zs.point=t,Te(e,i,n)}}function Ce(){zs.point=we}function ke(){function t(t,e){t*=jo;var i=Math.cos(e*=jo),o=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(e),h=a*l-r*s,u=r*o-n*l,c=n*s-a*o,d=Math.sqrt(h*h+u*u+c*c),p=n*o+a*s+r*l,f=d&&-tt(p)/d,g=Math.atan2(d,p);Bs+=f*h,Is+=f*u,Es+=f*c,Cs+=g,Fs+=g*(n+(n=o)),Ds+=g*(a+(a=s)),Ls+=g*(r+(r=l)),Te(n,a,r)}var e,i,n,a,r;zs.point=function(o,s){e=o,i=s,zs.point=t,o*=jo;var l=Math.cos(s*=jo);n=l*Math.cos(o),a=l*Math.sin(o),r=Math.sin(s),Te(n,a,r)},zs.lineEnd=function(){t(e,i),zs.lineEnd=Ce,zs.point=we}}function Ae(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return i=e.invert(i,n),i&&t.invert(i[0],i[1])}),i}function Pe(){return!0}function Fe(t,e,i,n,a){var r=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(Me(i,n)){a.lineStart();for(var s=0;e>s;++s)a.point((i=t[s])[0],i[1]);return void a.lineEnd()}var l=new Le(i,t,null,!0),h=new Le(i,null,l,!1);l.o=h,r.push(l),o.push(h),l=new Le(n,t,null,!1),h=new Le(n,null,l,!0),l.o=h,r.push(l),o.push(h)}}),o.sort(e),De(r),De(o),r.length){for(var s=0,l=i,h=o.length;h>s;++s)o[s].e=l=!l;for(var u,c,d=r[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;u=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var s=0,h=u.length;h>s;++s)a.point((c=u[s])[0],c[1]);else n(p.x,p.n.x,1,a);p=p.n}else{if(f){u=p.p.z;for(var s=u.length-1;s>=0;--s)a.point((c=u[s])[0],c[1])}else n(p.x,p.p.x,-1,a);p=p.p}p=p.o,u=p.z,f=!f}while(!p.v);a.lineEnd()}}}function De(t){if(e=t.length){for(var e,i,n=0,a=t[0];++n<e;)a.n=i=t[n],i.p=a,a=i;a.n=i=t[0],i.p=a}}function Le(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function Be(t,e,i,n){return function(a,r){function o(e,i){var n=a(e,i);t(e=n[0],i=n[1])&&r.point(e,i)}function s(t,e){var i=a(t,e);m.point(i[0],i[1])}function l(){v.point=s,m.lineStart()}function h(){v.point=o,m.lineEnd()}function u(t,e){g.push([t,e]);var i=a(t,e);b.point(i[0],i[1])}function c(){b.lineStart(),g=[]}function d(){u(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),i=y.buffer(),n=i.length;if(g.pop(),f.push(g),g=null,n)if(1&e){t=i[0];var a,n=t.length-1,o=-1;if(n>0){for(_||(r.polygonStart(),_=!0),r.lineStart();++o<n;)r.point((a=t[o])[0],a[1]);r.lineEnd()}}else n>1&&2&e&&i.push(i.pop().concat(i.shift())),p.push(i.filter(Ie))}var p,f,g,m=e(r),x=a.invert(n[0],n[1]),v={point:o,lineStart:l,lineEnd:h,polygonStart:function(){v.point=u,v.lineStart=c,v.lineEnd=d,p=[],f=[]},polygonEnd:function(){v.point=o,v.lineStart=l,v.lineEnd=h,p=so.merge(p);var t=Re(x,f);p.length?(_||(r.polygonStart(),_=!0),Fe(p,ze,t,i,r)):t&&(_||(r.polygonStart(),_=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),_&&(r.polygonEnd(),_=!1),p=f=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}},y=Ee(),b=e(y),_=!1;return v}}function Ie(t){return t.length>1}function Ee(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:_,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ze(t,e){return((t=t.x)[0]<0?t[1]-Ro-Eo:Ro-t[1])-((e=e.x)[0]<0?e[1]-Ro-Eo:Ro-e[1])}function We(t){var e,i=NaN,n=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,o){var s=r>0?Wo:-Wo,l=vo(r-i);vo(l-Wo)<Eo?(t.point(i,n=(n+o)/2>0?Ro:-Ro),t.point(a,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(r,n),e=0):a!==s&&l>=Wo&&(vo(i-a)<Eo&&(i-=a*Eo),vo(r-s)<Eo&&(r-=s*Eo),n=Ne(i,n,r,o),t.point(a,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(i=r,n=o),a=s},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function Ne(t,e,i,n){var a,r,o=Math.sin(t-i);return vo(o)>Eo?Math.atan((Math.sin(e)*(r=Math.cos(n))*Math.sin(i)-Math.sin(n)*(a=Math.cos(e))*Math.sin(t))/(a*r*o)):(e+n)/2}function Ve(t,e,i,n){var a;if(null==t)a=i*Ro,n.point(-Wo,a),n.point(0,a),n.point(Wo,a),n.point(Wo,0),n.point(Wo,-a),n.point(0,-a),n.point(-Wo,-a),n.point(-Wo,0),n.point(-Wo,a);else if(vo(t[0]-e[0])>Eo){var r=t[0]<e[0]?Wo:-Wo;a=i*r/2,n.point(-r,a),n.point(0,a),n.point(r,a)}else n.point(e[0],e[1])}function Re(t,e){var i=t[0],n=t[1],a=[Math.sin(i),-Math.cos(i),0],r=0,o=0;ws.reset();for(var s=0,l=e.length;l>s;++s){var h=e[s],u=h.length;if(u)for(var c=h[0],d=c[0],p=c[1]/2+Wo/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===u&&(m=0),t=h[m];var x=t[0],v=t[1]/2+Wo/4,y=Math.sin(v),b=Math.cos(v),_=x-d,M=_>=0?1:-1,w=M*_,T=w>Wo,S=f*y;if(ws.add(Math.atan2(S*M*Math.sin(w),g*b+S*Math.cos(w))),r+=T?_+M*No:_,T^d>=i^x>=i){var C=xe(ge(c),ge(t));be(C);var k=xe(a,C);be(k);var A=(T^_>=0?-1:1)*et(k[2]);(n>A||n===A&&(C[0]||C[1]))&&(o+=T^_>=0?1:-1)}if(!m++)break;d=x,f=y,g=b,c=t}}return(-Eo>r||Eo>r&&-Eo>ws)^1&o}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function i(t){var i,r,l,h,u;return{lineStart:function(){h=l=!1,u=1},point:function(c,d){var p,f=[c,d],g=e(c,d),m=o?g?0:a(c,d):g?a(c+(0>c?Wo:-Wo),d):0;if(!i&&(h=l=g)&&t.lineStart(),g!==l&&(p=n(i,f),(Me(i,p)||Me(f,p))&&(f[0]+=Eo,f[1]+=Eo,g=e(f[0],f[1]))),g!==l)u=0,g?(t.lineStart(),p=n(f,i),t.point(p[0],p[1])):(p=n(i,f),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(s&&i&&o^g){var x;m&r||!(x=n(f,i,!0))||(u=0,o?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!g||i&&Me(i,f)||t.point(f[0],f[1]),i=f,l=g,r=m},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return u|(h&&l)<<1}}}function n(t,e,i){var n=ge(t),a=ge(e),o=[1,0,0],s=xe(n,a),l=me(s,s),h=s[0],u=l-h*h;if(!u)return!i&&t;var c=r*l/u,d=-r*h/u,p=xe(o,s),f=ye(o,c),g=ye(s,d);ve(f,g);var m=p,x=me(f,m),v=me(m,m),y=x*x-v*(me(f,f)-1);if(!(0>y)){var b=Math.sqrt(y),_=ye(m,(-x-b)/v);if(ve(_,f),_=_e(_),!i)return _;var M,w=t[0],T=e[0],S=t[1],C=e[1];w>T&&(M=w,w=T,T=M);var k=T-w,A=vo(k-Wo)<Eo,P=A||Eo>k;if(!A&&S>C&&(M=S,S=C,C=M),P?A?S+C>0^_[1]<(vo(_[0]-w)<Eo?S:C):S<=_[1]&&_[1]<=C:k>Wo^(w<=_[0]&&_[0]<=T)){var F=ye(m,(-x+b)/v);return ve(F,f),[_,_e(F)]}}}function a(e,i){var n=o?t:Wo-t,a=0;return-n>e?a|=1:e>n&&(a|=2),-n>i?a|=4:i>n&&(a|=8),a}var r=Math.cos(t),o=r>0,s=vo(r)>Eo,l=fi(t,6*jo);return Be(e,i,l,o?[0,-t]:[-Wo,t-Wo])}function Oe(t,e,i,n){return function(a){var r,o=a.a,s=a.b,l=o.x,h=o.y,u=s.x,c=s.y,d=0,p=1,f=u-l,g=c-h;if(r=t-l,f||!(r>0)){if(r/=f,0>f){if(d>r)return;p>r&&(p=r)}else if(f>0){if(r>p)return;r>d&&(d=r)}if(r=i-l,f||!(0>r)){if(r/=f,0>f){if(r>p)return;r>d&&(d=r)}else if(f>0){if(d>r)return;p>r&&(p=r)}if(r=e-h,g||!(r>0)){if(r/=g,0>g){if(d>r)return;p>r&&(p=r)}else if(g>0){if(r>p)return;r>d&&(d=r)}if(r=n-h,g||!(0>r)){if(r/=g,0>g){if(r>p)return;r>d&&(d=r)}else if(g>0){if(d>r)return;p>r&&(p=r)}return d>0&&(a.a={x:l+d*f,y:h+d*g}),1>p&&(a.b={x:l+p*f,y:h+p*g}),a}}}}}}function He(t,e,i,n){function a(n,a){return vo(n[0]-t)<Eo?a>0?0:3:vo(n[0]-i)<Eo?a>0?2:1:vo(n[1]-e)<Eo?a>0?1:0:a>0?3:2}function r(t,e){return o(t.x,e.x)}function o(t,e){var i=a(t,1),n=a(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,i=m.length,n=t[1],a=0;i>a;++a)for(var r,o=1,s=m[a],l=s.length,h=s[0];l>o;++o)r=s[o],h[1]<=n?r[1]>n&&Q(h,r,t)>0&&++e:r[1]<=n&&Q(h,r,t)<0&&--e,h=r;return 0!==e}function h(r,s,l,h){var u=0,c=0;if(null==r||(u=a(r,l))!==(c=a(s,l))||o(r,s)<0^l>0){do h.point(0===u||3===u?t:i,u>1?n:e);while((u=(u+l+4)%4)!==c)}else h.point(s[0],s[1])}function u(a,r){return a>=t&&i>=a&&r>=e&&n>=r}function c(t,e){u(t,e)&&s.point(t,e)}function d(){P.point=f,m&&m.push(x=[]),T=!0,w=!1,_=M=NaN}function p(){g&&(f(v,y),b&&w&&k.rejoin(),g.push(k.buffer())),P.point=c,w&&s.lineEnd()}function f(t,e){t=Math.max(-Ns,Math.min(Ns,t)),e=Math.max(-Ns,Math.min(Ns,e));var i=u(t,e);if(m&&x.push([t,e]),T)v=t,y=e,b=i,T=!1,i&&(s.lineStart(),s.point(t,e));else if(i&&w)s.point(t,e);else{var n={a:{x:_,y:M},b:{x:t,y:e}};A(n)?(w||(s.lineStart(),s.point(n.a.x,n.a.y)),s.point(n.b.x,n.b.y),i||s.lineEnd(),S=!1):i&&(s.lineStart(),s.point(t,e),S=!1)}_=t,M=e,w=i}var g,m,x,v,y,b,_,M,w,T,S,C=s,k=Ee(),A=Oe(t,e,i,n),P={point:c,lineStart:d,lineEnd:p,polygonStart:function(){s=k,g=[],m=[],S=!0},polygonEnd:function(){s=C,g=so.merge(g);var e=l([t,n]),i=S&&e,a=g.length;(i||a)&&(s.polygonStart(),i&&(s.lineStart(),h(null,null,1,s),s.lineEnd()),a&&Fe(g,r,e,h,s),s.polygonEnd()),g=m=x=null}};return P}}function Xe(t){var e=0,i=Wo/3,n=oi(t),a=n(e,i);return a.parallels=function(t){return arguments.length?n(e=t[0]*Wo/180,i=t[1]*Wo/180):[e/Wo*180,i/Wo*180]},a}function Ye(t,e){function i(t,e){var i=Math.sqrt(r-2*a*Math.sin(e))/a;return[i*Math.sin(t*=a),o-i*Math.cos(t)]}var n=Math.sin(t),a=(n+Math.sin(e))/2,r=1+n*(2*a-n),o=Math.sqrt(r)/a;return i.invert=function(t,e){var i=o-e;return[Math.atan2(t,i)/a,et((r-(t*t+i*i)*a*a)/(2*a))]},i}function qe(){function t(t,e){Rs+=a*t-n*e,n=t,a=e}var e,i,n,a;Ys.point=function(r,o){Ys.point=t,e=n=r,i=a=o},Ys.lineEnd=function(){t(e,i)}}function Ue(t,e){js>t&&(js=t),t>Hs&&(Hs=t),Os>e&&(Os=e),e>Xs&&(Xs=e)}function $e(){function t(t,e){o.push("M",t,",",e,r)}function e(t,e){o.push("M",t,",",e),s.point=i}function i(t,e){o.push("L",t,",",e)}function n(){s.point=t}function a(){o.push("Z")}var r=Ge(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:n,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=n,s.point=t},pointRadius:function(t){return r=Ge(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Je(t,e){ks+=t,As+=e,++Ps}function Ke(){function t(t,n){var a=t-e,r=n-i,o=Math.sqrt(a*a+r*r);Fs+=o*(e+t)/2,Ds+=o*(i+n)/2,Ls+=o,Je(e=t,i=n)}var e,i;Us.point=function(n,a){Us.point=t,Je(e=n,i=a)}}function Ze(){Us.point=Je}function Qe(){function t(t,e){var i=t-n,r=e-a,o=Math.sqrt(i*i+r*r);Fs+=o*(n+t)/2,Ds+=o*(a+e)/2,Ls+=o,o=a*t-n*e,Bs+=o*(n+t),Is+=o*(a+e),Es+=3*o,Je(n=t,a=e)}var e,i,n,a;Us.point=function(r,o){Us.point=t,Je(e=n=r,i=a=o)},Us.lineEnd=function(){t(e,i)}}function ti(t){function e(e,i){t.moveTo(e+o,i),t.arc(e,i,o,0,No)}function i(e,i){t.moveTo(e,i),s.point=n}function n(e,i){t.lineTo(e,i)}function a(){s.point=e}function r(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=i},lineEnd:a,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=a,s.point=e},pointRadius:function(t){return o=t,s},result:_};return s}function ei(t){function e(t){return(s?n:i)(t)}function i(e){return ai(e,function(i,n){i=t(i,n),e.point(i[0],i[1])})}function n(e){function i(i,n){i=t(i,n),e.point(i[0],i[1])}function n(){y=NaN,T.point=r,e.lineStart()}function r(i,n){var r=ge([i,n]),o=t(i,n);a(y,b,v,_,M,w,y=o[0],b=o[1],v=i,_=r[0],M=r[1],w=r[2],s,e),e.point(y,b)}function o(){T.point=i,e.lineEnd()}function l(){n(),T.point=h,T.lineEnd=u}function h(t,e){r(c=t,d=e),p=y,f=b,g=_,m=M,x=w,T.point=r}function u(){a(y,b,v,_,M,w,p,f,c,g,m,x,s,e),T.lineEnd=o,o()}var c,d,p,f,g,m,x,v,y,b,_,M,w,T={point:i,lineStart:n,lineEnd:o,polygonStart:function(){e.polygonStart(),T.lineStart=l},polygonEnd:function(){e.polygonEnd(),T.lineStart=n}};return T}function a(e,i,n,s,l,h,u,c,d,p,f,g,m,x){var v=u-e,y=c-i,b=v*v+y*y;if(b>4*r&&m--){var _=s+p,M=l+f,w=h+g,T=Math.sqrt(_*_+M*M+w*w),S=Math.asin(w/=T),C=vo(vo(w)-1)<Eo||vo(n-d)<Eo?(n+d)/2:Math.atan2(M,_),k=t(C,S),A=k[0],P=k[1],F=A-e,D=P-i,L=y*F-v*D;(L*L/b>r||vo((v*F+y*D)/b-.5)>.3||o>s*p+l*f+h*g)&&(a(e,i,n,s,l,h,A,P,C,_/=T,M/=T,w,m,x),x.point(A,P),a(A,P,C,_,M,w,u,c,d,p,f,g,m,x))}}var r=.5,o=Math.cos(30*jo),s=16;return e.precision=function(t){return arguments.length?(s=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function ii(t){var e=ei(function(e,i){return t([e*Oo,i*Oo])});return function(t){return si(e(t))}}function ni(t){this.stream=t}function ai(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ri(t){return oi(function(){return t})()}function oi(t){function e(t){return t=s(t[0]*jo,t[1]*jo),[t[0]*d+l,h-t[1]*d]}function i(t){return t=s.invert((t[0]-l)/d,(h-t[1])/d),t&&[t[0]*Oo,t[1]*Oo]}function n(){s=Ae(o=ui(x,y,b),r);var t=r(g,m);return l=p-t[0]*d,h=f+t[1]*d,a()}function a(){return u&&(u.valid=!1,u=null),e}var r,o,s,l,h,u,c=ei(function(t,e){return t=r(t,e),[t[0]*d+l,h-t[1]*d]}),d=150,p=480,f=250,g=0,m=0,x=0,y=0,b=0,_=Ws,M=v,w=null,T=null;return e.stream=function(t){return u&&(u.valid=!1),u=si(_(o,c(M(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,Ws):je((w=+t)*jo),a()):w},e.clipExtent=function(t){return arguments.length?(T=t,M=t?He(t[0][0],t[0][1],t[1][0],t[1][1]):v,a()):T},e.scale=function(t){return arguments.length?(d=+t,n()):d},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],n()):[p,f]},e.center=function(t){return arguments.length?(g=t[0]%360*jo,m=t[1]%360*jo,n()):[g*Oo,m*Oo]},e.rotate=function(t){return arguments.length?(x=t[0]%360*jo,y=t[1]%360*jo,b=t.length>2?t[2]%360*jo:0,n()):[x*Oo,y*Oo,b*Oo]},so.rebind(e,c,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&i,n()}}function si(t){return ai(t,function(e,i){t.point(e*jo,i*jo)})}function li(t,e){return[t,e]}function hi(t,e){return[t>Wo?t-No:-Wo>t?t+No:t,e]}function ui(t,e,i){return t?e||i?Ae(di(t),pi(e,i)):di(t):e||i?pi(e,i):hi}function ci(t){return function(e,i){return e+=t,[e>Wo?e-No:-Wo>e?e+No:e,i]}}function di(t){var e=ci(t);return e.invert=ci(-t),e}function pi(t,e){function i(t,e){var i=Math.cos(e),s=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*n+s*a;return[Math.atan2(l*r-u*o,s*n-h*a),et(u*r+l*o)]}var n=Math.cos(t),a=Math.sin(t),r=Math.cos(e),o=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),s=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*r-l*o;return[Math.atan2(l*r+h*o,s*n+u*a),et(u*n-s*a)]},i}function fi(t,e){var i=Math.cos(t),n=Math.sin(t);return function(a,r,o,s){var l=o*e;null!=a?(a=gi(i,a),r=gi(i,r),(o>0?r>a:a>r)&&(a+=o*No)):(a=t+o*No,r=t-.5*l);for(var h,u=a;o>0?u>r:r>u;u-=l)s.point((h=_e([i,-n*Math.cos(u),-n*Math.sin(u)]))[0],h[1])}}function gi(t,e){var i=ge(e);i[0]-=t,be(i);var n=tt(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-Eo)%(2*Math.PI)}function mi(t,e,i){var n=so.range(t,e-Eo,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function xi(t,e,i){var n=so.range(t,e-Eo,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function vi(t){return t.source}function yi(t){return t.target}function bi(t,e,i,n){var a=Math.cos(e),r=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=a*Math.cos(t),h=a*Math.sin(t),u=o*Math.cos(i),c=o*Math.sin(i),d=2*Math.asin(Math.sqrt(rt(n-e)+a*o*rt(i-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,i=Math.sin(d-t)*p,n=i*l+e*u,a=i*h+e*c,o=i*r+e*s;return[Math.atan2(a,n)*Oo,Math.atan2(o,Math.sqrt(n*n+a*a))*Oo]}:function(){return[t*Oo,e*Oo]};return f.distance=d,f}function _i(){function t(t,a){var r=Math.sin(a*=jo),o=Math.cos(a),s=vo((t*=jo)-e),l=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*r-i*o*l)*s),i*r+n*o*l),e=t,i=r,n=o}var e,i,n;Gs.point=function(a,r){e=a*jo,i=Math.sin(r*=jo),n=Math.cos(r),Gs.point=t},Gs.lineEnd=function(){Gs.point=Gs.lineEnd=_}}function Mi(t,e){function i(e,i){var n=Math.cos(e),a=Math.cos(i),r=t(n*a);return[r*a*Math.sin(e),r*Math.sin(i)]}return i.invert=function(t,i){var n=Math.sqrt(t*t+i*i),a=e(n),r=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*r,n*o),Math.asin(n&&i*r/n)]},i}function wi(t,e){function i(t,e){o>0?-Ro+Eo>e&&(e=-Ro+Eo):e>Ro-Eo&&(e=Ro-Eo);var i=o/Math.pow(a(e),r);return[i*Math.sin(r*t),o-i*Math.cos(r*t)]}var n=Math.cos(t),a=function(t){return Math.tan(Wo/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(a(e)/a(t)),o=n*Math.pow(a(t),r)/r;return r?(i.invert=function(t,e){var i=o-e,n=Z(r)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/r,2*Math.atan(Math.pow(o/n,1/r))-Ro]},i):Si}function Ti(t,e){function i(t,e){var i=r-e;return[i*Math.sin(a*t),r-i*Math.cos(a*t)]}var n=Math.cos(t),a=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/a+t;return vo(a)<Eo?li:(i.invert=function(t,e){var i=r-e;return[Math.atan2(t,i)/a,r-Z(a)*Math.sqrt(t*t+i*i)]},i)}function Si(t,e){return[t,Math.log(Math.tan(Wo/4+e/2))]}function Ci(t){var e,i=ri(t),n=i.scale,a=i.translate,r=i.clipExtent;return i.scale=function(){var t=n.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=a.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var o=r.apply(i,arguments);if(o===i){if(e=null==t){var s=Wo*n(),l=a();r([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},i.clipExtent(null)}function ki(t,e){return[Math.log(Math.tan(Wo/4+e/2)),-t]}function Ai(t){return t[0]}function Pi(t){return t[1]}function Fi(t){for(var e=t.length,i=[0,1],n=2,a=2;e>a;a++){for(;n>1&&Q(t[i[n-2]],t[i[n-1]],t[a])<=0;)--n;i[n++]=a}return i.slice(0,n)}function Di(t,e){return t[0]-e[0]||t[1]-e[1]}function Li(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function Bi(t,e,i,n){var a=t[0],r=i[0],o=e[0]-a,s=n[0]-r,l=t[1],h=i[1],u=e[1]-l,c=n[1]-h,d=(s*(l-h)-c*(a-r))/(c*o-s*u);return[a+d*o,l+d*u]}function Ii(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function Ei(){nn(this),this.edge=this.site=this.circle=null}function zi(t){var e=sl.pop()||new Ei;return e.site=t,e}function Wi(t){Ui(t),al.remove(t),sl.push(t),nn(t)}function Ni(t){var e=t.circle,i=e.x,n=e.cy,a={x:i,y:n},r=t.P,o=t.N,s=[t];Wi(t);for(var l=r;l.circle&&vo(i-l.circle.x)<Eo&&vo(n-l.circle.cy)<Eo;)r=l.P,s.unshift(l),Wi(l),l=r;s.unshift(l),Ui(l);for(var h=o;h.circle&&vo(i-h.circle.x)<Eo&&vo(n-h.circle.cy)<Eo;)o=h.N,s.push(h),Wi(h),h=o;s.push(h),Ui(h);var u,c=s.length;for(u=1;c>u;++u)h=s[u],l=s[u-1],Qi(h.edge,l.site,h.site,a);l=s[0],h=s[c-1],h.edge=Ki(l.site,h.site,null,a),qi(l),qi(h)}function Vi(t){for(var e,i,n,a,r=t.x,o=t.y,s=al._;s;)if(n=Ri(s,o)-r,n>Eo)s=s.L;else{if(a=r-ji(s,o),!(a>Eo)){n>-Eo?(e=s.P,i=s):a>-Eo?(e=s,i=s.N):e=i=s;break}if(!s.R){e=s;break}s=s.R}var l=zi(t);if(al.insert(e,l),e||i){if(e===i)return Ui(e),i=zi(e.site),al.insert(l,i),l.edge=i.edge=Ki(e.site,l.site),qi(e),void qi(i);if(!i)return void(l.edge=Ki(e.site,l.site));Ui(e),Ui(i);var h=e.site,u=h.x,c=h.y,d=t.x-u,p=t.y-c,f=i.site,g=f.x-u,m=f.y-c,x=2*(d*m-p*g),v=d*d+p*p,y=g*g+m*m,b={x:(m*v-p*y)/x+u,y:(d*y-g*v)/x+c};Qi(i.edge,h,f,b),l.edge=Ki(h,t,null,b),i.edge=Ki(t,f,null,b),qi(e),qi(i)}}function Ri(t,e){var i=t.site,n=i.x,a=i.y,r=a-e;if(!r)return n;var o=t.P;if(!o)return-(1/0);i=o.site;var s=i.x,l=i.y,h=l-e;if(!h)return s;var u=s-n,c=1/r-1/h,d=u/h;return c?(-d+Math.sqrt(d*d-2*c*(u*u/(-2*h)-l+h/2+a-r/2)))/c+n:(n+s)/2}function ji(t,e){var i=t.N;if(i)return Ri(i,e);var n=t.site;return n.y===e?n.x:1/0}function Oi(t){this.site=t,this.edges=[]}function Hi(t){for(var e,i,n,a,r,o,s,l,h,u,c=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],g=nl,m=g.length;m--;)if(r=g[m],r&&r.prepare())for(s=r.edges,l=s.length,o=0;l>o;)u=s[o].end(),n=u.x,a=u.y,h=s[++o%l].start(),e=h.x,i=h.y,(vo(n-e)>Eo||vo(a-i)>Eo)&&(s.splice(o,0,new tn(Zi(r.site,u,vo(n-c)<Eo&&f-a>Eo?{x:c,y:vo(e-c)<Eo?i:f}:vo(a-f)<Eo&&d-n>Eo?{x:vo(i-f)<Eo?e:d,y:f}:vo(n-d)<Eo&&a-p>Eo?{x:d,y:vo(e-d)<Eo?i:p}:vo(a-p)<Eo&&n-c>Eo?{x:vo(i-p)<Eo?e:c,y:p}:null),r.site,null)),++l)}function Xi(t,e){return e.angle-t.angle}function Yi(){nn(this),this.x=this.y=this.arc=this.site=this.cy=null}function qi(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,a=t.site,r=i.site;if(n!==r){var o=a.x,s=a.y,l=n.x-o,h=n.y-s,u=r.x-o,c=r.y-s,d=2*(l*c-h*u);if(!(d>=-zo)){var p=l*l+h*h,f=u*u+c*c,g=(c*p-h*f)/d,m=(l*f-u*p)/d,c=m+s,x=ll.pop()||new Yi;x.arc=t,x.site=a,x.x=g+o,x.y=c+Math.sqrt(g*g+m*m),x.cy=c,t.circle=x;for(var v=null,y=ol._;y;)if(x.y<y.y||x.y===y.y&&x.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}ol.insert(v,x),v||(rl=x)}}}}function Ui(t){var e=t.circle;e&&(e.P||(rl=e.N),ol.remove(e),ll.push(e),nn(e),t.circle=null)}function $i(t){for(var e,i=il,n=Oe(t[0][0],t[0][1],t[1][0],t[1][1]),a=i.length;a--;)e=i[a],(!Gi(e,t)||!n(e)||vo(e.a.x-e.b.x)<Eo&&vo(e.a.y-e.b.y)<Eo)&&(e.a=e.b=null,i.splice(a,1))}function Gi(t,e){var i=t.b;if(i)return!0;var n,a,r=t.a,o=e[0][0],s=e[1][0],l=e[0][1],h=e[1][1],u=t.l,c=t.r,d=u.x,p=u.y,f=c.x,g=c.y,m=(d+f)/2,x=(p+g)/2;if(g===p){if(o>m||m>=s)return;if(d>f){if(r){if(r.y>=h)return}else r={x:m,y:l};i={x:m,y:h}}else{if(r){if(r.y<l)return}else r={x:m,y:h};i={x:m,y:l}}}else if(n=(d-f)/(g-p),a=x-n*m,-1>n||n>1)if(d>f){if(r){if(r.y>=h)return}else r={x:(l-a)/n,y:l};i={x:(h-a)/n,y:h}}else{if(r){if(r.y<l)return}else r={x:(h-a)/n,y:h};i={x:(l-a)/n,y:l}}else if(g>p){if(r){if(r.x>=s)return}else r={x:o,y:n*o+a};i={x:s,y:n*s+a}}else{if(r){if(r.x<o)return}else r={x:s,y:n*s+a};i={x:o,y:n*o+a}}return t.a=r,t.b=i,!0}function Ji(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ki(t,e,i,n){var a=new Ji(t,e);return il.push(a),i&&Qi(a,t,e,i),n&&Qi(a,e,t,n),nl[t.i].edges.push(new tn(a,t,e)),nl[e.i].edges.push(new tn(a,e,t)),a}function Zi(t,e,i){var n=new Ji(t,null);return n.a=e,n.b=i,il.push(n),n}function Qi(t,e,i,n){t.a||t.b?t.l===i?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=i)}function tn(t,e,i){var n=t.a,a=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(a.x-n.x,n.y-a.y):Math.atan2(n.x-a.x,a.y-n.y)}function en(){this._=null}function nn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function an(t,e){var i=e,n=e.R,a=i.U;a?a.L===i?a.L=n:a.R=n:t._=n,n.U=a,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function rn(t,e){var i=e,n=e.L,a=i.U;a?a.L===i?a.L=n:a.R=n:t._=n,n.U=a,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function on(t){for(;t.L;)t=t.L;return t}function sn(t,e){var i,n,a,r=t.sort(ln).pop();for(il=[],nl=new Array(t.length),al=new en,ol=new en;;)if(a=rl,r&&(!a||r.y<a.y||r.y===a.y&&r.x<a.x))r.x===i&&r.y===n||(nl[r.i]=new Oi(r),Vi(r),i=r.x,n=r.y),r=t.pop();else{if(!a)break;Ni(a.arc)}e&&($i(e),Hi(e));var o={cells:nl,edges:il};return al=ol=il=nl=null,o}function ln(t,e){return e.y-t.y||e.x-t.x}function hn(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function un(t){return t.x}function cn(t){return t.y}function dn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pn(t,e,i,n,a,r){if(!t(e,i,n,a,r)){var o=.5*(i+a),s=.5*(n+r),l=e.nodes;l[0]&&pn(t,l[0],i,n,o,s),l[1]&&pn(t,l[1],o,n,a,s),l[2]&&pn(t,l[2],i,s,o,r),l[3]&&pn(t,l[3],o,s,a,r)}}function fn(t,e,i,n,a,r,o){var s,l=1/0;return function t(h,u,c,d,p){if(!(u>r||c>o||n>d||a>p)){if(f=h.point){var f,g=e-h.x,m=i-h.y,x=g*g+m*m;if(l>x){var v=Math.sqrt(l=x);n=e-v,a=i-v,r=e+v,o=i+v,s=f}}for(var y=h.nodes,b=.5*(u+d),_=.5*(c+p),M=e>=b,w=i>=_,T=w<<1|M,S=T+4;S>T;++T)if(h=y[3&T])switch(3&T){case 0:t(h,u,c,b,_);break;case 1:t(h,b,c,d,_);break;case 2:t(h,u,_,b,p);break;case 3:t(h,b,_,d,p)}}}(t,n,a,r,o),s}function gn(t,e){t=so.rgb(t),e=so.rgb(e);var i=t.r,n=t.g,a=t.b,r=e.r-i,o=e.g-n,s=e.b-a;return function(t){return"#"+bt(Math.round(i+r*t))+bt(Math.round(n+o*t))+bt(Math.round(a+s*t))}}function mn(t,e){var i,n={},a={};for(i in t)i in e?n[i]=yn(t[i],e[i]):a[i]=t[i];for(i in e)i in t||(a[i]=e[i]);return function(t){for(i in n)a[i]=n[i](t);return a}}function xn(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function vn(t,e){var i,n,a,r=ul.lastIndex=cl.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(i=ul.exec(t))&&(n=cl.exec(e));)(a=n.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:xn(i,n)})),r=cl.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var i,n=0;e>n;++n)s[(i=l[n]).i]=i.x(t);return s.join("")})}function yn(t,e){for(var i,n=so.interpolators.length;--n>=0&&!(i=so.interpolators[n](t,e)););return i}function bn(t,e){var i,n=[],a=[],r=t.length,o=e.length,s=Math.min(t.length,e.length);for(i=0;s>i;++i)n.push(yn(t[i],e[i]));for(;r>i;++i)a[i]=t[i];for(;o>i;++i)a[i]=e[i];return function(t){for(i=0;s>i;++i)a[i]=n[i](t);return a}}function _n(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Mn(t){return function(e){return 1-t(1-e)}}function wn(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Tn(t){return t*t}function Sn(t){return t*t*t}function Cn(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function kn(t){return function(e){return Math.pow(e,t)}}function An(t){return 1-Math.cos(t*Ro)}function Pn(t){return Math.pow(2,10*(t-1))}function Fn(t){return 1-Math.sqrt(1-t*t)}function Dn(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/No*Math.asin(1/t):(t=1,i=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-i)*No/e)}}function Ln(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Bn(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;
}function In(t,e){t=so.hcl(t),e=so.hcl(e);var i=t.h,n=t.c,a=t.l,r=e.h-i,o=e.c-n,s=e.l-a;return isNaN(o)&&(o=0,n=isNaN(n)?e.c:n),isNaN(r)?(r=0,i=isNaN(i)?e.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return ut(i+r*t,n+o*t,a+s*t)+""}}function En(t,e){t=so.hsl(t),e=so.hsl(e);var i=t.h,n=t.s,a=t.l,r=e.h-i,o=e.s-n,s=e.l-a;return isNaN(o)&&(o=0,n=isNaN(n)?e.s:n),isNaN(r)?(r=0,i=isNaN(i)?e.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return lt(i+r*t,n+o*t,a+s*t)+""}}function zn(t,e){t=so.lab(t),e=so.lab(e);var i=t.l,n=t.a,a=t.b,r=e.l-i,o=e.a-n,s=e.b-a;return function(t){return dt(i+r*t,n+o*t,a+s*t)+""}}function Wn(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Nn(t){var e=[t.a,t.b],i=[t.c,t.d],n=Rn(e),a=Vn(e,i),r=Rn(jn(i,e,-a))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,a*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Oo,this.translate=[t.e,t.f],this.scale=[n,r],this.skew=r?Math.atan2(a,r)*Oo:0}function Vn(t,e){return t[0]*e[0]+t[1]*e[1]}function Rn(t){var e=Math.sqrt(Vn(t,t));return e&&(t[0]/=e,t[1]/=e),e}function jn(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function On(t){return t.length?t.pop()+",":""}function Hn(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var a=i.push("translate(",null,",",null,")");n.push({i:a-4,x:xn(t[0],e[0])},{i:a-2,x:xn(t[1],e[1])})}else(e[0]||e[1])&&i.push("translate("+e+")")}function Xn(t,e,i,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:i.push(On(i)+"rotate(",null,")")-2,x:xn(t,e)})):e&&i.push(On(i)+"rotate("+e+")")}function Yn(t,e,i,n){t!==e?n.push({i:i.push(On(i)+"skewX(",null,")")-2,x:xn(t,e)}):e&&i.push(On(i)+"skewX("+e+")")}function qn(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var a=i.push(On(i)+"scale(",null,",",null,")");n.push({i:a-4,x:xn(t[0],e[0])},{i:a-2,x:xn(t[1],e[1])})}else 1===e[0]&&1===e[1]||i.push(On(i)+"scale("+e+")")}function Un(t,e){var i=[],n=[];return t=so.transform(t),e=so.transform(e),Hn(t.translate,e.translate,i,n),Xn(t.rotate,e.rotate,i,n),Yn(t.skew,e.skew,i,n),qn(t.scale,e.scale,i,n),t=e=null,function(t){for(var e,a=-1,r=n.length;++a<r;)i[(e=n[a]).i]=e.x(t);return i.join("")}}function $n(t,e){return e=(e-=t=+t)||1/e,function(i){return(i-t)/e}}function Gn(t,e){return e=(e-=t=+t)||1/e,function(i){return Math.max(0,Math.min(1,(i-t)/e))}}function Jn(t){for(var e=t.source,i=t.target,n=Zn(e,i),a=[e];e!==n;)e=e.parent,a.push(e);for(var r=a.length;i!==n;)a.splice(r,0,i),i=i.parent;return a}function Kn(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function Zn(t,e){if(t===e)return t;for(var i=Kn(t),n=Kn(e),a=i.pop(),r=n.pop(),o=null;a===r;)o=a,a=i.pop(),r=n.pop();return o}function Qn(t){t.fixed|=2}function ta(t){t.fixed&=-7}function ea(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ia(t){t.fixed&=-5}function na(t,e,i){var n=0,a=0;if(t.charge=0,!t.leaf)for(var r,o=t.nodes,s=o.length,l=-1;++l<s;)r=o[l],null!=r&&(na(r,e,i),t.charge+=r.charge,n+=r.charge*r.cx,a+=r.charge*r.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*i[t.point.index];t.charge+=t.pointCharge=h,n+=h*t.point.x,a+=h*t.point.y}t.cx=n/t.charge,t.cy=a/t.charge}function aa(t,e){return so.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ua,t}function ra(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(a=t.children)&&(n=a.length))for(var n,a;--n>=0;)i.push(a[n])}function oa(t,e){for(var i=[t],n=[];null!=(t=i.pop());)if(n.push(t),(r=t.children)&&(a=r.length))for(var a,r,o=-1;++o<a;)i.push(r[o]);for(;null!=(t=n.pop());)e(t)}function sa(t){return t.children}function la(t){return t.value}function ha(t,e){return e.value-t.value}function ua(t){return so.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ca(t){return t.x}function da(t){return t.y}function pa(t,e,i){t.y0=e,t.y=i}function fa(t){return so.range(t.length)}function ga(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function ma(t){for(var e,i=1,n=0,a=t[0][1],r=t.length;r>i;++i)(e=t[i][1])>a&&(n=i,a=e);return n}function xa(t){return t.reduce(va,0)}function va(t,e){return t+e[1]}function ya(t,e){return ba(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ba(t,e){for(var i=-1,n=+t[0],a=(t[1]-n)/e,r=[];++i<=e;)r[i]=a*i+n;return r}function _a(t){return[so.min(t),so.max(t)]}function Ma(t,e){return t.value-e.value}function wa(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function Ta(t,e){t._pack_next=e,e._pack_prev=t}function Sa(t,e){var i=e.x-t.x,n=e.y-t.y,a=t.r+e.r;return.999*a*a>i*i+n*n}function Ca(t){function e(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((i=t.children)&&(h=i.length)){var i,n,a,r,o,s,l,h,u=1/0,c=-(1/0),d=1/0,p=-(1/0);if(i.forEach(ka),n=i[0],n.x=-n.r,n.y=0,e(n),h>1&&(a=i[1],a.x=a.r,a.y=0,e(a),h>2))for(r=i[2],Fa(n,a,r),e(r),wa(n,r),n._pack_prev=r,wa(r,a),a=n._pack_next,o=3;h>o;o++){Fa(n,a,r=i[o]);var f=0,g=1,m=1;for(s=a._pack_next;s!==a;s=s._pack_next,g++)if(Sa(s,r)){f=1;break}if(1==f)for(l=n._pack_prev;l!==s._pack_prev&&!Sa(l,r);l=l._pack_prev,m++);f?(m>g||g==m&&a.r<n.r?Ta(n,a=s):Ta(n=l,a),o--):(wa(n,r),a=r,e(r))}var x=(u+c)/2,v=(d+p)/2,y=0;for(o=0;h>o;o++)r=i[o],r.x-=x,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,i.forEach(Aa)}}function ka(t){t._pack_next=t._pack_prev=t}function Aa(t){delete t._pack_next,delete t._pack_prev}function Pa(t,e,i,n){var a=t.children;if(t.x=e+=n*t.x,t.y=i+=n*t.y,t.r*=n,a)for(var r=-1,o=a.length;++r<o;)Pa(a[r],e,i,n)}function Fa(t,e,i){var n=t.r+i.r,a=e.x-t.x,r=e.y-t.y;if(n&&(a||r)){var o=e.r+i.r,s=a*a+r*r;o*=o,n*=n;var l=.5+(n-o)/(2*s),h=Math.sqrt(Math.max(0,2*o*(n+s)-(n-=s)*n-o*o))/(2*s);i.x=t.x+l*a+h*r,i.y=t.y+l*r-h*a}else i.x=t.x+n,i.y=t.y}function Da(t,e){return t.parent==e.parent?1:2}function La(t){var e=t.children;return e.length?e[0]:t.t}function Ba(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function Ia(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function Ea(t){for(var e,i=0,n=0,a=t.children,r=a.length;--r>=0;)e=a[r],e.z+=i,e.m+=i,i+=e.s+(n+=e.c)}function za(t,e,i){return t.a.parent===e.parent?t.a:i}function Wa(t){return 1+so.max(t,function(t){return t.y})}function Na(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Va(t){var e=t.children;return e&&e.length?Va(e[0]):t}function Ra(t){var e,i=t.children;return i&&(e=i.length)?Ra(i[e-1]):t}function ja(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oa(t,e){var i=t.x+e[3],n=t.y+e[0],a=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>a&&(i+=a/2,a=0),0>r&&(n+=r/2,r=0),{x:i,y:n,dx:a,dy:r}}function Ha(t){var e=t[0],i=t[t.length-1];return i>e?[e,i]:[i,e]}function Xa(t){return t.rangeExtent?t.rangeExtent():Ha(t.range())}function Ya(t,e,i,n){var a=i(t[0],t[1]),r=n(e[0],e[1]);return function(t){return r(a(t))}}function qa(t,e){var i,n=0,a=t.length-1,r=t[n],o=t[a];return r>o&&(i=n,n=a,a=i,i=r,r=o,o=i),t[n]=e.floor(r),t[a]=e.ceil(o),t}function Ua(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ml}function $a(t,e,i,n){var a=[],r=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)a.push(i(t[o-1],t[o])),r.push(n(e[o-1],e[o]));return function(e){var i=so.bisect(t,e,1,s)-1;return r[i](a[i](e))}}function Ga(t,e,i,n){function a(){var a=Math.min(t.length,e.length)>2?$a:Ya,l=n?Gn:$n;return o=a(t,e,l,i),s=a(e,t,l,yn),r}function r(t){return o(t)}var o,s;return r.invert=function(t){return s(t)},r.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},r.range=function(t){return arguments.length?(e=t,a()):e},r.rangeRound=function(t){return r.range(t).interpolate(Wn)},r.clamp=function(t){return arguments.length?(n=t,a()):n},r.interpolate=function(t){return arguments.length?(i=t,a()):i},r.ticks=function(e){return Qa(t,e)},r.tickFormat=function(e,i){return tr(t,e,i)},r.nice=function(e){return Ka(t,e),a()},r.copy=function(){return Ga(t,e,i,n)},a()}function Ja(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ka(t,e){return qa(t,Ua(Za(t,e)[2])),qa(t,Ua(Za(t,e)[2])),t}function Za(t,e){null==e&&(e=10);var i=Ha(t),n=i[1]-i[0],a=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),r=e/n*a;return.15>=r?a*=10:.35>=r?a*=5:.75>=r&&(a*=2),i[0]=Math.ceil(i[0]/a)*a,i[1]=Math.floor(i[1]/a)*a+.5*a,i[2]=a,i}function Qa(t,e){return so.range.apply(so,Za(t,e))}function tr(t,e,i){var n=Za(t,e);if(i){var a=us.exec(i);if(a.shift(),"s"===a[8]){var r=so.formatPrefix(Math.max(vo(n[0]),vo(n[1])));return a[7]||(a[7]="."+er(r.scale(n[2]))),a[8]="f",i=so.format(a.join("")),function(t){return i(r.scale(t))+r.symbol}}a[7]||(a[7]="."+ir(a[8],n)),i=a.join("")}else i=",."+er(n[2])+"f";return so.format(i)}function er(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ir(t,e){var i=er(e[2]);return t in wl?Math.abs(i-er(Math.max(vo(e[0]),vo(e[1]))))+ +("e"!==t):i-2*("%"===t)}function nr(t,e,i,n){function a(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function r(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(a(e))}return o.invert=function(e){return r(t.invert(e))},o.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((n=e.map(Number)).map(a)),o):n},o.base=function(i){return arguments.length?(e=+i,t.domain(n.map(a)),o):e},o.nice=function(){var e=qa(n.map(a),i?Math:Sl);return t.domain(e),n=e.map(r),o},o.ticks=function(){var t=Ha(n),o=[],s=t[0],l=t[1],h=Math.floor(a(s)),u=Math.ceil(a(l)),c=e%1?2:e;if(isFinite(u-h)){if(i){for(;u>h;h++)for(var d=1;c>d;d++)o.push(r(h)*d);o.push(r(h))}else for(o.push(r(h));h++<u;)for(var d=c-1;d>0;d--)o.push(r(h)*d);for(h=0;o[h]<s;h++);for(u=o.length;o[u-1]>l;u--);o=o.slice(h,u)}return o},o.tickFormat=function(t,i){if(!arguments.length)return Tl;arguments.length<2?i=Tl:"function"!=typeof i&&(i=so.format(i));var n=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/r(Math.round(a(t)));return e-.5>o*e&&(o*=e),n>=o?i(t):""}},o.copy=function(){return nr(t.copy(),e,i,n)},Ja(o,t)}function ar(t,e,i){function n(e){return t(a(e))}var a=rr(e),r=rr(1/e);return n.invert=function(e){return r(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(a)),n):i},n.ticks=function(t){return Qa(i,t)},n.tickFormat=function(t,e){return tr(i,t,e)},n.nice=function(t){return n.domain(Ka(i,t))},n.exponent=function(o){return arguments.length?(a=rr(e=o),r=rr(1/e),t.domain(i.map(a)),n):e},n.copy=function(){return ar(t.copy(),e,i)},Ja(n,t)}function rr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function or(t,e){function i(i){return r[((a.get(i)||("range"===e.t?a.set(i,t.push(i)):NaN))-1)%r.length]}function n(e,i){return so.range(t.length).map(function(t){return e+i*t})}var a,r,o;return i.domain=function(n){if(!arguments.length)return t;t=[],a=new h;for(var r,o=-1,s=n.length;++o<s;)a.has(r=n[o])||a.set(r,t.push(r));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(r=t,o=0,e={t:"range",a:arguments},i):r},i.rangePoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],h=a[1],u=t.length<2?(l=(l+h)/2,0):(h-l)/(t.length-1+s);return r=n(l+u*s/2,u),o=0,e={t:"rangePoints",a:arguments},i},i.rangeRoundPoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],h=a[1],u=t.length<2?(l=h=Math.round((l+h)/2),0):(h-l)/(t.length-1+s)|0;return r=n(l+Math.round(u*s/2+(h-l-(t.length-1+s)*u)/2),u),o=0,e={t:"rangeRoundPoints",a:arguments},i},i.rangeBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=a[1]<a[0],u=a[h-0],c=a[1-h],d=(c-u)/(t.length-s+2*l);return r=n(u+d*l,d),h&&r.reverse(),o=d*(1-s),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=a[1]<a[0],u=a[h-0],c=a[1-h],d=Math.floor((c-u)/(t.length-s+2*l));return r=n(u+Math.round((c-u-(t.length-s)*d)/2),d),h&&r.reverse(),o=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return o},i.rangeExtent=function(){return Ha(e.a[0])},i.copy=function(){return or(t,e)},i.domain(t)}function sr(t,e){function r(){var i=0,n=e.length;for(s=[];++i<n;)s[i-1]=so.quantile(t,i/n);return o}function o(t){return isNaN(t=+t)?void 0:e[so.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(n).filter(a).sort(i),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.quantiles=function(){return s},o.invertExtent=function(i){return i=e.indexOf(i),0>i?[NaN,NaN]:[i>0?s[i-1]:t[0],i<s.length?s[i]:t[t.length-1]]},o.copy=function(){return sr(t,e)},r()}function lr(t,e,i){function n(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function a(){return r=i.length/(e-t),o=i.length-1,n}var r,o;return n.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],a()):[t,e]},n.range=function(t){return arguments.length?(i=t,a()):i},n.invertExtent=function(e){return e=i.indexOf(e),e=0>e?NaN:e/r+t,[e,e+1/r]},n.copy=function(){return lr(t,e,i)},a()}function hr(t,e){function i(i){return i>=i?e[so.bisect(t,i)]:void 0}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return hr(t,e)},i}function ur(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return Qa(t,e)},e.tickFormat=function(e,i){return tr(t,e,i)},e.copy=function(){return ur(t)},e}function cr(){return 0}function dr(t){return t.innerRadius}function pr(t){return t.outerRadius}function fr(t){return t.startAngle}function gr(t){return t.endAngle}function mr(t){return t&&t.padAngle}function xr(t,e,i,n){return(t-i)*e-(e-n)*t>0?0:1}function vr(t,e,i,n,a){var r=t[0]-e[0],o=t[1]-e[1],s=(a?n:-n)/Math.sqrt(r*r+o*o),l=s*o,h=-s*r,u=t[0]+l,c=t[1]+h,d=e[0]+l,p=e[1]+h,f=(u+d)/2,g=(c+p)/2,m=d-u,x=p-c,v=m*m+x*x,y=i-n,b=u*p-d*c,_=(0>x?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),M=(b*x-m*_)/v,w=(-b*m-x*_)/v,T=(b*x+m*_)/v,S=(-b*m+x*_)/v,C=M-f,k=w-g,A=T-f,P=S-g;return C*C+k*k>A*A+P*P&&(M=T,w=S),[[M-l,w-h],[M*i/y,w*i/y]]}function yr(t){function e(e){function o(){h.push("M",r(t(u),s))}for(var l,h=[],u=[],c=-1,d=e.length,p=Ct(i),f=Ct(n);++c<d;)a.call(this,l=e[c],c)?u.push([+p.call(this,l,c),+f.call(this,l,c)]):u.length&&(o(),u=[]);return u.length&&o(),h.length?h.join(""):null}var i=Ai,n=Pi,a=Pe,r=br,o=r.key,s=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=Dl.get(t)||br).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function br(t){return t.length>1?t.join("L"):t+"Z"}function _r(t){return t.join("L")+"Z"}function Mr(t){for(var e=0,i=t.length,n=t[0],a=[n[0],",",n[1]];++e<i;)a.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return i>1&&a.push("H",n[0]),a.join("")}function wr(t){for(var e=0,i=t.length,n=t[0],a=[n[0],",",n[1]];++e<i;)a.push("V",(n=t[e])[1],"H",n[0]);return a.join("")}function Tr(t){for(var e=0,i=t.length,n=t[0],a=[n[0],",",n[1]];++e<i;)a.push("H",(n=t[e])[0],"V",n[1]);return a.join("")}function Sr(t,e){return t.length<4?br(t):t[1]+Ar(t.slice(1,-1),Pr(t,e))}function Cr(t,e){return t.length<3?_r(t):t[0]+Ar((t.push(t[0]),t),Pr([t[t.length-2]].concat(t,[t[1]]),e))}function kr(t,e){return t.length<3?br(t):t[0]+Ar(t,Pr(t,e))}function Ar(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return br(t);var i=t.length!=e.length,n="",a=t[0],r=t[1],o=e[0],s=o,l=1;if(i&&(n+="Q"+(r[0]-2*o[0]/3)+","+(r[1]-2*o[1]/3)+","+r[0]+","+r[1],a=t[1],l=2),e.length>1){s=e[1],r=t[l],l++,n+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var h=2;h<e.length;h++,l++)r=t[l],s=e[h],n+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(i){var u=t[l];n+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+u[0]+","+u[1]}return n}function Pr(t,e){for(var i,n=[],a=(1-e)/2,r=t[0],o=t[1],s=1,l=t.length;++s<l;)i=r,r=o,o=t[s],n.push([a*(o[0]-i[0]),a*(o[1]-i[1])]);return n}function Fr(t){if(t.length<3)return br(t);var e=1,i=t.length,n=t[0],a=n[0],r=n[1],o=[a,a,a,(n=t[1])[0]],s=[r,r,r,n[1]],l=[a,",",r,"L",Ir(Il,o),",",Ir(Il,s)];for(t.push(t[i-1]);++e<=i;)n=t[e],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Er(l,o,s);return t.pop(),l.push("L",n),l.join("")}function Dr(t){if(t.length<4)return br(t);for(var e,i=[],n=-1,a=t.length,r=[0],o=[0];++n<3;)e=t[n],r.push(e[0]),o.push(e[1]);for(i.push(Ir(Il,r)+","+Ir(Il,o)),--n;++n<a;)e=t[n],r.shift(),r.push(e[0]),o.shift(),o.push(e[1]),Er(i,r,o);return i.join("")}function Lr(t){for(var e,i,n=-1,a=t.length,r=a+4,o=[],s=[];++n<4;)i=t[n%a],o.push(i[0]),s.push(i[1]);for(e=[Ir(Il,o),",",Ir(Il,s)],--n;++n<r;)i=t[n%a],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Er(e,o,s);return e.join("")}function Br(t,e){var i=t.length-1;if(i)for(var n,a,r=t[0][0],o=t[0][1],s=t[i][0]-r,l=t[i][1]-o,h=-1;++h<=i;)n=t[h],a=h/i,n[0]=e*n[0]+(1-e)*(r+a*s),n[1]=e*n[1]+(1-e)*(o+a*l);return Fr(t)}function Ir(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Er(t,e,i){t.push("C",Ir(Ll,e),",",Ir(Ll,i),",",Ir(Bl,e),",",Ir(Bl,i),",",Ir(Il,e),",",Ir(Il,i))}function zr(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Wr(t){for(var e=0,i=t.length-1,n=[],a=t[0],r=t[1],o=n[0]=zr(a,r);++e<i;)n[e]=(o+(o=zr(a=r,r=t[e+1])))/2;return n[e]=o,n}function Nr(t){for(var e,i,n,a,r=[],o=Wr(t),s=-1,l=t.length-1;++s<l;)e=zr(t[s],t[s+1]),vo(e)<Eo?o[s]=o[s+1]=0:(i=o[s]/e,n=o[s+1]/e,a=i*i+n*n,a>9&&(a=3*e/Math.sqrt(a),o[s]=a*i,o[s+1]=a*n));for(s=-1;++s<=l;)a=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),r.push([a||0,o[s]*a||0]);return r}function Vr(t){return t.length<3?br(t):t[0]+Ar(t,Nr(t))}function Rr(t){for(var e,i,n,a=-1,r=t.length;++a<r;)e=t[a],i=e[0],n=e[1]-Ro,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function jr(t){function e(e){function l(){g.push("M",s(t(x),c),u,h(t(m.reverse()),c),"Z")}for(var d,p,f,g=[],m=[],x=[],v=-1,y=e.length,b=Ct(i),_=Ct(a),M=i===n?function(){return p}:Ct(n),w=a===r?function(){return f}:Ct(r);++v<y;)o.call(this,d=e[v],v)?(m.push([p=+b.call(this,d,v),f=+_.call(this,d,v)]),x.push([+M.call(this,d,v),+w.call(this,d,v)])):m.length&&(l(),m=[],x=[]);return m.length&&l(),g.length?g.join(""):null}var i=Ai,n=Ai,a=0,r=Pi,o=Pe,s=br,l=s.key,h=s,u="L",c=.7;return e.x=function(t){return arguments.length?(i=n=t,e):n},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(a=r=t,e):r},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Dl.get(t)||br).key,h=s.reverse||s,u=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(c=t,e):c},e}function Or(t){return t.radius}function Hr(t){return[t.x,t.y]}function Xr(t){return function(){var e=t.apply(this,arguments),i=e[0],n=e[1]-Ro;return[i*Math.cos(n),i*Math.sin(n)]}}function Yr(){return 64}function qr(){return"circle"}function Ur(t){var e=Math.sqrt(t/Wo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function $r(t){return function(){var e,i,n;(e=this[t])&&(n=e[i=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[i]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Gr(t,e,i){return wo(t,jl),t.namespace=e,t.id=i,t}function Jr(t,e,i,n){var a=t.id,r=t.namespace;return H(t,"function"==typeof i?function(t,o,s){t[r][a].tween.set(e,n(i.call(t,t.__data__,o,s)))}:(i=n(i),function(t){t[r][a].tween.set(e,i)}))}function Kr(t){return null==t&&(t=""),function(){this.textContent=t}}function Zr(t){return null==t?"__transition__":"__transition_"+t+"__"}function Qr(t,e,i,n,a){function r(t){var e=g.delay;return u.t=e+l,t>=e?o(t-e):void(u.c=o)}function o(i){var a=f.active,r=f[a];r&&(r.timer.c=null,r.timer.t=NaN,--f.count,delete f[a],r.event&&r.event.interrupt.call(t,t.__data__,r.index));for(var o in f)if(n>+o){var h=f[o];h.timer.c=null,h.timer.t=NaN,--f.count,delete f[o]}u.c=s,Dt(function(){return u.c&&s(i||1)&&(u.c=null,u.t=NaN),1},0,l),f.active=n,g.event&&g.event.start.call(t,t.__data__,e),p=[],g.tween.forEach(function(i,n){(n=n.call(t,t.__data__,e))&&p.push(n)}),d=g.ease,c=g.duration}function s(a){for(var r=a/c,o=d(r),s=p.length;s>0;)p[--s].call(t,o);return r>=1?(g.event&&g.event.end.call(t,t.__data__,e),--f.count?delete f[n]:delete t[i],1):void 0}var l,u,c,d,p,f=t[i]||(t[i]={active:0,count:0}),g=f[n];g||(l=a.time,u=Dt(r,0,l),g=f[n]={tween:new h,time:l,timer:u,delay:a.delay,duration:a.duration,ease:a.ease,index:e},a=null,++f.count)}function to(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:i(t))+",0)"})}function eo(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:i(t))+")"})}function io(t){return t.toISOString()}function no(t,e,i){function n(e){return t(e)}function a(t,i){var n=t[1]-t[0],a=n/i,r=so.bisect(Jl,a);return r==Jl.length?[e.year,Za(t.map(function(t){return t/31536e6}),i)[2]]:r?e[a/Jl[r-1]<Jl[r]/a?r-1:r]:[Ql,Za(t,i)[2]]}return n.invert=function(e){return ao(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(ao)},n.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,ao(+i+1),e).length}var r=n.domain(),o=Ha(r),s=null==t?a(o,10):"number"==typeof t&&a(o,t);return s&&(t=s[0],e=s[1]),n.domain(qa(r,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=ao(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=ao(+e+1);return e}}:t))},n.ticks=function(t,e){var i=Ha(n.domain()),r=null==t?a(i,10):"number"==typeof t?a(i,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(i[0],ao(+i[1]+1),1>e?1:e)},n.tickFormat=function(){return i},n.copy=function(){return no(t.copy(),e,i)},Ja(n,t)}function ao(t){return new Date(t)}function ro(t){return JSON.parse(t.responseText)}function oo(t){var e=uo.createRange();return e.selectNode(uo.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.17"},lo=[].slice,ho=function(t){return lo.call(t)},uo=this.document;if(uo)try{ho(uo.documentElement.childNodes)[0].nodeType}catch(t){ho=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}if(Date.now||(Date.now=function(){return+new Date}),uo)try{uo.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var co=this.Element.prototype,po=co.setAttribute,fo=co.setAttributeNS,go=this.CSSStyleDeclaration.prototype,mo=go.setProperty;co.setAttribute=function(t,e){po.call(this,t,e+"")},co.setAttributeNS=function(t,e,i){fo.call(this,t,e,i+"")},go.setProperty=function(t,e,i){mo.call(this,t,e+"",i)}}so.ascending=i,so.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},so.min=function(t,e){var i,n,a=-1,r=t.length;if(1===arguments.length){for(;++a<r;)if(null!=(n=t[a])&&n>=n){i=n;break}for(;++a<r;)null!=(n=t[a])&&i>n&&(i=n)}else{for(;++a<r;)if(null!=(n=e.call(t,t[a],a))&&n>=n){i=n;break}for(;++a<r;)null!=(n=e.call(t,t[a],a))&&i>n&&(i=n)}return i},so.max=function(t,e){var i,n,a=-1,r=t.length;if(1===arguments.length){for(;++a<r;)if(null!=(n=t[a])&&n>=n){i=n;break}for(;++a<r;)null!=(n=t[a])&&n>i&&(i=n)}else{for(;++a<r;)if(null!=(n=e.call(t,t[a],a))&&n>=n){i=n;break}for(;++a<r;)null!=(n=e.call(t,t[a],a))&&n>i&&(i=n)}return i},so.extent=function(t,e){var i,n,a,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(n=t[r])&&n>=n){i=a=n;break}for(;++r<o;)null!=(n=t[r])&&(i>n&&(i=n),n>a&&(a=n))}else{for(;++r<o;)if(null!=(n=e.call(t,t[r],r))&&n>=n){i=a=n;break}for(;++r<o;)null!=(n=e.call(t,t[r],r))&&(i>n&&(i=n),n>a&&(a=n))}return[i,a]},so.sum=function(t,e){var i,n=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)a(i=+t[o])&&(n+=i);else for(;++o<r;)a(i=+e.call(t,t[o],o))&&(n+=i);return n},so.mean=function(t,e){var i,r=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)a(i=n(t[s]))?r+=i:--l;else for(;++s<o;)a(i=n(e.call(t,t[s],s)))?r+=i:--l;return l?r/l:void 0},so.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),a=+t[n-1],r=i-n;return r?a+r*(t[n]-a):a},so.median=function(t,e){var r,o=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)a(r=n(t[l]))&&o.push(r);else for(;++l<s;)a(r=n(e.call(t,t[l],l)))&&o.push(r);return o.length?so.quantile(o.sort(i),.5):void 0},so.variance=function(t,e){var i,r,o=t.length,s=0,l=0,h=-1,u=0;if(1===arguments.length)for(;++h<o;)a(i=n(t[h]))&&(r=i-s,s+=r/++u,l+=r*(i-s));else for(;++h<o;)a(i=n(e.call(t,t[h],h)))&&(r=i-s,s+=r/++u,l+=r*(i-s));return u>1?l/(u-1):void 0},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var xo=r(i);so.bisectLeft=xo.left,so.bisect=so.bisectRight=xo.right,so.bisector=function(t){return r(1===t.length?function(e,n){return i(t(e),n)}:t)},so.shuffle=function(t,e,i){(r=arguments.length)<3&&(i=t.length,2>r&&(e=0));for(var n,a,r=i-e;r;)a=Math.random()*r--|0,n=t[r+e],t[r+e]=t[a+e],t[a+e]=n;return t},so.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},so.pairs=function(t){for(var e,i=0,n=t.length-1,a=t[0],r=new Array(0>n?0:n);n>i;)r[i]=[e=a,a=t[++i]];return r},so.transpose=function(t){if(!(a=t.length))return[];for(var e=-1,i=so.min(t,o),n=new Array(i);++e<i;)for(var a,r=-1,s=n[e]=new Array(a);++r<a;)s[r]=t[r][e];return n},so.zip=function(){return so.transpose(arguments)},so.keys=function(t){var e=[];for(var i in t)e.push(i);return e},so.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},so.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},so.merge=function(t){for(var e,i,n,a=t.length,r=-1,o=0;++r<a;)o+=t[r].length;for(i=new Array(o);--a>=0;)for(n=t[a],e=n.length;--e>=0;)i[--o]=n[e];return i};var vo=Math.abs;so.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i===1/0)throw new Error("infinite range");var n,a=[],r=s(vo(i)),o=-1;if(t*=r,e*=r,i*=r,0>i)for(;(n=t+i*++o)>e;)a.push(n/r);else for(;(n=t+i*++o)<e;)a.push(n/r);return a},so.map=function(t,e){var i=new h;if(t instanceof h)t.forEach(function(t,e){i.set(t,e)});else if(Array.isArray(t)){var n,a=-1,r=t.length;if(1===arguments.length)for(;++a<r;)i.set(a,t[a]);else for(;++a<r;)i.set(e.call(t,n=t[a],a),n)}else for(var o in t)i.set(o,t[o]);return i};var yo="__proto__",bo="\0";l(h,{has:d,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:p,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:c(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,c(e),this._[e])}}),so.nest=function(){function t(e,o,s){if(s>=r.length)return n?n.call(a,o):i?o.sort(i):o;for(var l,u,c,d,p=-1,f=o.length,g=r[s++],m=new h;++p<f;)(d=m.get(l=g(u=o[p])))?d.push(u):m.set(l,[u]);return e?(u=e(),c=function(i,n){u.set(i,t(e,n,s))}):(u={},c=function(i,n){u[i]=t(e,n,s)}),m.forEach(c),u}function e(t,i){if(i>=r.length)return t;var n=[],a=o[i++];return t.forEach(function(t,a){n.push({key:t,values:e(a,i)})}),a?n.sort(function(t,e){return a(t.key,e.key)}):n}var i,n,a={},r=[],o=[];return a.map=function(e,i){return t(i,e,0)},a.entries=function(i){return e(t(so.map,i,0),0)},a.key=function(t){return r.push(t),a},a.sortKeys=function(t){return o[r.length-1]=t,a},a.sortValues=function(t){return i=t,a},a.rollup=function(t){return n=t,a},a},so.set=function(t){var e=new x;if(t)for(var i=0,n=t.length;n>i;++i)e.add(t[i]);return e},l(x,{has:d,add:function(t){return this._[u(t+="")]=!0,t},remove:p,values:f,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,c(e))}}),so.behavior={},so.rebind=function(t,e){for(var i,n=1,a=arguments.length;++n<a;)t[i=arguments[n]]=y(t,e,e[i]);return t};var _o=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new M,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=w(t);return t},M.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},so.event=null,so.requote=function(t){return t.replace(Mo,"\\$&")};var Mo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},To=function(t,e){return e.querySelector(t)},So=function(t,e){return e.querySelectorAll(t)},Co=function(t,e){var i=t.matches||t[b(t,"matchesSelector")];return(Co=function(t,e){return i.call(t,e)})(t,e)};"function"==typeof Sizzle&&(To=function(t,e){return Sizzle(t,e)[0]||null},So=Sizzle,Co=Sizzle.matchesSelector),so.selection=function(){return so.select(uo.documentElement)};var ko=so.selection.prototype=[];ko.select=function(t){var e,i,n,a,r=[];t=A(t);for(var o=-1,s=this.length;++o<s;){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var l=-1,h=n.length;++l<h;)(a=n[l])?(e.push(i=t.call(a,a.__data__,l,o)),i&&"__data__"in a&&(i.__data__=a.__data__)):e.push(null)}return k(r)},ko.selectAll=function(t){var e,i,n=[];t=P(t);for(var a=-1,r=this.length;++a<r;)for(var o=this[a],s=-1,l=o.length;++s<l;)(i=o[s])&&(n.push(e=ho(t.call(i,i.__data__,s,a))),e.parentNode=i);return k(n)};var Ao="http://www.w3.org/1999/xhtml",Po={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:Po,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),Po.hasOwnProperty(i)?{space:Po[i],local:t}:t}},ko.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=so.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},ko.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=B(t)).length,a=-1;if(e=i.classList){for(;++a<n;)if(!e.contains(t[a]))return!1}else for(e=i.getAttribute("class");++a<n;)if(!L(t[a]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},ko.style=function(t,i,n){var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(i="");for(n in t)this.each(z(n,t[n],i));return this}if(2>a){var r=this.node();return e(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(z(t,i,n))},ko.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(W(e,t[e]));return this}return this.each(W(t,e))},ko.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ko.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ko.append=function(t){return t=N(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ko.insert=function(t,e){return t=N(t),e=A(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ko.remove=function(){return this.each(V)},ko.data=function(t,e){function i(t,i){var n,a,r,o=t.length,c=i.length,d=Math.min(o,c),p=new Array(c),f=new Array(c),g=new Array(o);if(e){var m,x=new h,v=new Array(o);for(n=-1;++n<o;)(a=t[n])&&(x.has(m=e.call(a,a.__data__,n))?g[n]=a:x.set(m,a),v[n]=m);for(n=-1;++n<c;)(a=x.get(m=e.call(i,r=i[n],n)))?a!==!0&&(p[n]=a,a.__data__=r):f[n]=R(r),x.set(m,!0);for(n=-1;++n<o;)n in v&&x.get(v[n])!==!0&&(g[n]=t[n])}else{for(n=-1;++n<d;)a=t[n],r=i[n],a?(a.__data__=r,p[n]=a):f[n]=R(r);for(;c>n;++n)f[n]=R(i[n]);for(;o>n;++n)g[n]=t[n]}f.update=p,f.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(f),l.push(p),u.push(g)}var n,a,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(a=n[r])&&(t[r]=a.__data__);return t}var s=X([]),l=k([]),u=k([]);if("function"==typeof t)for(;++r<o;)i(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)i(n=this[r],t);return l.enter=function(){return s},l.exit=function(){return u},l},ko.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ko.filter=function(t){var e,i,n,a=[];"function"!=typeof t&&(t=j(t));for(var r=0,o=this.length;o>r;r++){a.push(e=[]),e.parentNode=(i=this[r]).parentNode;for(var s=0,l=i.length;l>s;s++)(n=i[s])&&t.call(n,n.__data__,s,r)&&e.push(n);
}return k(a)},ko.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],a=n.length-1,r=n[a];--a>=0;)(i=n[a])&&(r&&r!==i.nextSibling&&r.parentNode.insertBefore(i,r),r=i);return this},ko.sort=function(t){t=O.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},ko.each=function(t){return H(this,function(e,i,n){t.call(e,e.__data__,i,n)})},ko.call=function(t){var e=ho(arguments);return t.apply(e[0]=this,e),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var t=0,e=this.length;e>t;t++)for(var i=this[t],n=0,a=i.length;a>n;n++){var r=i[n];if(r)return r}return null},ko.size=function(){var t=0;return H(this,function(){++t}),t};var Fo=[];so.selection.enter=X,so.selection.enter.prototype=Fo,Fo.append=ko.append,Fo.empty=ko.empty,Fo.node=ko.node,Fo.call=ko.call,Fo.size=ko.size,Fo.select=function(t){for(var e,i,n,a,r,o=[],s=-1,l=this.length;++s<l;){n=(a=this[s]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var h=-1,u=a.length;++h<u;)(r=a[h])?(e.push(n[h]=i=t.call(a.parentNode,r.__data__,h,s)),i.__data__=r.__data__):e.push(null)}return k(o)},Fo.insert=function(t,e){return arguments.length<2&&(e=Y(this)),ko.insert.call(this,t,e)},so.select=function(e){var i;return"string"==typeof e?(i=[To(e,uo)],i.parentNode=uo.documentElement):(i=[e],i.parentNode=t(e)),k([i])},so.selectAll=function(t){var e;return"string"==typeof t?(e=ho(So(t,uo)),e.parentNode=uo.documentElement):(e=ho(t),e.parentNode=null),k([e])},ko.on=function(t,e,i){var n=arguments.length;if(3>n){if("string"!=typeof t){2>n&&(e=!1);for(i in t)this.each(q(i,t[i],e));return this}if(2>n)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(q(t,e,i))};var Do=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});uo&&Do.forEach(function(t){"on"+t in uo&&Do.remove(t)});var Lo,Bo=0;so.mouse=function(t){return J(t,S())};var Io=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=S().changedTouches),e)for(var n,a=0,r=e.length;r>a;++a)if((n=e[a]).identifier===i)return J(t,n)},so.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function i(t,e,i,r,o){return function(){function s(){var t,i,n=e(d,g);n&&(t=n[0]-y[0],i=n[1]-y[1],f|=t|i,y=n,p({type:"drag",x:n[0]+h[0],y:n[1]+h[1],dx:t,dy:i}))}function l(){e(d,g)&&(x.on(r+m,null).on(o+m,null),v(f),p({type:"dragend"}))}var h,u=this,c=so.event.target.correspondingElement||so.event.target,d=u.parentNode,p=n.of(u,arguments),f=0,g=t(),m=".drag"+(null==g?"":"-"+g),x=so.select(i(c)).on(r+m,s).on(o+m,l),v=G(c),y=e(d,g);a?(h=a.apply(u,arguments),h=[h.x-y[0],h.y-y[1]]):h=[0,0],p({type:"dragstart"})}}var n=C(t,"drag","dragstart","dragend"),a=null,r=i(_,so.mouse,e,"mousemove","mouseup"),o=i(K,so.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(a=e,t):a},so.rebind(t,n,"on")},so.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?ho(e).map(function(e){var i=J(t,e);return i.identifier=e.identifier,i}):[]};var Eo=1e-6,zo=Eo*Eo,Wo=Math.PI,No=2*Wo,Vo=No-Eo,Ro=Wo/2,jo=Wo/180,Oo=180/Wo,Ho=Math.SQRT2,Xo=2,Yo=4;so.interpolateZoom=function(t,e){var i,n,a=t[0],r=t[1],o=t[2],s=e[0],l=e[1],h=e[2],u=s-a,c=l-r,d=u*u+c*c;if(zo>d)n=Math.log(h/o)/Ho,i=function(t){return[a+t*u,r+t*c,o*Math.exp(Ho*t*n)]};else{var p=Math.sqrt(d),f=(h*h-o*o+Yo*d)/(2*o*Xo*p),g=(h*h-o*o-Yo*d)/(2*h*Xo*p),m=Math.log(Math.sqrt(f*f+1)-f),x=Math.log(Math.sqrt(g*g+1)-g);n=(x-m)/Ho,i=function(t){var e=t*n,i=nt(m),s=o/(Xo*p)*(i*at(Ho*e+m)-it(m));return[a+s*u,r+s*c,o*i/nt(Ho*e+m)]}}return i.duration=1e3*n,i},so.behavior.zoom=function(){function t(t){t.on(D,c).on(Uo+".zoom",p).on("dblclick.zoom",f).on(I,d)}function i(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function n(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function a(t){S.k=Math.max(A[0],Math.min(A[1],t))}function r(t,e){e=n(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function o(e,i,n,o){e.__chart__={x:S.x,y:S.y,k:S.k},a(Math.pow(2,o)),r(m=i,n),e=so.select(e),P>0&&(e=e.transition().duration(P)),e.call(t.event)}function s(){_&&_.domain(b.range().map(function(t){return(t-S.x)/S.k}).map(b.invert)),w&&w.domain(M.range().map(function(t){return(t-S.y)/S.k}).map(M.invert))}function l(t){F++||t({type:"zoomstart"})}function h(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function u(t){--F||(t({type:"zoomend"}),m=null)}function c(){function t(){s=1,r(so.mouse(a),d),h(o)}function n(){c.on(L,null).on(B,null),p(s),u(o)}var a=this,o=E.of(a,arguments),s=0,c=so.select(e(a)).on(L,t).on(B,n),d=i(so.mouse(a)),p=G(a);Rl.call(a),l(o)}function d(){function t(){var t=so.touches(f);return p=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=i(t))}),t}function e(){var e=so.event.target;so.select(e).on(b,n).on(_,s),M.push(e);for(var i=so.event.changedTouches,a=0,r=i.length;r>a;++a)m[i[a].identifier]=null;var l=t(),h=Date.now();if(1===l.length){if(500>h-y){var u=l[0];o(f,u,m[u.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),T()}y=h}else if(l.length>1){var u=l[0],c=l[1],d=u[0]-c[0],p=u[1]-c[1];x=d*d+p*p}}function n(){var t,e,i,n,o=so.touches(f);Rl.call(f);for(var s=0,l=o.length;l>s;++s,n=null)if(i=o[s],n=m[i.identifier]){if(e)break;t=i,e=n}if(n){var u=(u=i[0]-t[0])*u+(u=i[1]-t[1])*u,c=x&&Math.sqrt(u/x);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+n[0])/2,(e[1]+n[1])/2],a(c*p)}y=null,r(t,e),h(g)}function s(){if(so.event.touches.length){for(var e=so.event.changedTouches,i=0,n=e.length;n>i;++i)delete m[e[i].identifier];for(var a in m)return void t()}so.selectAll(M).on(v,null),w.on(D,c).on(I,d),C(),u(g)}var p,f=this,g=E.of(f,arguments),m={},x=0,v=".zoom-"+so.event.changedTouches[0].identifier,b="touchmove"+v,_="touchend"+v,M=[],w=so.select(f),C=G(f);e(),l(g),w.on(D,null).on(I,e)}function p(){var t=E.of(this,arguments);v?clearTimeout(v):(Rl.call(this),g=i(m=x||so.mouse(this)),l(t)),v=setTimeout(function(){v=null,u(t)},50),T(),a(Math.pow(2,.002*qo())*S.k),r(m,g),h(t)}function f(){var t=so.mouse(this),e=Math.log(S.k)/Math.LN2;o(this,t,i(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,x,v,y,b,_,M,w,S={x:0,y:0,k:1},k=[960,500],A=$o,P=250,F=0,D="mousedown.zoom",L="mousemove.zoom",B="mouseup.zoom",I="touchstart.zoom",E=C(t,"zoomstart","zoom","zoomend");return Uo||(Uo="onwheel"in uo?(qo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in uo?(qo=function(){return so.event.wheelDelta},"mousewheel"):(qo=function(){return-so.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=E.of(this,arguments),e=S;Nl?so.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var i=k[0],n=k[1],a=m?m[0]:i/2,r=m?m[1]:n/2,o=so.interpolateZoom([(a-S.x)/S.k,(r-S.y)/S.k,i/S.k],[(a-e.x)/e.k,(r-e.y)/e.k,i/e.k]);return function(e){var n=o(e),s=i/n[2];this.__chart__=S={x:a-n[0]*s,y:r-n[1]*s,k:s},h(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=S,l(t),h(t),u(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},a(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?$o:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(x=e&&[+e[0],+e[1]],t):x},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.duration=function(e){return arguments.length?(P=+e,t):P},t.x=function(e){return arguments.length?(_=e,b=e.copy(),S={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(w=e,M=e.copy(),S={x:0,y:0,k:1},t):w},so.rebind(t,E,"on")};var qo,Uo,$o=[0,1/0];so.color=ot,ot.prototype.toString=function(){return this.rgb()+""},so.hsl=st;var Go=st.prototype=new ot;Go.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Go.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Go.rgb=function(){return lt(this.h,this.s,this.l)},so.hcl=ht;var Jo=ht.prototype=new ot;Jo.brighter=function(t){return new ht(this.h,this.c,Math.min(100,this.l+Ko*(arguments.length?t:1)))},Jo.darker=function(t){return new ht(this.h,this.c,Math.max(0,this.l-Ko*(arguments.length?t:1)))},Jo.rgb=function(){return ut(this.h,this.c,this.l).rgb()},so.lab=ct;var Ko=18,Zo=.95047,Qo=1,ts=1.08883,es=ct.prototype=new ot;es.brighter=function(t){return new ct(Math.min(100,this.l+Ko*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ct(Math.max(0,this.l-Ko*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return dt(this.l,this.a,this.b)},so.rgb=xt;var is=xt.prototype=new ot;is.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b,a=30;return e||i||n?(e&&a>e&&(e=a),i&&a>i&&(i=a),n&&a>n&&(n=a),new xt(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,n/t))):new xt(a,a,a)},is.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new xt(t*this.r,t*this.g,t*this.b)},is.hsl=function(){return Mt(this.r,this.g,this.b)},is.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var ns=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ns.forEach(function(t,e){ns.set(t,vt(e))}),so.functor=Ct,so.xhr=kt(v),so.dsv=function(t,e){function i(t,i,r){arguments.length<3&&(r=i,i=null);var o=At(t,e,null==i?n:a(i),r);return o.row=function(t){return arguments.length?o.response(null==(i=t)?n:a(t)):i},o}function n(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function r(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return i.parse=function(t,e){var n;return i.parseRows(t,function(t,i){if(n)return n(t,i-1);var a=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,i){return e(a(t),i)}:a})},i.parseRows=function(t,e){function i(){if(u>=h)return o;if(a)return a=!1,r;var e=u;if(34===t.charCodeAt(e)){for(var i=e;i++<h;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}u=i+2;var n=t.charCodeAt(i+1);return 13===n?(a=!0,10===t.charCodeAt(i+2)&&++u):10===n&&(a=!0),t.slice(e+1,i).replace(/""/g,'"')}for(;h>u;){var n=t.charCodeAt(u++),s=1;if(10===n)a=!0;else if(13===n)a=!0,10===t.charCodeAt(u)&&(++u,++s);else if(n!==l)continue;return t.slice(e,u-s)}return t.slice(e)}for(var n,a,r={},o={},s=[],h=t.length,u=0,c=0;(n=i())!==o;){for(var d=[];n!==r&&n!==o;)d.push(n),n=i();e&&null==(d=e(d,c++))||s.push(d)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new x,a=[];return e.forEach(function(t){for(var e in t)n.has(e)||a.push(n.add(e))}),[a.map(o).join(t)].concat(e.map(function(e){return a.map(function(t){return o(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(r).join("\n")},i},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("\t","text/tab-separated-values");var as,rs,os,ss,ls=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Dt.apply(this,arguments)},so.timer.flush=function(){Bt(),It()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var hs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(zt);so.formatPrefix=function(t,e){var i=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=so.round(t,Et(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),hs[8+i/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,cs=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,Et(t,e))).toFixed(Math.max(0,Math.min(20,Et(t*(1+1e-15),e))))}}),ds=so.time={},ps=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fs.setUTCDate.apply(this._,arguments)},setDay:function(){fs.setUTCDay.apply(this._,arguments)},setFullYear:function(){fs.setUTCFullYear.apply(this._,arguments)},setHours:function(){fs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fs.setUTCSeconds.apply(this._,arguments)},setTime:function(){fs.setTime.apply(this._,arguments)}};var fs=Date.prototype;ds.year=Rt(function(t){return t=ds.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=Rt(function(t){var e=new ps(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var i=ds[t]=Rt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});ds[t+"s"]=i.range,ds[t+"s"].utc=i.utc.range,ds[t+"OfYear"]=function(t){var i=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(i+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,xs=/^%/;so.locale=function(t){return{numberFormat:Wt(t),timeFormat:Ot(t)}};var vs=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=vs.numberFormat,so.geo={},he.prototype={s:0,t:0,add:function(t){ue(t,this.t,ys),ue(ys.s,this.s,this),this.s?this.t+=ys.t:this.s=ys.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ys=new he;so.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):ce(t,e)};var bs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,a=i.length;++n<a;)ce(i[n].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)de(i[n],e,0)},Polygon:function(t,e){pe(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)pe(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,a=i.length;++n<a;)ce(i[n],e)}};so.geo.area=function(t){return Ms=0,so.geo.stream(t,Ts),Ms};var Ms,ws=new he,Ts={sphere:function(){Ms+=4*Wo},point:_,lineStart:_,lineEnd:_,polygonStart:function(){ws.reset(),Ts.lineStart=fe},polygonEnd:function(){var t=2*ws;Ms+=0>t?4*Wo+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=_}};so.geo.bounds=function(){function t(t,e){y.push(b=[u=t,d=t]),c>e&&(c=e),e>p&&(p=e)}function e(e,i){var n=ge([e*jo,i*jo]);if(x){var a=xe(x,n),r=[a[1],-a[0],0],o=xe(r,a);be(o),o=_e(o);var l=e-f,h=l>0?1:-1,g=o[0]*Oo*h,m=vo(l)>180;if(m^(g>h*f&&h*e>g)){var v=o[1]*Oo;v>p&&(p=v)}else if(g=(g+360)%360-180,m^(g>h*f&&h*e>g)){var v=-o[1]*Oo;c>v&&(c=v)}else c>i&&(c=i),i>p&&(p=i);m?f>e?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>f?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e)}else t(e,i);x=n,f=e}function i(){_.point=e}function n(){b[0]=u,b[1]=d,_.point=t,x=null}function a(t,i){if(x){var n=t-f;v+=vo(n)>180?n+(n>0?360:-360):n}else g=t,m=i;Ts.point(t,i),e(t,i)}function r(){Ts.lineStart()}function o(){a(g,m),Ts.lineEnd(),vo(v)>Eo&&(u=-(d=180)),b[0]=u,b[1]=d,x=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,c,d,p,f,g,m,x,v,y,b,_={point:t,lineStart:i,lineEnd:n,polygonStart:function(){_.point=a,_.lineStart=r,_.lineEnd=o,v=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),_.point=t,_.lineStart=i,_.lineEnd=n,0>ws?(u=-(d=180),c=-(p=90)):v>Eo?p=90:-Eo>v&&(c=-90),b[0]=u,b[1]=d}};return function(t){p=d=-(u=c=1/0),y=[],so.geo.stream(t,_);var e=y.length;if(e){y.sort(l);for(var i,n=1,a=y[0],r=[a];e>n;++n)i=y[n],h(i[0],a)||h(i[1],a)?(s(a[0],i[1])>s(a[0],a[1])&&(a[1]=i[1]),s(i[0],a[1])>s(a[0],a[1])&&(a[0]=i[0])):r.push(a=i);for(var o,i,f=-(1/0),e=r.length-1,n=0,a=r[e];e>=n;a=i,++n)i=r[n],(o=s(a[1],i[0]))>f&&(f=o,u=i[0],d=a[1])}return y=b=null,u===1/0||c===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,c],[d,p]]}}(),so.geo.centroid=function(t){Ss=Cs=ks=As=Ps=Fs=Ds=Ls=Bs=Is=Es=0,so.geo.stream(t,zs);var e=Bs,i=Is,n=Es,a=e*e+i*i+n*n;return zo>a&&(e=Fs,i=Ds,n=Ls,Eo>Cs&&(e=ks,i=As,n=Ps),a=e*e+i*i+n*n,zo>a)?[NaN,NaN]:[Math.atan2(i,e)*Oo,et(n/Math.sqrt(a))*Oo]};var Ss,Cs,ks,As,Ps,Fs,Ds,Ls,Bs,Is,Es,zs={sphere:_,point:we,lineStart:Se,lineEnd:Ce,polygonStart:function(){zs.lineStart=ke},polygonEnd:function(){zs.lineStart=Se}},Ws=Be(Pe,We,Ve,[-Wo,-Wo/2]),Ns=1e9;so.geo.clipExtent=function(){var t,e,i,n,a,r,o={stream:function(t){return a&&(a.valid=!1),a=r(t),a.valid=!0,a},extent:function(s){return arguments.length?(r=He(t=+s[0][0],e=+s[0][1],i=+s[1][0],n=+s[1][1]),a&&(a.valid=!1,a=null),o):[[t,e],[i,n]]}};return o.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return Xe(Ye)}).raw=Ye,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function t(t){var r=t[0],o=t[1];return e=null,i(r,o),e||(n(r,o),e)||a(r,o),e}var e,i,n,a,r=so.geo.albers(),o=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=r.scale(),i=r.translate(),n=(t[0]-i[0])/e,a=(t[1]-i[1])/e;return(a>=.12&&.234>a&&n>=-.425&&-.214>n?o:a>=.166&&.234>a&&n>=-.214&&-.115>n?s:r).invert(t)},t.stream=function(t){var e=r.stream(t),i=o.stream(t),n=s.stream(t);return{point:function(t,a){e.point(t,a),i.point(t,a),n.point(t,a)},sphere:function(){e.sphere(),i.sphere(),n.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),o.precision(e),s.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),o.scale(.35*e),s.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var h=r.scale(),u=+e[0],c=+e[1];return i=r.translate(e).clipExtent([[u-.455*h,c-.238*h],[u+.455*h,c+.238*h]]).stream(l).point,n=o.translate([u-.307*h,c+.201*h]).clipExtent([[u-.425*h+Eo,c+.12*h+Eo],[u-.214*h-Eo,c+.234*h-Eo]]).stream(l).point,a=s.translate([u-.205*h,c+.212*h]).clipExtent([[u-.214*h+Eo,c+.166*h+Eo],[u-.115*h-Eo,c+.234*h-Eo]]).stream(l).point,t},t.scale(1070)};var Vs,Rs,js,Os,Hs,Xs,Ys={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Rs=0,Ys.lineStart=qe},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=_,Vs+=vo(Rs/2)}},qs={point:Ue,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Us={point:Je,lineStart:Ke,lineEnd:Ze,polygonStart:function(){Us.lineStart=Qe},polygonEnd:function(){Us.point=Je,Us.lineStart=Ke,Us.lineEnd=Ze}};so.geo.path=function(){function t(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=a(r)),so.geo.stream(t,o)),r.result()}function e(){return o=null,t}var i,n,a,r,o,s=4.5;return t.area=function(t){return Vs=0,so.geo.stream(t,a(Ys)),Vs},t.centroid=function(t){return ks=As=Ps=Fs=Ds=Ls=Bs=Is=Es=0,so.geo.stream(t,a(Us)),Es?[Bs/Es,Is/Es]:Ls?[Fs/Ls,Ds/Ls]:Ps?[ks/Ps,As/Ps]:[NaN,NaN]},t.bounds=function(t){return Hs=Xs=-(js=Os=1/0),so.geo.stream(t,a(qs)),[[js,Os],[Hs,Xs]]},t.projection=function(t){return arguments.length?(a=(i=t)?t.stream||ii(t):v,e()):i},t.context=function(t){return arguments.length?(r=null==(n=t)?new $e:new ti(t),"function"!=typeof s&&r.pointRadius(s),e()):n},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(r.pointRadius(+e),+e),t):s},t.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(t){return{stream:function(e){var i=new ni(e);for(var n in t)i[n]=t[n];return i}}},ni.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=ri,so.geo.projectionMutator=oi,(so.geo.equirectangular=function(){return ri(li)}).raw=li.invert=li,so.geo.rotation=function(t){function e(e){return e=t(e[0]*jo,e[1]*jo),e[0]*=Oo,e[1]*=Oo,e}return t=ui(t[0]%360*jo,t[1]*jo,t.length>2?t[2]*jo:0),e.invert=function(e){return e=t.invert(e[0]*jo,e[1]*jo),e[0]*=Oo,e[1]*=Oo,e},e},hi.invert=li,so.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=ui(-t[0]*jo,-t[1]*jo,0).invert,a=[];return i(null,null,1,{point:function(t,i){a.push(t=e(t,i)),t[0]*=Oo,t[1]*=Oo}}),{type:"Polygon",coordinates:[a]}}var e,i,n=[0,0],a=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(i=fi((e=+n)*jo,a*jo),t):e},t.precision=function(n){return arguments.length?(i=fi(e*jo,(a=+n)*jo),t):a},t.angle(90)},so.geo.distance=function(t,e){var i,n=(e[0]-t[0])*jo,a=t[1]*jo,r=e[1]*jo,o=Math.sin(n),s=Math.cos(n),l=Math.sin(a),h=Math.cos(a),u=Math.sin(r),c=Math.cos(r);return Math.atan2(Math.sqrt((i=c*o)*i+(i=h*u-l*c*s)*i),l*u+h*c*s)},so.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return so.range(Math.ceil(r/m)*m,a,m).map(d).concat(so.range(Math.ceil(h/x)*x,l,x).map(p)).concat(so.range(Math.ceil(n/f)*f,i,f).filter(function(t){return vo(t%m)>Eo}).map(u)).concat(so.range(Math.ceil(s/g)*g,o,g).filter(function(t){return vo(t%x)>Eo}).map(c))}var i,n,a,r,o,s,l,h,u,c,d,p,f=10,g=f,m=90,x=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(l).slice(1),d(a).reverse().slice(1),p(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],a=+e[1][0],h=+e[0][1],l=+e[1][1],r>a&&(e=r,r=a,a=e),h>l&&(e=h,h=l,l=e),t.precision(v)):[[r,h],[a,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],s=+e[0][1],o=+e[1][1],n>i&&(e=n,n=i,i=e),s>o&&(e=s,s=o,o=e),t.precision(v)):[[n,s],[i,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],x=+e[1],t):[m,x]},t.minorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(v=+e,u=mi(s,o,90),c=xi(n,i,v),d=mi(h,l,90),p=xi(r,a,v),t):v},t.majorExtent([[-180,-90+Eo],[180,90-Eo]]).minorExtent([[-180,-80-Eo],[180,80+Eo]])},so.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||a.apply(this,arguments)]}}var e,i,n=vi,a=yi;return t.distance=function(){return so.geo.distance(e||n.apply(this,arguments),i||a.apply(this,arguments))},t.source=function(i){return arguments.length?(n=i,e="function"==typeof i?null:i,t):n},t.target=function(e){return arguments.length?(a=e,i="function"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},so.geo.interpolate=function(t,e){return bi(t[0]*jo,t[1]*jo,e[0]*jo,e[1]*jo)},so.geo.length=function(t){return $s=0,so.geo.stream(t,Gs),$s};var $s,Gs={sphere:_,point:_,lineStart:_i,lineEnd:_,polygonStart:_,polygonEnd:_},Js=Mi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return ri(Js)}).raw=Js;var Ks=Mi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(so.geo.azimuthalEquidistant=function(){return ri(Ks)}).raw=Ks,(so.geo.conicConformal=function(){return Xe(wi)}).raw=wi,(so.geo.conicEquidistant=function(){return Xe(Ti)}).raw=Ti;var Zs=Mi(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return ri(Zs)}).raw=Zs,Si.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ro]},(so.geo.mercator=function(){return Ci(Si)}).raw=Si;var Qs=Mi(function(){return 1},Math.asin);(so.geo.orthographic=function(){return ri(Qs)}).raw=Qs;var tl=Mi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return ri(tl)}).raw=tl,ki.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ro]},(so.geo.transverseMercator=function(){var t=Ci(ki),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},i([0,0,90])}).raw=ki,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a=Ct(i),r=Ct(n),o=t.length,s=[],l=[];for(e=0;o>e;e++)s.push([+a.call(this,t[e],e),+r.call(this,t[e],e),e]);for(s.sort(Di),e=0;o>e;e++)l.push([s[e][0],-s[e][1]]);var h=Fi(s),u=Fi(l),c=u[0]===h[0],d=u[u.length-1]===h[h.length-1],p=[];for(e=h.length-1;e>=0;--e)p.push(t[s[h[e]][2]]);for(e=+c;e<u.length-d;++e)p.push(t[s[u[e]][2]]);return p}var i=Ai,n=Pi;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e)},so.geom.polygon=function(t){return wo(t,el),t};var el=so.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],a=0;++e<i;)t=n,n=this[e],a+=t[1]*n[0]-t[0]*n[1];return.5*a},el.centroid=function(t){var e,i,n=-1,a=this.length,r=0,o=0,s=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++n<a;)e=s,s=this[n],i=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*i,o+=(e[1]+s[1])*i;return[r*t,o*t]},el.clip=function(t){for(var e,i,n,a,r,o,s=Ii(t),l=-1,h=this.length-Ii(this),u=this[h-1];++l<h;){for(e=t.slice(),t.length=0,a=this[l],r=e[(n=e.length-s)-1],i=-1;++i<n;)o=e[i],Li(o,u,a)?(Li(r,u,a)||t.push(Bi(r,o,u,a)),t.push(o)):Li(r,u,a)&&t.push(Bi(r,o,u,a)),r=o;s&&t.push(t[0]),u=a}return t};var il,nl,al,rl,ol,sl=[],ll=[];Oi.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)t=e[i].edge,t.b&&t.a||e.splice(i,1);return e.sort(Xi),e.length},tn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},en.prototype={insert:function(t,e){var i,n,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=on(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)n=i.U,i===n.L?(a=n.R,a&&a.C?(i.C=a.C=!1,n.C=!0,t=n):(t===i.R&&(an(this,i),t=i,i=t.U),i.C=!1,n.C=!0,rn(this,n))):(a=n.L,a&&a.C?(i.C=a.C=!1,n.C=!0,t=n):(t===i.L&&(rn(this,i),t=i,i=t.U),i.C=!1,n.C=!0,an(this,n))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,a=t.U,r=t.L,o=t.R;if(i=r?o?on(o):r:o,a?a.L===t?a.L=i:a.R=i:this._=i,r&&o?(n=i.C,i.C=t.C,i.L=r,r.U=i,i!==o?(a=i.U,i.U=t.U,t=i.R,a.L=t,i.R=o,o.U=i):(i.U=a,a=i,t=i.R)):(n=t.C,t=i),t&&(t.U=a),!n){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(e=a.R,e.C&&(e.C=!1,a.C=!0,an(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rn(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,an(this,a),t=this._;break}}else if(e=a.L,e.C&&(e.C=!1,a.C=!0,rn(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,an(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,rn(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(t){var e=new Array(t.length),n=s[0][0],a=s[0][1],r=s[1][0],o=s[1][1];return sn(i(t),s).cells.forEach(function(i,s){var l=i.edges,h=i.site,u=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):h.x>=n&&h.x<=r&&h.y>=a&&h.y<=o?[[n,o],[r,o],[r,a],[n,a]]:[];u.point=t[s]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Eo)*Eo,y:Math.round(o(t,e)/Eo)*Eo,i:e}})}var n=Ai,a=Pi,r=n,o=a,s=hl;return t?e(t):(e.links=function(t){return sn(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sn(i(t)).cells.forEach(function(i,n){for(var a,r,o=i.site,s=i.edges.sort(Xi),l=-1,h=s.length,u=s[h-1].edge,c=u.l===o?u.r:u.l;++l<h;)a=u,r=c,u=s[l].edge,c=u.l===o?u.r:u.l,
n<r.i&&n<c.i&&hn(o,r,c)<0&&e.push([t[n],t[r.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(r=Ct(n=t),e):n},e.y=function(t){return arguments.length?(o=Ct(a=t),e):a},e.clipExtent=function(t){return arguments.length?(s=null==t?hl:t,e):s===hl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===hl?null:s&&s[1]},e)};var hl=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,e,i,n,a){function r(t){function r(t,e,i,n,a,r,o,s){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(vo(l-i)+vo(u-n)<.01)h(t,e,i,n,a,r,o,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,l,u,a,r,o,s),h(t,e,i,n,a,r,o,s)}else t.x=i,t.y=n,t.point=e}else h(t,e,i,n,a,r,o,s)}function h(t,e,i,n,a,o,s,l){var h=.5*(a+s),u=.5*(o+l),c=i>=h,d=n>=u,p=d<<1|c;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=dn()),c?a=h:s=h,d?o=u:l=u,r(t,e,i,n,a,o,s,l)}var u,c,d,p,f,g,m,x,v,y=Ct(s),b=Ct(l);if(null!=e)g=e,m=i,x=n,v=a;else if(x=v=-(g=m=1/0),c=[],d=[],f=t.length,o)for(p=0;f>p;++p)u=t[p],u.x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>x&&(x=u.x),u.y>v&&(v=u.y),c.push(u.x),d.push(u.y);else for(p=0;f>p;++p){var _=+y(u=t[p],p),M=+b(u,p);g>_&&(g=_),m>M&&(m=M),_>x&&(x=_),M>v&&(v=M),c.push(_),d.push(M)}var w=x-g,T=v-m;w>T?v=m+w:x=g+T;var S=dn();if(S.add=function(t){r(S,t,+y(t,++p),+b(t,p),g,m,x,v)},S.visit=function(t){pn(t,S,g,m,x,v)},S.find=function(t){return fn(S,t[0],t[1],g,m,x,v)},p=-1,null==e){for(;++p<f;)r(S,t[p],c[p],d[p],g,m,x,v);--p}else t.forEach(S.add);return c=d=t=u=null,S}var o,s=Ai,l=Pi;return(o=arguments.length)?(s=un,l=cn,3===o&&(a=i,n=e,i=e=0),r(t)):(r.x=function(t){return arguments.length?(s=t,r):s},r.y=function(t){return arguments.length?(l=t,r):l},r.extent=function(t){return arguments.length?(null==t?e=i=n=a=null:(e=+t[0][0],i=+t[0][1],n=+t[1][0],a=+t[1][1]),r):null==e?null:[[e,i],[n,a]]},r.size=function(t){return arguments.length?(null==t?e=i=n=a=null:(e=i=0,n=+t[0],a=+t[1]),r):null==e?null:[n-e,a-i]},r)},so.interpolateRgb=gn,so.interpolateObject=mn,so.interpolateNumber=xn,so.interpolateString=vn;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cl=new RegExp(ul.source,"g");so.interpolate=yn,so.interpolators=[function(t,e){var i=typeof e;return("string"===i?ns.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gn:vn:e instanceof ot?gn:Array.isArray(e)?bn:"object"===i&&isNaN(e)?mn:xn)(t,e)}],so.interpolateArray=bn;var dl=function(){return v},pl=so.map({linear:dl,poly:kn,quad:function(){return Tn},cubic:function(){return Sn},sin:function(){return An},exp:function(){return Pn},circle:function(){return Fn},elastic:Dn,back:Ln,bounce:function(){return Bn}}),fl=so.map({"in":v,out:Mn,"in-out":wn,"out-in":function(t){return wn(Mn(t))}});so.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.slice(0,e):t,n=e>=0?t.slice(e+1):"in";return i=pl.get(i)||dl,n=fl.get(n)||v,_n(n(i.apply(null,lo.call(arguments,1))))},so.interpolateHcl=In,so.interpolateHsl=En,so.interpolateLab=zn,so.interpolateRound=Wn,so.transform=function(t){var e=uo.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new Nn(i?i.matrix:gl)})(t)},Nn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Un,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push(Jn(t[i]));return e}},so.layout.chord=function(){function t(){var t,h,c,d,p,f={},g=[],m=so.range(r),x=[];for(i=[],n=[],t=0,d=-1;++d<r;){for(h=0,p=-1;++p<r;)h+=a[d][p];g.push(h),x.push(so.range(r)),t+=h}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&x.forEach(function(t,e){t.sort(function(t,i){return s(a[e][t],a[e][i])})}),t=(No-u*r)/t,h=0,d=-1;++d<r;){for(c=h,p=-1;++p<r;){var v=m[d],y=x[v][p],b=a[v][y],_=h,M=h+=b*t;f[v+"-"+y]={index:v,subindex:y,startAngle:_,endAngle:M,value:b}}n[v]={index:v,startAngle:c,endAngle:h,value:g[v]},h+=u}for(d=-1;++d<r;)for(p=d-1;++p<r;){var w=f[d+"-"+p],T=f[p+"-"+d];(w.value||T.value)&&i.push(w.value<T.value?{source:T,target:w}:{source:w,target:T})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,n,a,r,o,s,l,h={},u=0;return h.matrix=function(t){return arguments.length?(r=(a=t)&&a.length,i=n=null,h):a},h.padding=function(t){return arguments.length?(u=t,i=n=null,h):u},h.sortGroups=function(t){return arguments.length?(o=t,i=n=null,h):o},h.sortSubgroups=function(t){return arguments.length?(s=t,i=null,h):s},h.sortChords=function(t){return arguments.length?(l=t,i&&e(),h):l},h.chords=function(){return i||t(),i},h.groups=function(){return n||t(),n},h},so.layout.force=function(){function t(t){return function(e,i,n,a){if(e.point!==t){var r=e.cx-t.x,o=e.cy-t.y,s=a-i,l=r*r+o*o;if(l>s*s/x){if(g>l){var h=e.charge/l;t.px-=r*h,t.py-=o*h}return!0}if(e.point&&l&&g>l){var h=e.pointCharge/l;t.px-=r*h,t.py-=o*h}}return!e.charge}}function e(t){t.px=so.event.x,t.py=so.event.y,l.resume()}var i,n,a,r,o,s,l={},h=so.dispatch("start","tick","end"),u=[1,1],c=.9,d=ml,p=xl,f=-30,g=vl,m=.1,x=.64,y=[],b=[];return l.tick=function(){if((a*=.99)<.005)return i=null,h.end({type:"end",alpha:a=0}),!0;var e,n,l,d,p,g,x,v,_,M=y.length,w=b.length;for(n=0;w>n;++n)l=b[n],d=l.source,p=l.target,v=p.x-d.x,_=p.y-d.y,(g=v*v+_*_)&&(g=a*o[n]*((g=Math.sqrt(g))-r[n])/g,v*=g,_*=g,p.x-=v*(x=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=_*x,d.x+=v*(x=1-x),d.y+=_*x);if((x=a*m)&&(v=u[0]/2,_=u[1]/2,n=-1,x))for(;++n<M;)l=y[n],l.x+=(v-l.x)*x,l.y+=(_-l.y)*x;if(f)for(na(e=so.geom.quadtree(y),a,s),n=-1;++n<M;)(l=y[n]).fixed||e.visit(t(l));for(n=-1;++n<M;)l=y[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);h.tick({type:"tick",alpha:a})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(x=t*t,l):Math.sqrt(x)},l.alpha=function(t){return arguments.length?(t=+t,a?t>0?a=t:(i.c=null,i.t=NaN,i=null,h.end({type:"end",alpha:a=0})):t>0&&(h.start({type:"start",alpha:a=t}),i=Dt(l.tick)),l):a},l.start=function(){function t(t,n){if(!i){for(i=new Array(a),l=0;a>l;++l)i[l]=[];for(l=0;h>l;++l){var r=b[l];i[r.source.index].push(r.target),i[r.target.index].push(r.source)}}for(var o,s=i[e],l=-1,u=s.length;++l<u;)if(!isNaN(o=s[l][t]))return o;return Math.random()*n}var e,i,n,a=y.length,h=b.length,c=u[0],g=u[1];for(e=0;a>e;++e)(n=y[e]).index=e,n.weight=0;for(e=0;h>e;++e)n=b[e],"number"==typeof n.source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(e=0;a>e;++e)n=y[e],isNaN(n.x)&&(n.x=t("x",c)),isNaN(n.y)&&(n.y=t("y",g)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(e=0;h>e;++e)r[e]=+d.call(this,b[e],e);else for(e=0;h>e;++e)r[e]=d;if(o=[],"function"==typeof p)for(e=0;h>e;++e)o[e]=+p.call(this,b[e],e);else for(e=0;h>e;++e)o[e]=p;if(s=[],"function"==typeof f)for(e=0;a>e;++e)s[e]=+f.call(this,y[e],e);else for(e=0;a>e;++e)s[e]=f;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=so.behavior.drag().origin(v).on("dragstart.force",Qn).on("drag.force",e).on("dragend.force",ta)),arguments.length?void this.on("mouseover.force",ea).on("mouseout.force",ia).call(n):n},so.rebind(l,h,"on")};var ml=20,xl=1,vl=1/0;so.layout.hierarchy=function(){function t(a){var r,o=[a],s=[];for(a.depth=0;null!=(r=o.pop());)if(s.push(r),(h=i.call(t,r,r.depth))&&(l=h.length)){for(var l,h,u;--l>=0;)o.push(u=h[l]),u.parent=r,u.depth=r.depth+1;n&&(r.value=0),r.children=h}else n&&(r.value=+n.call(t,r,r.depth)||0),delete r.children;return oa(a,function(t){var i,a;e&&(i=t.children)&&i.sort(e),n&&(a=t.parent)&&(a.value+=t.value)}),s}var e=ha,i=sa,n=la;return t.sort=function(i){return arguments.length?(e=i,t):e},t.children=function(e){return arguments.length?(i=e,t):i},t.value=function(e){return arguments.length?(n=e,t):n},t.revalue=function(e){return n&&(ra(e,function(t){t.children&&(t.value=0)}),oa(e,function(e){var i;e.children||(e.value=+n.call(t,e,e.depth)||0),(i=e.parent)&&(i.value+=e.value)})),e},t},so.layout.partition=function(){function t(e,i,n,a){var r=e.children;if(e.x=i,e.y=e.depth*a,e.dx=n,e.dy=a,r&&(o=r.length)){var o,s,l,h=-1;for(n=e.value?n/e.value:0;++h<o;)t(s=r[h],i,l=s.value*n,a),i+=l}}function e(t){var i=t.children,n=0;if(i&&(a=i.length))for(var a,r=-1;++r<a;)n=Math.max(n,e(i[r]));return 1+n}function i(i,r){var o=n.call(this,i,r);return t(o[0],0,a[0],a[1]/e(o[0])),o}var n=so.layout.hierarchy(),a=[1,1];return i.size=function(t){return arguments.length?(a=t,i):a},aa(i,n)},so.layout.pie=function(){function t(o){var s,l=o.length,h=o.map(function(i,n){return+e.call(t,i,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),c=("function"==typeof a?a.apply(this,arguments):a)-u,d=Math.min(Math.abs(c)/l,+("function"==typeof r?r.apply(this,arguments):r)),p=d*(0>c?-1:1),f=so.sum(h),g=f?(c-l*p)/f:0,m=so.range(l),x=[];return null!=i&&m.sort(i===yl?function(t,e){return h[e]-h[t]}:function(t,e){return i(o[t],o[e])}),m.forEach(function(t){x[t]={data:o[t],value:s=h[t],startAngle:u,endAngle:u+=s*g+p,padAngle:d}}),x}var e=Number,i=yl,n=0,a=No,r=0;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(a=e,t):a},t.padAngle=function(e){return arguments.length?(r=e,t):r},t};var yl={};so.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var h=s.map(function(i,n){return e.call(t,i,n)}),u=h.map(function(e){return e.map(function(e,i){return[r.call(t,e,i),o.call(t,e,i)]})}),c=i.call(t,u,l);h=so.permute(h,c),u=so.permute(u,c);var d,p,f,g,m=n.call(t,u,l),x=h[0].length;for(f=0;x>f;++f)for(a.call(t,h[0][f],g=m[f],u[0][f][1]),p=1;d>p;++p)a.call(t,h[p][f],g+=u[p-1][f][1],u[p][f][1]);return s}var e=v,i=fa,n=ga,a=pa,r=ca,o=da;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:bl.get(e)||fa,t):i},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:_l.get(e)||ga,t):n},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(a=e,t):a},t};var bl=so.map({"inside-out":function(t){var e,i,n=t.length,a=t.map(ma),r=t.map(xa),o=so.range(n).sort(function(t,e){return a[t]-a[e]}),s=0,l=0,h=[],u=[];for(e=0;n>e;++e)i=o[e],l>s?(s+=r[i],h.push(i)):(l+=r[i],u.push(i));return u.reverse().concat(h)},reverse:function(t){return so.range(t.length).reverse()},"default":fa}),_l=so.map({silhouette:function(t){var e,i,n,a=t.length,r=t[0].length,o=[],s=0,l=[];for(i=0;r>i;++i){for(e=0,n=0;a>e;e++)n+=t[e][i][1];n>s&&(s=n),o.push(n)}for(i=0;r>i;++i)l[i]=(s-o[i])/2;return l},wiggle:function(t){var e,i,n,a,r,o,s,l,h,u=t.length,c=t[0],d=c.length,p=[];for(p[0]=l=h=0,i=1;d>i;++i){for(e=0,a=0;u>e;++e)a+=t[e][i][1];for(e=0,r=0,s=c[i][0]-c[i-1][0];u>e;++e){for(n=0,o=(t[e][i][1]-t[e][i-1][1])/(2*s);e>n;++n)o+=(t[n][i][1]-t[n][i-1][1])/s;r+=o*t[e][i][1]}p[i]=l-=a?r/a*s:0,h>l&&(h=l)}for(i=0;d>i;++i)p[i]-=h;return p},expand:function(t){var e,i,n,a=t.length,r=t[0].length,o=1/a,s=[];for(i=0;r>i;++i){for(e=0,n=0;a>e;e++)n+=t[e][i][1];if(n)for(e=0;a>e;e++)t[e][i][1]/=n;else for(e=0;a>e;e++)t[e][i][1]=o}for(i=0;r>i;++i)s[i]=0;return s},zero:ga});so.layout.histogram=function(){function t(t,r){for(var o,s,l=[],h=t.map(i,this),u=n.call(this,h,r),c=a.call(this,u,h,r),r=-1,d=h.length,p=c.length-1,f=e?1:1/d;++r<p;)o=l[r]=[],o.dx=c[r+1]-(o.x=c[r]),o.y=0;if(p>0)for(r=-1;++r<d;)s=h[r],s>=u[0]&&s<=u[1]&&(o=l[so.bisect(c,s,1,p)-1],o.y+=f,o.push(t[r]));return l}var e=!0,i=Number,n=_a,a=ya;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(n=Ct(e),t):n},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return ba(t,e)}:Ct(e),t):a},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},so.layout.pack=function(){function t(t,r){var o=i.call(this,t,r),s=o[0],l=a[0],h=a[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,oa(s,function(t){t.r=+u(t.value)}),oa(s,Ca),n){var c=n*(e?1:Math.max(2*s.r/l,2*s.r/h))/2;oa(s,function(t){t.r+=c}),oa(s,Ca),oa(s,function(t){t.r-=c})}return Pa(s,l/2,h/2,e?1:1/Math.max(2*s.r/l,2*s.r/h)),o}var e,i=so.layout.hierarchy().sort(Ma),n=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},aa(t,i)},so.layout.tree=function(){function t(t,a){var u=o.call(this,t,a),c=u[0],d=e(c);if(oa(d,i),d.parent.m=-d.z,ra(d,n),h)ra(c,r);else{var p=c,f=c,g=c;ra(c,function(t){t.x<p.x&&(p=t),t.x>f.x&&(f=t),t.depth>g.depth&&(g=t)});var m=s(p,f)/2-p.x,x=l[0]/(f.x+s(f,p)/2+m),v=l[1]/(g.depth||1);ra(c,function(t){t.x=(t.x+m)*x,t.y=t.depth*v})}return u}function e(t){for(var e,i={A:null,children:[t]},n=[i];null!=(e=n.pop());)for(var a,r=e.children,o=0,s=r.length;s>o;++o)n.push((r[o]=a={_:r[o],parent:e,children:(a=r[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return i.children[0]}function i(t){var e=t.children,i=t.parent.children,n=t.i?i[t.i-1]:null;if(e.length){Ea(t);var r=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+s(t._,n._),t.m=t.z-r):t.z=r}else n&&(t.z=n.z+s(t._,n._));t.parent.A=a(t,n,t.parent.A||i[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,i){if(e){for(var n,a=t,r=t,o=e,l=a.parent.children[0],h=a.m,u=r.m,c=o.m,d=l.m;o=Ba(o),a=La(a),o&&a;)l=La(l),r=Ba(r),r.a=t,n=o.z+c-a.z-h+s(o._,a._),n>0&&(Ia(za(o,t,i),t,n),h+=n,u+=n),c+=o.m,h+=a.m,d+=l.m,u+=r.m;o&&!Ba(r)&&(r.t=o,r.m+=c-u),a&&!La(l)&&(l.t=a,l.m+=h-d,i=t)}return i}function r(t){t.x*=l[0],t.y=t.depth*l[1]}var o=so.layout.hierarchy().sort(null).value(null),s=Da,l=[1,1],h=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(h=null==(l=e)?r:null,t):h?null:l},t.nodeSize=function(e){return arguments.length?(h=null==(l=e)?null:r,t):h?l:null},aa(t,o)},so.layout.cluster=function(){function t(t,r){var o,s=e.call(this,t,r),l=s[0],h=0;oa(l,function(t){var e=t.children;e&&e.length?(t.x=Na(e),t.y=Wa(e)):(t.x=o?h+=i(t,o):0,t.y=0,o=t)});var u=Va(l),c=Ra(l),d=u.x-i(u,c)/2,p=c.x+i(c,u)/2;return oa(l,a?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}var e=so.layout.hierarchy().sort(null).value(null),i=Da,n=[1,1],a=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(a=null==(n=e),t):a?null:n},t.nodeSize=function(e){return arguments.length?(a=null!=(n=e),t):a?n:null},aa(t,e)},so.layout.treemap=function(){function t(t,e){for(var i,n,a=-1,r=t.length;++a<r;)n=(i=t[a]).value*(0>e?0:e),i.area=isNaN(n)||0>=n?0:n}function e(i){var r=i.children;if(r&&r.length){var o,s,l,h=c(i),u=[],d=r.slice(),f=1/0,g="slice"===p?h.dx:"dice"===p?h.dy:"slice-dice"===p?1&i.depth?h.dy:h.dx:Math.min(h.dx,h.dy);for(t(d,h.dx*h.dy/i.value),u.area=0;(l=d.length)>0;)u.push(o=d[l-1]),u.area+=o.area,"squarify"!==p||(s=n(u,g))<=f?(d.pop(),f=s):(u.area-=u.pop().area,a(u,g,h,!1),g=Math.min(h.dx,h.dy),u.length=u.area=0,f=1/0);u.length&&(a(u,g,h,!0),u.length=u.area=0),r.forEach(e)}}function i(e){var n=e.children;if(n&&n.length){var r,o=c(e),s=n.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;r=s.pop();)l.push(r),l.area+=r.area,null!=r.z&&(a(l,r.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);n.forEach(i)}}function n(t,e){for(var i,n=t.area,a=0,r=1/0,o=-1,s=t.length;++o<s;)(i=t[o].area)&&(r>i&&(r=i),i>a&&(a=i));return n*=n,e*=e,n?Math.max(e*a*f/n,n/(e*r*f)):1/0}function a(t,e,i,n){var a,r=-1,o=t.length,s=i.x,h=i.y,u=e?l(t.area/e):0;if(e==i.dx){for((n||u>i.dy)&&(u=i.dy);++r<o;)a=t[r],a.x=s,a.y=h,a.dy=u,s+=a.dx=Math.min(i.x+i.dx-s,u?l(a.area/u):0);a.z=!0,a.dx+=i.x+i.dx-s,i.y+=u,i.dy-=u}else{for((n||u>i.dx)&&(u=i.dx);++r<o;)a=t[r],a.x=s,a.y=h,a.dx=u,h+=a.dy=Math.min(i.y+i.dy-h,u?l(a.area/u):0);a.z=!1,a.dy+=i.y+i.dy-h,i.x+=u,i.dx-=u}}function r(n){var a=o||s(n),r=a[0];return r.x=r.y=0,r.value?(r.dx=h[0],r.dy=h[1]):r.dx=r.dy=0,o&&s.revalue(r),t([r],r.dx*r.dy/r.value),(o?i:e)(r),d&&(o=a),a}var o,s=so.layout.hierarchy(),l=Math.round,h=[1,1],u=null,c=ja,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(h=t,r):h},r.padding=function(t){function e(e){var i=t.call(r,e,e.depth);return null==i?ja(e):Oa(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return Oa(e,t)}if(!arguments.length)return u;var n;return c=null==(u=t)?ja:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],i):i,r},r.round=function(t){return arguments.length?(l=t?Math.round:Number,r):l!=Number},r.sticky=function(t){return arguments.length?(d=t,o=null,r):d},r.ratio=function(t){return arguments.length?(f=t,r):f},r.mode=function(t){return arguments.length?(p=t+"",r):p},aa(r,s)},so.random={normal:function(t,e){var i=arguments.length;return 2>i&&(e=1),1>i&&(t=0),function(){var i,n,a;do i=2*Math.random()-1,n=2*Math.random()-1,a=i*i+n*n;while(!a||a>1);return t+e*i*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;t>i;i++)e+=Math.random();return e}}},so.scale={};var Ml={floor:v,ceil:v};so.scale.linear=function(){return Ga([0,1],[0,1],yn,!1)};var wl={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return nr(so.scale.linear().domain([0,1]),10,!0,[1,10])};var Tl=so.format(".0e"),Sl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ar(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return or([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(Cl)},so.scale.category20=function(){return so.scale.ordinal().range(kl)},so.scale.category20b=function(){return so.scale.ordinal().range(Al)},so.scale.category20c=function(){return so.scale.ordinal().range(Pl)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Pl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);so.scale.quantile=function(){return sr([],[])},so.scale.quantize=function(){return lr(0,1,[0,1])},so.scale.threshold=function(){return hr([.5],[0,1])},so.scale.identity=function(){return ur([0,1])},so.svg={},so.svg.arc=function(){function t(){var t=Math.max(0,+i.apply(this,arguments)),h=Math.max(0,+n.apply(this,arguments)),u=o.apply(this,arguments)-Ro,c=s.apply(this,arguments)-Ro,d=Math.abs(c-u),p=u>c?0:1;if(t>h&&(f=h,h=t,t=f),d>=Vo)return e(h,p)+(t?e(t,1-p):"")+"Z";var f,g,m,x,v,y,b,_,M,w,T,S,C=0,k=0,A=[];if((x=(+l.apply(this,arguments)||0)/2)&&(m=r===Fl?Math.sqrt(t*t+h*h):+r.apply(this,arguments),p||(k*=-1),h&&(k=et(m/h*Math.sin(x))),t&&(C=et(m/t*Math.sin(x)))),h){v=h*Math.cos(u+k),y=h*Math.sin(u+k),b=h*Math.cos(c-k),_=h*Math.sin(c-k);var P=Math.abs(c-u-2*k)<=Wo?0:1;if(k&&xr(v,y,b,_)===p^P){var F=(u+c)/2;v=h*Math.cos(F),y=h*Math.sin(F),b=_=null}}else v=y=0;if(t){M=t*Math.cos(c-C),w=t*Math.sin(c-C),T=t*Math.cos(u+C),S=t*Math.sin(u+C);var D=Math.abs(u-c+2*C)<=Wo?0:1;if(C&&xr(M,w,T,S)===1-p^D){var L=(u+c)/2;M=t*Math.cos(L),w=t*Math.sin(L),T=S=null}}else M=w=0;if(d>Eo&&(f=Math.min(Math.abs(h-t)/2,+a.apply(this,arguments)))>.001){g=h>t^p?0:1;var B=f,I=f;if(Wo>d){var E=null==T?[M,w]:null==b?[v,y]:Bi([v,y],[T,S],[b,_],[M,w]),z=v-E[0],W=y-E[1],N=b-E[0],V=_-E[1],R=1/Math.sin(Math.acos((z*N+W*V)/(Math.sqrt(z*z+W*W)*Math.sqrt(N*N+V*V)))/2),j=Math.sqrt(E[0]*E[0]+E[1]*E[1]);I=Math.min(f,(t-j)/(R-1)),B=Math.min(f,(h-j)/(R+1))}if(null!=b){var O=vr(null==T?[M,w]:[T,S],[v,y],h,B,p),H=vr([b,_],[M,w],h,B,p);f===B?A.push("M",O[0],"A",B,",",B," 0 0,",g," ",O[1],"A",h,",",h," 0 ",1-p^xr(O[1][0],O[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",B,",",B," 0 0,",g," ",H[0]):A.push("M",O[0],"A",B,",",B," 0 1,",g," ",H[0])}else A.push("M",v,",",y);if(null!=T){var X=vr([v,y],[T,S],t,-I,p),Y=vr([M,w],null==b?[v,y]:[b,_],t,-I,p);f===I?A.push("L",Y[0],"A",I,",",I," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",p^xr(Y[1][0],Y[1][1],X[1][0],X[1][1]),",",1-p," ",X[1],"A",I,",",I," 0 0,",g," ",X[0]):A.push("L",Y[0],"A",I,",",I," 0 0,",g," ",X[0])}else A.push("L",M,",",w)}else A.push("M",v,",",y),null!=b&&A.push("A",h,",",h," 0 ",P,",",p," ",b,",",_),A.push("L",M,",",w),null!=T&&A.push("A",t,",",t," 0 ",D,",",1-p," ",T,",",S);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var i=dr,n=pr,a=cr,r=Fl,o=fr,s=gr,l=mr;return t.innerRadius=function(e){return arguments.length?(i=Ct(e),t):i},t.outerRadius=function(e){return arguments.length?(n=Ct(e),t):n},t.cornerRadius=function(e){return arguments.length?(a=Ct(e),t):a},t.padRadius=function(e){return arguments.length?(r=e==Fl?Fl:Ct(e),t):r},t.startAngle=function(e){return arguments.length?(o=Ct(e),t):o},t.endAngle=function(e){return arguments.length?(s=Ct(e),t):s},t.padAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.centroid=function(){var t=(+i.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Ro;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Fl="auto";so.svg.line=function(){return yr(v)};var Dl=so.map({linear:br,"linear-closed":_r,step:Mr,"step-before":wr,"step-after":Tr,basis:Fr,"basis-open":Dr,"basis-closed":Lr,bundle:Br,cardinal:kr,"cardinal-open":Sr,"cardinal-closed":Cr,monotone:Vr});Dl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ll=[0,2/3,1/3,0],Bl=[0,1/3,2/3,0],Il=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=yr(Rr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},wr.reverse=Tr,Tr.reverse=wr,so.svg.area=function(){return jr(v)},so.svg.area.radial=function(){var t=jr(Rr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function t(t,s){var l=e(this,r,t,s),h=e(this,o,t,s);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,h)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,h.r,h.p0)+n(h.r,h.p1,h.a1-h.a0)+a(h.r,h.p1,l.r,l.p0))+"Z"}function e(t,e,i,n){var a=e.call(t,i,n),r=s.call(t,a,n),o=l.call(t,a,n)-Ro,u=h.call(t,a,n)-Ro;return{r:r,a0:o,a1:u,p0:[r*Math.cos(o),r*Math.sin(o)],p1:[r*Math.cos(u),r*Math.sin(u)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,i){return"A"+t+","+t+" 0 "+ +(i>Wo)+",1 "+e}function a(t,e,i,n){return"Q 0,0 "+n}var r=vi,o=yi,s=Or,l=fr,h=gr;return t.radius=function(e){return arguments.length?(s=Ct(e),t):s},t.source=function(e){return arguments.length?(r=Ct(e),t):r},t.target=function(e){return arguments.length?(o=Ct(e),t):o},t.startAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.endAngle=function(e){return arguments.length?(h=Ct(e),t):h},t},so.svg.diagonal=function(){function t(t,a){var r=e.call(this,t,a),o=i.call(this,t,a),s=(r.y+o.y)/2,l=[r,{x:r.x,y:s},{x:o.x,y:s},o];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=vi,i=yi,n=Hr;return t.source=function(i){return arguments.length?(e=Ct(i),t):e},t.target=function(e){return arguments.length?(i=Ct(e),t):i},t.projection=function(e){return arguments.length?(n=e,t):n},t},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=Hr,i=t.projection;return t.projection=function(t){return arguments.length?i(Xr(e=t)):e},t},so.svg.symbol=function(){function t(t,n){return(El.get(e.call(this,t,n))||Ur)(i.call(this,t,n))}var e=qr,i=Yr;return t.type=function(i){return arguments.length?(e=Ct(i),t):e},t.size=function(e){return arguments.length?(i=Ct(e),t):i},t};var El=so.map({circle:Ur,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Wl)),i=e*Wl;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/zl),i=e*zl/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/zl),i=e*zl/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});so.svg.symbolTypes=El.keys();var zl=Math.sqrt(3),Wl=Math.tan(30*jo);ko.transition=function(t){for(var e,i,n=Nl||++Ol,a=Zr(t),r=[],o=Vl||{time:Date.now(),ease:Cn,delay:0,duration:250},s=-1,l=this.length;++s<l;){r.push(e=[]);for(var h=this[s],u=-1,c=h.length;++u<c;)(i=h[u])&&Qr(i,u,a,n,o),e.push(i)}return Gr(r,a,n)},ko.interrupt=function(t){return this.each(null==t?Rl:$r(Zr(t)))};var Nl,Vl,Rl=$r(Zr()),jl=[],Ol=0;jl.call=ko.call,jl.empty=ko.empty,jl.node=ko.node,jl.size=ko.size,so.transition=function(t,e){return t&&t.transition?Nl?t.transition(e):t:so.selection().transition(t)},so.transition.prototype=jl,jl.select=function(t){var e,i,n,a=this.id,r=this.namespace,o=[];t=A(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var h=this[s],u=-1,c=h.length;++u<c;)(n=h[u])&&(i=t.call(n,n.__data__,u,s))?("__data__"in n&&(i.__data__=n.__data__),Qr(i,u,r,a,n[r][a]),e.push(i)):e.push(null)}return Gr(o,r,a)},jl.selectAll=function(t){var e,i,n,a,r,o=this.id,s=this.namespace,l=[];t=P(t);for(var h=-1,u=this.length;++h<u;)for(var c=this[h],d=-1,p=c.length;++d<p;)if(n=c[d]){r=n[s][o],i=t.call(n,n.__data__,d,h),l.push(e=[]);for(var f=-1,g=i.length;++f<g;)(a=i[f])&&Qr(a,f,s,o,r),e.push(a)}return Gr(l,s,o)},jl.filter=function(t){var e,i,n,a=[];"function"!=typeof t&&(t=j(t));for(var r=0,o=this.length;o>r;r++){a.push(e=[]);for(var i=this[r],s=0,l=i.length;l>s;s++)(n=i[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Gr(a,this.namespace,this.id)},jl.tween=function(t,e){var i=this.id,n=this.namespace;return arguments.length<2?this.node()[n][i].tween.get(t):H(this,null==e?function(e){e[n][i].tween.remove(t)}:function(a){a[n][i].tween.set(t,e)})},jl.attr=function(t,e){function i(){this.removeAttribute(s)}function n(){this.removeAttributeNS(s.space,s.local)}function a(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(s);return i!==t&&(e=o(i,t),function(t){this.setAttribute(s,e(t))})})}function r(t){return null==t?n:(t+="",function(){var e,i=this.getAttributeNS(s.space,s.local);return i!==t&&(e=o(i,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Un:yn,s=so.ns.qualify(t);return Jr(this,"attr."+t,e,s.local?r:a)},jl.attrTween=function(t,e){function i(t,i){var n=e.call(this,t,i,this.getAttribute(a));return n&&function(t){this.setAttribute(a,n(t))}}function n(t,i){var n=e.call(this,t,i,this.getAttributeNS(a.space,a.local));return n&&function(t){this.setAttributeNS(a.space,a.local,n(t))}}var a=so.ns.qualify(t);return this.tween("attr."+t,a.local?n:i)},jl.style=function(t,i,n){function a(){this.style.removeProperty(t)}function r(i){return null==i?a:(i+="",function(){var a,r=e(this).getComputedStyle(this,null).getPropertyValue(t);return r!==i&&(a=yn(r,i),function(e){this.style.setProperty(t,a(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(i="");for(n in t)this.style(n,t[n],i);return this}n=""}return Jr(this,"style."+t,i,r)},jl.styleTween=function(t,i,n){function a(a,r){var o=i.call(this,a,r,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,a)},jl.text=function(t){return Jr(this,"text",t,Kr)},jl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},jl.ease=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].ease:("function"!=typeof t&&(t=so.ease.apply(so,arguments)),H(this,function(n){n[i][e].ease=t}))},jl.delay=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].delay:H(this,"function"==typeof t?function(n,a,r){n[i][e].delay=+t.call(n,n.__data__,a,r)}:(t=+t,function(n){n[i][e].delay=t}))},jl.duration=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].duration:H(this,"function"==typeof t?function(n,a,r){n[i][e].duration=Math.max(1,t.call(n,n.__data__,a,r))}:(t=Math.max(1,t),function(n){n[i][e].duration=t}))},jl.each=function(t,e){var i=this.id,n=this.namespace;if(arguments.length<2){var a=Vl,r=Nl;try{Nl=i,H(this,function(e,a,r){Vl=e[n][i],t.call(e,e.__data__,a,r)})}finally{Vl=a,Nl=r}}else H(this,function(a){var r=a[n][i];(r.event||(r.event=so.dispatch("start","end","interrupt"))).on(t,e)});return this},jl.transition=function(){for(var t,e,i,n,a=this.id,r=++Ol,o=this.namespace,s=[],l=0,h=this.length;h>l;l++){s.push(t=[]);for(var e=this[l],u=0,c=e.length;c>u;u++)(i=e[u])&&(n=i[o][a],Qr(i,u,o,r,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),t.push(i)}return Gr(s,o,r)},so.svg.axis=function(){function t(t){t.each(function(){var t,h=so.select(this),u=this.__chart__||i,c=this.__chart__=i.copy(),d=null==l?c.ticks?c.ticks.apply(c,s):c.domain():l,p=null==e?c.tickFormat?c.tickFormat.apply(c,s):v:e,f=h.selectAll(".tick").data(d,c),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Eo),m=so.transition(f.exit()).style("opacity",Eo).remove(),x=so.transition(f.order()).style("opacity",1),y=Math.max(a,0)+o,b=Xa(c),_=h.selectAll(".domain").data([0]),M=(_.enter().append("path").attr("class","domain"),so.transition(_));g.append("line"),g.append("text");var w,T,S,C,k=g.select("line"),A=x.select("line"),P=f.select("text").text(p),F=g.select("text"),D=x.select("text"),L="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(t=to,w="x",S="y",T="x2",C="y2",P.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),M.attr("d","M"+b[0]+","+L*r+"V0H"+b[1]+"V"+L*r)):(t=eo,w="y",S="x",T="y2",C="x2",P.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),M.attr("d","M"+L*r+","+b[0]+"H0V"+b[1]+"H"+L*r)),k.attr(C,L*a),F.attr(S,L*y),A.attr(T,0).attr(C,L*a),D.attr(w,0).attr(S,L*y),c.rangeBand){var B=c,I=B.rangeBand()/2;u=c=function(t){return B(t)+I}}else u.rangeBand?u=c:m.call(t,c,u);g.call(t,u,c),x.call(t,c,c)})}var e,i=so.scale.linear(),n=Hl,a=6,r=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(n=e in Xl?e+"":Hl,t):n},t.ticks=function(){return arguments.length?(s=ho(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(a=+e,r=+arguments[i-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Hl="bottom",Xl={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function t(e){e.each(function(){var e=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),
e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,v);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Yl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,c=so.transition(e),d=so.transition(o);h&&(l=Xa(h),d.attr("x",l[0]).attr("width",l[1]-l[0]),n(c)),u&&(l=Xa(u),d.attr("y",l[0]).attr("height",l[1]-l[0]),a(c)),i(c)})}function i(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function a(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==so.event.keyCode&&(P||(y=null,D[0]-=c[1],D[1]-=d[1],P=2),T())}function g(){32==so.event.keyCode&&2==P&&(D[0]+=c[1],D[1]+=d[1],P=0,T())}function m(){var t=so.mouse(_),e=!1;b&&(t[0]+=b[0],t[1]+=b[1]),P||(so.event.altKey?(y||(y=[(c[0]+c[1])/2,(d[0]+d[1])/2]),D[0]=c[+(t[0]<y[0])],D[1]=d[+(t[1]<y[1])]):y=null),k&&x(t,h,0)&&(n(S),e=!0),A&&x(t,u,1)&&(a(S),e=!0),e&&(i(S),w({type:"brush",mode:P?"move":"resize"}))}function x(t,e,i){var n,a,r=Xa(e),l=r[0],h=r[1],u=D[i],g=i?d:c,m=g[1]-g[0];return P&&(l-=u,h-=m+u),n=(i?f:p)?Math.max(l,Math.min(h,t[i])):t[i],P?a=(n+=u)+m:(y&&(u=Math.max(l,Math.min(h,2*y[i]-n))),n>u?(a=n,n=u):a=u),g[0]!=n||g[1]!=a?(i?s=null:o=null,g[0]=n,g[1]=a,!0):void 0}function v(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),so.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),F(),w({type:"brushend"})}var y,b,_=this,M=so.select(so.event.target),w=l.of(_,arguments),S=so.select(_),C=M.datum(),k=!/^(n|s)$/.test(C)&&h,A=!/^(e|w)$/.test(C)&&u,P=M.classed("extent"),F=G(_),D=so.mouse(_),L=so.select(e(_)).on("keydown.brush",r).on("keyup.brush",g);if(so.event.changedTouches?L.on("touchmove.brush",m).on("touchend.brush",v):L.on("mousemove.brush",m).on("mouseup.brush",v),S.interrupt().selectAll("*").interrupt(),P)D[0]=c[0]-D[0],D[1]=d[0]-D[1];else if(C){var B=+/w$/.test(C),I=+/^n/.test(C);b=[c[1-B]-D[0],d[1-I]-D[1]],D[0]=c[B],D[1]=d[I]}else so.event.altKey&&(y=D.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",M.style("cursor")),w({type:"brushstart"}),m()}var o,s,l=C(t,"brushstart","brush","brushend"),h=null,u=null,c=[0,0],d=[0,0],p=!0,f=!0,g=ql[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:c,y:d,i:o,j:s},i=this.__chart__||e;this.__chart__=e,Nl?so.select(this).transition().each("start.brush",function(){o=i.i,s=i.j,c=i.x,d=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=bn(c,e.x),n=bn(d,e.y);return o=s=null,function(a){c=e.x=i(a),d=e.y=n(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(h=e,g=ql[!h<<1|!u],t):h},t.y=function(e){return arguments.length?(u=e,g=ql[!h<<1|!u],t):u},t.clamp=function(e){return arguments.length?(h&&u?(p=!!e[0],f=!!e[1]):h?p=!!e:u&&(f=!!e),t):h&&u?[p,f]:h?p:u?f:null},t.extent=function(e){var i,n,a,r,l;return arguments.length?(h&&(i=e[0],n=e[1],u&&(i=i[0],n=n[0]),o=[i,n],h.invert&&(i=h(i),n=h(n)),i>n&&(l=i,i=n,n=l),i==c[0]&&n==c[1]||(c=[i,n])),u&&(a=e[0],r=e[1],h&&(a=a[1],r=r[1]),s=[a,r],u.invert&&(a=u(a),r=u(r)),a>r&&(l=a,a=r,r=l),a==d[0]&&r==d[1]||(d=[a,r])),t):(h&&(o?(i=o[0],n=o[1]):(i=c[0],n=c[1],h.invert&&(i=h.invert(i),n=h.invert(n)),i>n&&(l=i,i=n,n=l))),u&&(s?(a=s[0],r=s[1]):(a=d[0],r=d[1],u.invert&&(a=u.invert(a),r=u.invert(r)),a>r&&(l=a,a=r,r=l))),h&&u?[[i,a],[n,r]]:h?[i,n]:u&&[a,r])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],o=s=null),t},t.empty=function(){return!!h&&c[0]==c[1]||!!u&&d[0]==d[1]},so.rebind(t,l,"on")};var Yl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ql=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=ds.format=vs.timeFormat,$l=Ul.utc,Gl=$l("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?io:Gl,io.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},io.toString=Gl.toString,ds.second=Rt(function(t){return new ps(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=Rt(function(t){return new ps(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=Rt(function(t){var e=t.getTimezoneOffset()/60;return new ps(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=Rt(function(t){return t=ds.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Zl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Pe]]),Ql={range:function(t,e,i){return so.range(Math.ceil(t/i)*i,+e,i).map(ao)},floor:v,ceil:v};Kl.year=ds.year,ds.scale=function(){return no(so.scale.linear(),Kl,Zl)};var th=Kl.map(function(t){return[t[0].utc,t[1]]}),eh=$l.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Pe]]);th.year=ds.year.utc,ds.scale.utc=function(){return no(so.scale.linear(),th,eh)},so.text=kt(function(t){return t.responseText}),so.json=function(t,e){return At(t,"application/json",ro,e)},so.html=function(t,e){return At(t,"text/html",oo,e)},so.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),function(){}.call(this),!function(t,e){"use strict";if("object"==typeof exports)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(i){return t.dimple=e(i),t.dimple});else if(t.d3)t.dimple=e(t.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(t){"use strict";var e={version:"2.2.0",plot:{},aggregateMethod:{}};return e.axis=function(i,n,a,r,o,s){this.chart=i,this.position=n,this.categoryFields=null===o||void 0===o?a:[].concat(o),this.measure=r,this.timeField=o,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null===s||void 0===s||s,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,i=[],n=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)e=this.chart.series[t],e[this.position]===this&&(e.data&&e.data.length>0?i=i.concat(e.data):n=!0);n&&this.chart.data&&(i=i.concat(this.chart.data))}return i},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,i,n,a,r,o,s;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.time.format(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format("%"):this.useLog&&null!==this.measure?e=function(e){var i=Math.floor(Math.abs(e),0).toString().length,n=Math.min(Math.floor((i-1)/3),4),a="kmBT".substring(n-1,n),r="0"===Math.round(e/Math.pow(1e3,n)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+r+"f")(e/Math.pow(1e3,n))+a}:null!==this.measure?(i=Math.floor(Math.abs(this._max),0).toString(),n=Math.floor(Math.abs(this._min),0).toString(),a=Math.max(n.length,i.length),a>3?(r=Math.min(Math.floor((a-1)/3),4),o="kmBT".substring(r-1,r),s=1>=a-3*r?1:0,e=function(e){return 0===e?0:t.format(",."+s+"f")(e/Math.pow(1e3,r))+o}):(s=-Math.floor(Math.log(this._tick_step)/Math.LN10),e=t.format(",."+s+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,i=30,n=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=i>=n/1e3?t.time.seconds:i>=n/6e4?t.time.minutes:i>=n/36e5?t.time.hours:i>=n/864e5?t.time.days:i>=n/6048e5?t.time.weeks:i>=n/26298e5?t.time.months:t.time.years),e},this._getTooltipText=function(e,i){if(this._hasTimeField())i[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(i[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,n){null!==t&&void 0!==t&&i[this.position+"Field"][n]&&e.push(t+(i[this.position+"Field"][n]!==t?": "+i[this.position+"Field"][n]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(i.width));break;case"y":e.push(this.measure+": "+this._getFormat()(i.height));break;case"p":e.push(this.measure+": "+this._getFormat()(i.angle)+" ("+t.format("%")(i.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(i[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){var i;return i=null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.time.format(this.dateParseFormat).parse(e)},this._update=function(i){var n,a,r,o,s=[],l=this.ticks||10,h=function(t,i,n){var a,r,o=t.categoryFields[0],s=t._getAxisData(),l=o,h=!1,u=!0,c=null;for(a=0;a<s.length;a+=1)if(c=t._parseDate(s[a][o]),null!==c&&void 0!==c&&isNaN(c)){u=!1;break}return u||t.chart.series.forEach(function(e){e[i]===t&&e[n]._hasMeasure()&&(l=e[n].measure,h=!0)},this),r=t._orderRules.concat({ordering:l,desc:h}),e._getOrderedList(s,o,r)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!i){if("y"!==this.position||null!==this._scale&&!i)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scale.linear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=h(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(h(t,"y","x"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.svg.axis().orient("left").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("right").scale(this._scale),this.ticks&&this._draw.ticks(l)}}else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=h(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(h(t,"x","y"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.svg.axis().orient("bottom").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("top").scale(this._scale),this.ticks&&this._draw.ticks(l)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!==i&&void 0!==i&&i!==!1||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(l).length>0)||"x"!==this.position&&"y"!==this.position||(n=this._scale.ticks(l),a=n[1]-n[0],r=((this._max-this._min)%a).toFixed(0),this._tick_step=a,0!==r&&(this._max=Math.ceil(this._max/a)*a,this._min=Math.floor(this._min/a)*a,this._update(!0))),o=null!==s&&void 0!==s&&s.length>0?this._scale.copy()(s[0]):this._min>0?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==o&&(this._previousOrigin=null===this._origin?o:this._origin,this._origin=o),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},e.chart=function(i,n){this.svg=i,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=n,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease="cubic-in-out",this.staggerDraw=!1,this._group=i.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var i=0,n=0,a=-1;for(i=0;i<this.axes.length;i+=1){if(this.axes[i]===t){a=n;break}(null===e||void 0===e||e[0]===this.axes[i].position[0])&&(n+=1)}return a},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach(function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))}),t},this._getData=function(i,n,a,r,o,s,l,h,u,c){var d,p,f=[],g=function(t,e){var i=[];return null!==t&&(t._hasTimeField()?i.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){i.push(e[t])},this)),i},m={x:!1,y:!1,z:!1,p:!1,c:!1},x={x:[],y:[]},v={x:[],y:[],z:[],p:[]},y={min:null,max:null},b={x:[],y:[],z:[],p:[]},_=[],M={},w={x:0,y:0,z:0,p:0},T="",S=[],C=[],k=[],A="",P=[],F="",D=[],L="",B=[],I=[],E=i,z=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(T=this.storyboard.categoryFields[0],S=e._getOrderedList(E,T,this.storyboard._orderRules)),s&&s._hasCategories()&&s._hasMeasure()&&(A=s.categoryFields[0],P=e._getOrderedList(E,A,s._orderRules.concat([{ordering:s.measure,desc:!0}]))),l&&l._hasCategories()&&l._hasMeasure()&&(F=l.categoryFields[0],D=e._getOrderedList(E,F,l._orderRules.concat([{ordering:l.measure,desc:!0}]))),u&&u._hasCategories()&&u._hasMeasure()&&(L=u.categoryFields[0],B=e._getOrderedList(E,L,u._orderRules.concat([{ordering:u.measure,desc:!0}]))),E.length>0&&n&&n.length>0&&(I=[].concat(r),C=[],n.forEach(function(t){void 0!==E[0][t]&&C.push(t)},this),u&&u._hasMeasure()?I.push({ordering:u.measure,desc:!0}):c&&c._hasMeasure()?I.push({ordering:c.measure,desc:!0}):h&&h._hasMeasure()?I.push({ordering:h.measure,desc:!0}):s&&s._hasMeasure()?I.push({ordering:s.measure,desc:!0}):l&&l._hasMeasure()&&I.push({ordering:l.measure,desc:!0}),k=e._getOrderedList(E,C,I)),E.sort(function(t,e){var i,n,a,r,o,s,l=0;if(""!==T&&(l=S.indexOf(t[T])-S.indexOf(e[T])),""!==A&&0===l&&(l=P.indexOf(t[A])-P.indexOf(e[A])),""!==F&&0===l&&(l=D.indexOf(t[F])-D.indexOf(e[F])),""!==L&&0===l&&(l=B.indexOf(t[L])-D.indexOf(e[L])),C&&C.length>0&&0===l)for(i=[].concat(C),l=0,a=0;a<k.length;a+=1){for(n=[].concat(k[a]),o=!0,s=!0,r=0;r<i.length;r+=1)o=o&&t[i[r]]===n[r],s=s&&e[i[r]]===n[r];if(o&&s){l=0;break}if(o){l=-1;break}if(s){l=1;break}}return l}),E.forEach(function(t){var e,i,r,o,d,p=-1,x=g(s,t),v=g(l,t),y=g(h,t),b=g(u,t),_=[];if(n&&0!==n.length)for(r=0;r<n.length;r+=1)void 0===t[n[r]]?_.push(n[r]):_.push(t[n[r]]);else _=["All"];for(e=_.join("/")+"_"+x.join("/")+"_"+v.join("/")+"_"+b.join("/")+"_"+y.join("/"),i=0;i<f.length;i+=1)if(f[i].key===e){p=i;break}-1===p&&(o={key:e,aggField:_,xField:x,xValue:null,xCount:0,yField:v,yValue:null,yCount:0,pField:b,pValue:null,pCount:0,zField:y,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},f.push(o),p=f.length-1),d=function(e,i){var n,r,o=!0,s={value:0,count:1},l={value:0,count:1},h="";null!==i&&(n=i.getFrameValue(),i.categoryFields.forEach(function(e,i){i>0&&(h+="/"),h+=t[e],o=h===n},this)),null!==e&&void 0!==e&&o&&(r=f[p],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===r[e.position+"ValueList"].indexOf(t[e.measure])&&r[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),s.value=r[e.position+"Value"],s.count=r[e.position+"Count"],l.value=t[e.measure],r[e.position+"Value"]=a(s,l),r[e.position+"Count"]+=1))},d(s,this.storyboard),d(l,this.storyboard),d(h,this.storyboard),d(u,this.storyboard),d(c,this.storyboard)},this),s&&s._hasCategories()&&s.categoryFields.length>1&&void 0!==x.x&&(z=[],l._hasMeasure()&&z.push({ordering:l.measure,desc:!0}),x.x=e._getOrderedList(E,s.categoryFields[1],s._groupOrderRules.concat(z))),l&&l._hasCategories()&&l.categoryFields.length>1&&void 0!==x.y&&(z=[],s._hasMeasure()&&z.push({ordering:s.measure,desc:!0}),x.y=e._getOrderedList(E,l.categoryFields[1],l._groupOrderRules.concat(z)),x.y.reverse()),f.forEach(function(t){null!==s&&(m.x===!0&&(t.xValue=t.xValueList.length),d=s._hasMeasure()&&s._hasCategories()?(v.x[t.xField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0):(v.x[t.xField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0),v.x[t.xField.join("/")]=d),null!==l&&(m.y===!0&&(t.yValue=t.yValueList.length),d=l._hasMeasure()&&l._hasCategories()?(v.y[t.yField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0):(v.y[t.yField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0),v.y[t.yField.join("/")]=d),null!==u&&(m.p===!0&&(t.pValue=t.pValueList.length),d=(v.p[t.pField.join("/")]||0)+(u._hasMeasure()?Math.abs(t.pValue):0),v.p[t.pField.join("/")]=d),null!==h&&(m.z===!0&&(t.zValue=t.zValueList.length),d=(v.z[t.zField.join("/")]||0)+(h._hasMeasure()?Math.abs(t.zValue):0),v.z[t.zField.join("/")]=d),null!==c&&((null===y.min||t.cValue<y.min)&&(y.min=t.cValue),(null===y.max||t.cValue>y.max)&&(y.max=t.cValue))},this);for(p in v.x)v.x.hasOwnProperty(p)&&(w.x+=v.x[p]);for(p in v.y)v.y.hasOwnProperty(p)&&(w.y+=v.y[p]);for(p in v.p)v.p.hasOwnProperty(p)&&(w.p+=v.p[p]);for(p in v.z)v.z.hasOwnProperty(p)&&(w.z+=v.z[p]);return f.forEach(function(e){var i,n,a,r,d,p=function(t,i,n){var a,r,s,l,h;null!==t&&void 0!==t&&(l=t.position,t._hasCategories()?t._hasMeasure()?(a=e[t.position+"Field"].join("/"),r=t.showPercent?v[t.position][a]/w[t.position]:v[t.position][a],-1===_.indexOf(a)&&(M[a]=r+(_.length>0?M[_[_.length-1]]:0),_.push(a)),s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!o?r:M[a],e[n]=r,e[l]=s-("x"===l&&r>=0||"y"===l&&0>=r?r:0)):(e[l]=e["c"+l]=e[l+"Field"][0],e[n]=1,void 0!==x[l]&&null!==x[l]&&x[l].length>=2&&(e[l+"Offset"]=x[l].indexOf(e[l+"Field"][1]),e[n]=1/x[l].length)):(r=t.showPercent?e[l+"Value"]/v[i][e[i+"Field"].join("/")]:e[l+"Value"],a=e[i+"Field"].join("/")+(e[l+"Value"]>=0),h=b[l][a]=(null===b[l][a]||void 0===b[l][a]||"z"===l||"p"===l?0:b[l][a])+r,s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!o?r:h,e[n]=r,e[l]=s-("x"===l&&r>=0||"y"===l&&0>=r?r:0)))};p(s,"y","width"),p(l,"x","height"),p(h,"z","r"),p(u,"p","angle"),null!==c&&null!==y.min&&null!==y.max&&(y.min===y.max&&(y.min-=.5,y.max+=.5),y.min=c.overrideMin||y.min,y.max=c.overrideMax||y.max,e.cValue=e.cValue>y.max?y.max:e.cValue<y.min?y.min:e.cValue,a=t.scale.linear().range([0,null===c.colors||1===c.colors.length?1:c.colors.length-1]).domain([y.min,y.max]),r=a(e.cValue),d=r-Math.floor(r),e.cValue===y.max&&(d=1),c.colors&&1===c.colors.length?(i=t.rgb(c.colors[0]),n=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):c.colors&&c.colors.length>1?(i=t.rgb(c.colors[Math.floor(r)]),n=t.rgb(c.colors[Math.ceil(r)])):(i=t.rgb("white"),n=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),i.r=Math.floor(i.r+(n.r-i.r)*d),i.g=Math.floor(i.g+(n.g-i.g)*d),i.b=Math.floor(i.b+(n.b-i.b)*d),e.fill=i.toString(),e.stroke=i.darker(.5).toString())},this),f},this._getDelay=function(t,i,n){return function(a){var r=0;return n&&i.staggerDraw&&(n.x._hasCategories()?r=e._helpers.cx(a,i,n)/i._widthPixels()*t:n.y._hasCategories()&&(r=(1-e._helpers.cy(a,i,n)/i._heightPixels())*t)),r}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,i,n,a,r,o,s=t.data||this.data||[],l=[].concat(t.categoryFields||"All"),h=this._getData(s,l,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),u=[],c={},d=t.startAngle*(Math.PI/180)||0,p=(t.endAngle||360)*(Math.PI/180);if(d>p&&(d-=2*Math.PI),t.p&&l.length>0){if(t.x&&t.y){for(l.pop(),u=this._getData(s,["__dimple_placeholder__"].concat(l),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<h.length;e+=1)for(n=["__dimple_placeholder__"].concat(h[e].aggField),n.pop(),t.x&&t.x._hasCategories()&&(n=n.concat(h[e].xField)),t.y&&t.y._hasCategories()&&(n=n.concat(h[e].yField)),a=n.join("|"),i=0;i<u.length;i+=1)if(r=[].concat(u[i].aggField),t.x&&t.x._hasCategories()&&(r=r.concat(u[i].xField)),t.y&&t.y._hasCategories()&&(r=r.concat(u[i].yField)),o=r.join("|"),a===o){h[e].xField=u[i].xField,h[e].xValue=u[i].xValue,h[e].xCount=u[i].xCount,h[e].yField=u[i].yField,h[e].yValue=u[i].yValue,h[e].yCount=u[i].yCount,h[e].zField=u[i].zField,h[e].zValue=u[i].zValue,h[e].zCount=u[i].zCount,h[e].x=u[i].x,h[e].y=u[i].y,h[e].r=u[i].r,h[e].xOffset=u[i].xOffset,h[e].yOffset=u[i].yOffset,h[e].width=u[i].width,h[e].height=u[i].height,h[e].cx=u[i].cx,h[e].cy=u[i].cy,h[e].xBound=u[i].xBound,h[e].yBound=u[i].yBound,h[e].xValueList=u[i].xValueList,h[e].yValueList=u[i].yValueList,h[e].zValueList=u[i].zValueList,h[e].cValueList=u[i].cValueList,h[e].pieKey=u[i].key,h[e].value=h.pValue,c[u[i].key]||(c[u[i].key]={total:0,angle:d}),c[u[i].key].total+=h[e].pValue;break}}else for(e=0;e<h.length;e+=1)h[e].pieKey="All",h[e].value=h.pValue,c[h[e].pieKey]||(c[h[e].pieKey]={total:0,angle:d}),c[h[e].pieKey].total+=h[e].pValue;for(e=0;e<h.length;e+=1)0===c[h[e].pieKey].total?h[e].piePct=0:h[e].piePct=h[e].pValue/c[h[e].pieKey].total,h[e].startAngle=c[h[e].pieKey].angle,h[e].endAngle=h[e].startAngle+h[e].piePct*(p-d),c[h[e].pieKey].angle=h[e].endAngle}t._positionData=h},this)},this._handleTransition=function(t,e,i,n){var a=null;return a=0===e?t:t.transition().duration(e).delay(i._getDelay(e,i,n)).ease(i.ease)},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(i){null!==i._eventHandlers&&i._eventHandlers.length>0&&i._eventHandlers.forEach(function(n){var a,r=function(a){var r=new e.eventArgs;null!==i.chart.storyboard&&(r.frameValue=i.chart.storyboard.getFrameValue()),r.seriesValue=a.aggField,r.xValue=a.x,r.yValue=a.y,r.zValue=a.z,r.pValue=a.p,r.colorValue=a.cValue,r.seriesShapes=i.shapes,r.selectedShape=t.select(this),n.handler(r)};if(null!==n.handler&&"function"==typeof n.handler)if(null!==i._markers&&void 0!==i._markers)for(a in i._markers)i._markers.hasOwnProperty(a)&&i._markers[a].on(n.event,r);else i.shapes.on(n.event,r)},this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,i,n,a){var r=null,o=null;if(null!==i&&void 0!==i&&(i=[].concat(i)),"string"==typeof t||t instanceof String)r=new e.axis(this,t,i,n,a),this.axes.push(r);else{if(o=t,r=new e.axis(this,o.position,i,n,a),r._hasMeasure()!==o._hasMeasure())throw"You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.";if(r._hasTimeField()!==o._hasTimeField())throw"You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.";if((null===r.categoryFields||void 0===r.categoryFields?0:r.categoryFields.length)!==(null===o.categoryFields||void 0===o.categoryFields?0:o.categoryFields.length))throw"You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type.";o._slaves.push(r)}return r},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var i=this.addAxis("c",null,t);return i.colors=null===e||void 0===e?null:[].concat(e),i},this.addLegend=function(t,i,n,a,r,o){o=null===o||void 0===o?this.series:[].concat(o),r=null===r||void 0===r?"left":r;var s=new e.legend(this,t,i,n,a,r,o);return this.legends.push(s),s},this.addLogAxis=function(t,e,i){var n=this.addAxis(t,null,e,null);return null!==i&&void 0!==i&&(n.logBase=i),n.useLog=!0,n},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,i){var n=null;return n=null!==i&&void 0!==i?this.addAxis(t,i,e):this.addMeasureAxis(t,e),n.showPercent=!0,n},this.addSeries=function(t,i,n){(null===n||void 0===n)&&(n=this.axes),(null===i||void 0===i)&&(i=e.plot.bubble);var a,r=null,o=null,s=null,l=null,h=null;return n.forEach(function(t){null!==t&&i.supportedAxes.indexOf(t.position)>-1&&(null===r&&"x"===t.position[0]?r=t:null===o&&"y"===t.position[0]?o=t:null===s&&"z"===t.position[0]?s=t:null===l&&"c"===t.position[0]?l=t:null===l&&"p"===t.position[0]&&(h=t))},this),t&&(t=[].concat(t)),a=new e.series(this,t,r,o,s,l,h,i,e.aggregateMethod.sum,i.stacked),this.series.push(a),a},this.addTimeAxis=function(t,e,i,n){var a=this.addAxis(t,null,null,e);return a.tickFormat=n,a.dateParseFormat=i,a},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,i,n,a){return this._assignedColors[t]=new e.color(i,n,a),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,i){e=e||0;var n,a,r=null,o=null,s=!1,l=!1,h=this._xPixels(),u=this._yPixels(),c=this._widthPixels(),d=this._heightPixels();return(void 0===i||null===i||i===!1)&&this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(t){if(t._min=0,t._max=0,a=[],t._hasMeasure()){var e=!1;this.series.forEach(function(i){if(i._deepMatch(t)){var n=i._axisBounds(t.position);t._min>n.min&&(t._min=n.min),t._max<n.max&&(t._max=n.max),e=!0}},this),e||this._getAllData().forEach(function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])},this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===a.indexOf(e[t.position].timeField)&&a.push(e[t.position].timeField)},this),t._getAxisData().forEach(function(e){a.forEach(function(i){var n=t._parseDate(e[i]);(null===t._min||n<t._min)&&(t._min=n),(null===t._max||n>t._max)&&(t._max=n)},this)},this)):t._hasCategories()&&(t._min=0,n=[],this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===a.indexOf(e[t.position].categoryFields[0])&&a.push(e[t.position].categoryFields[0])},this),t._getAxisData().forEach(function(t){
a.forEach(function(e){-1===n.indexOf(t[e])&&n.push(t[e])},this)},this),t._max=n.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(e){e._min=t._min,e._max=t._max},this),t._update(),null===r&&"x"===t.position?r=t:null===o&&"y"===t.position&&(o=t)},this),this.axes.forEach(function(i){var n=!1,a=null,p=0,f=null,g=!1,m=0,x={l:null,t:null,r:null,b:null},v=0,y=0,b="",_=this,M=function(t){var i;return i=null===a||0===e||n?t:_._handleTransition(t,e,_)},w=function(){var e=t.select(this).selectAll("text");return!i.measure&&i._max>0&&("x"===i.position?e.attr("x",c/i._max/2):"y"===i.position&&e.attr("y",-1*(d/i._max)/2)),i.categoryFields&&i.categoryFields.length>0&&(i!==r||null!==o.categoryFields&&0!==o.categoryFields.length||e.attr("y",u+d-o._scale(0)+9),i!==o||null!==r.categoryFields&&0!==r.categoryFields.length||e.attr("x",-1*(r._scale(0)-h)-9)),this},T=function(e){return function(){var i=t.select(this).attr("class")||"";return-1===i.indexOf(e)&&(i+=" "+e),i.trim()}};null===i.gridlineShapes?(i.showGridlines||null===i.showGridlines&&!i._hasCategories()&&(!s&&"x"===i.position||!l&&"y"===i.position))&&(i.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),"x"===i.position?s=!0:l=!0):"x"===i.position?s=!0:l=!0,null===i.shapes&&(i.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+i.position).each(function(){_.noFormats||t.select(this).style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),n=!0),i===r&&null!==o?(a="translate(0, "+(null===o.categoryFields||0===o.categoryFields.length?o._scale(0):u+d)+")",f="translate(0, "+(i===r?u+d:u)+")",p=-d):i===o&&null!==r?(a="translate("+(null===r.categoryFields||0===r.categoryFields.length?r._scale(0):h)+", 0)",f="translate("+(i===o?h:h+c)+", 0)",p=-c):"x"===i.position?(f=a="translate(0, "+(i===r?u+d:u)+")",p=-d):"y"===i.position&&(f=a="translate("+(i===o?h:h+c)+", 0)",p=-c),null!==a&&null!==i._draw&&(i._hasTimeField()?M(i.shapes).call(i._draw.ticks(i._getTimePeriod(),i.timeInterval).tickFormat(i._getFormat())).attr("transform",a).each(w):i.useLog?M(i.shapes).call(i._draw.ticks(4,i._getFormat())).attr("transform",a).each(w):M(i.shapes).call(i._draw.tickFormat(i._getFormat())).attr("transform",a).each(w),null!==i.gridlineShapes&&M(i.gridlineShapes).call(i._draw.tickSize(p,0,0).tickFormat("")).attr("transform",f)),M(i.shapes.selectAll("text")).attr("class",T(_.customClassList.axisLabel)).call(function(){_.noFormats||this.style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),M(i.shapes.selectAll("path, line")).attr("class",T(_.customClassList.axisLine)).call(function(){_.noFormats||this.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==i.gridlineShapes&&M(i.gridlineShapes.selectAll("line")).attr("class",T(_.customClassList.gridline)).call(function(){_.noFormats||this.style("fill","none").style("stroke","lightgray").style("opacity",.8)}),(null===i.measure||void 0===i.measure)&&(i.autoRotateLabel?i===r?(m=0,i.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>c/i.shapes.selectAll("text")[0].length?(g=!0,i.shapes.selectAll("text").style("text-anchor","start").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")})):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===i.position&&(m=0,i.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>c/i.shapes.selectAll("text")[0].length?(g=!0,i.shapes.selectAll("text").style("text-anchor","end").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")})):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==i.titleShape&&void 0!==i.titleShape&&i.titleShape.remove(),i.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===x.l||-9-t.width<x.l)&&(x.l=-9-t.width),(null===x.r||t.x+t.width>x.r)&&(x.r=t.x+t.width),g?((null===x.t||t.y+t.height-t.width<x.t)&&(x.t=t.y+t.height-t.width),(null===x.b||t.height+t.width>x.b)&&(x.b=t.height+t.width)):((null===x.t||t.y<x.t)&&(x.t=t.y),(null===x.b||9+t.height>x.b)&&(x.b=9+t.height))}),"x"===i.position?(y=i===r?u+d+x.b+5:u+x.t-10,v=h+c/2):"y"===i.position&&(v=i===o?h+x.l-10:h+c+x.r+20,y=u+d/2,b="rotate(270, "+v+", "+y+")"),i.hidden||"x"!==i.position&&"y"!==i.position||null===i.title||(i.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+_.customClassList.axisTitle+" dimple-axis-"+i.position),i.titleShape.attr("x",v).attr("y",y).attr("text-anchor","middle").attr("transform",b).text(void 0!==i.title?i.title:null===i.categoryFields||void 0===i.categoryFields||0===i.categoryFields.length?i.measure:i.categoryFields.join("/")).each(function(){_.noFormats||t.select(this).style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),i===r?i.titleShape.each(function(){t.select(this).attr("y",y+this.getBBox().height/1.65)}):i===o&&i.titleShape.each(function(){t.select(this).attr("x",v+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return(null===this._assignedColors[t]||void 0===this._assignedColors[t])&&(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,i,n,a){return this.x=t,this.y=i,this.width=n,this.height=a,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,i,n,a){return this.x=t,this.y=i,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(n,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(a,this.svg.node())},this},this.setStoryboard=function(t,i){return this.storyboard=new e.storyboard(this,t),null!==i&&void 0!==i&&(this.storyboard.onTick=i),this.storyboard}},e.color=function(e,i,n){this.fill=e,this.stroke=null===i||void 0===i?t.rgb(e).darker(.5).toString():i,this.opacity=null===n||void 0===n?.8:n},e.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},e.legend=function(i,n,a,r,o,s,l){this.chart=i,this.series=l,this.x=n,this.y=a,this.width=r,this.height=o,this.horizontalAlign=s,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var i,n=this._getEntries(),a=0,r=0,o=0,s=0,l=15,h=9,u=5,c=this;this.shapes&&this.shapes.remove(),i=this.chart._group.selectAll(".dimple-dont-select-any").data(n).enter().append("g").attr("class",function(t){return"dimple-legend "+e._createClass(t.aggField)}).attr("opacity",1),i.append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+c.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(){c.chart.noFormats||this.style("font-family",c.fontFamily).style("font-size",c._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>a&&(a=t.width),t.height>r&&(r=t.height)}),i.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)}).attr("height",h).attr("width",l),r=(h>r?h:r)+c._getVerticalPadding(),a+=l+c._getHorizontalPadding(),i.each(function(i){o+a>c._widthPixels()&&(o=0,s+=r),s>c._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===c.horizontalAlign?c._xPixels()+l+u+o:c._xPixels()+(c._widthPixels()-o-a)+l+u).attr("y",function(){return c._yPixels()+s+this.getBBox().height/1.65}).attr("width",c._widthPixels()).attr("height",c._heightPixels()),t.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+c.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===c.horizontalAlign?c._xPixels()+o:c._xPixels()+(c._widthPixels()-o-a)).attr("y",c._yPixels()+s).attr("height",h).attr("width",l).call(function(){c.chart.noFormats||this.style("fill",i.fill).style("stroke",i.stroke).style("opacity",i.opacity).style("shape-rendering","crispEdges")}),o+=a)}),this.shapes=i},this._getEntries=function(){var t=[];return this.series&&this.series.forEach(function(e){var i=e._positionData;i.forEach(function(i){var n,a=-1,r=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&i.aggField.length<2?"All":i.aggField.slice(-1)[0];for(n=0;n<t.length;n+=1)if(t[n].key===r){a=n;break}-1===a&&e.chart._assignedColors[r]&&(t.push({key:r,fill:e.chart._assignedColors[r].fill,stroke:e.chart._assignedColors[r].stroke,opacity:e.chart._assignedColors[r].opacity,css:e.chart._assignedClasses[r],series:e,aggField:i.aggField}),a=t.length-1)})},this),t},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){var t;return t=isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){var t;return t=isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},e.series=function(t,e,i,n,a,r,o,s,l,h){this.chart=t,this.x=i,this.y=n,this.z=a,this.c=r,this.p=o,this.plot=s,this.categoryFields=e,this.aggregate=l,this.stacked=h,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=t._group.append("g"),this._group.attr("class","dimple-series-group-"+t.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,i,n,a={min:0,max:0},r=null,o=null,s=[],l=0,h=this._positionData;return"x"===t?(r=this.x,o=this.y):"y"===t?(r=this.y,o=this.x):"z"===t?r=this.z:"p"===t?r=this.p:"c"===t&&(r=this.c),r.showPercent?h.forEach(function(t){t[r.position+"Bound"]<a.min&&(a.min=t[r.position+"Bound"]),t[r.position+"Bound"]>a.max&&(a.max=t[r.position+"Bound"])},this):null===o||null===o.categoryFields||0===o.categoryFields.length?h.forEach(function(t){!this._isStacked()||"x"!==r.position&&"y"!==r.position?(t[r.position+"Value"]<a.min&&(a.min=t[r.position+"Value"]),t[r.position+"Value"]>a.max&&(a.max=t[r.position+"Value"])):t[r.position+"Value"]<0?a.min=a.min+t[r.position+"Value"]:a.max=a.max+t[r.position+"Value"]},this):(e=r.position+"Value",i=o.position+"Field",n=[],h.forEach(function(t){var a=t[i].join("/"),r=n.indexOf(a);-1===r&&(n.push(a),r=n.length-1),void 0===s[r]&&(s[r]={min:0,max:0},r>=l&&(l=r+1)),this.stacked?t[e]<0?s[r].min=s[r].min+t[e]:s[r].max=s[r].max+t[e]:(t[e]<s[r].min&&(s[r].min=t[e]),t[e]>s[r].max&&(s[r].max=t[e]))},this),s.forEach(function(t){void 0!==t&&(t.min<a.min&&(a.min=t.min),t.max>a.max&&(a.max=t.max))},this)),a},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var t=0,e=0,i={x:null,y:null},n={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===n.x?t._hasTimeField()?n.x=this.chart._xPixels():n.x=t._origin:"y"===t.position&&null===n.y&&(t._hasTimeField()?n.y=this.chart._yPixels()+this.chart._heightPixels():n.y=t._origin)},this),this.chart.axes.forEach(function(a){"x"!==a.position||this.x.hidden?"y"!==a.position||this.y.hidden||(this._deepMatch(a)&&(0===e?i.x=n.x:1===e&&(i.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(a)&&(0===t?i.y=n.y:1===t&&(i.y=this.chart._yPixels())),t+=1)},this),i},this._getTooltipFontSize=function(){var t;return t=this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach(function(i,n){null!==i&&void 0!==i&&null!==t.aggField[n]&&void 0!==t.aggField[n]&&e.push(i+(t.aggField[n]!==i?": "+t.aggField[n]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter(function(t,i){return e.indexOf(t)===i})}},e.storyboard=function(t,e){null!==e&&void 0!==e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){if(!this.storyLabel){var t=this.chart,e=this,i=0;this.chart.axes.forEach(function(t){"x"===t.position&&(i+=1)},this),this.storyLabel=this.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",this.chart._xPixels()+.01*this.chart._widthPixels()).attr("y",this.chart._yPixels()+(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)*(i>1?1.25:-1)).call(function(){t.noFormats||this.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})}this.storyLabel.text(this.categoryFields.join("\\")+": "+this.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(t){var e=-1,i="";null!==this.categoryFields&&(this.categoryFields.forEach(function(e,n){n>0&&(i+="/"),i+=t[e]},this),e=this._categories.indexOf(i),-1===e&&(this._categories.push(i),e=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval(function(t){return function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}},e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(i,n,a){var r,o,s,l,h,u,c,d,p,f,g,m,x,v,y,b,_,M,w,T,S,C,k,A=n._positionData,P=[],F=null,D="dimple-series-"+i.series.indexOf(n),L=n.x._hasCategories()||n.y._hasCategories()?0:1,B=!1,I={},E=[],z=[],W=function(){return function(i,n,a,r){t.select(n).style("opacity",1),e._showPointTooltip(i,n,a,r)}},N=function(i){return function(n,a,r,o){t.select(a).style("opacity",o.lineMarkers||i.data.length<2?e._helpers.opacity(n,r,o):0),e._removeTooltip(n,a,r,o)}},V=function(t,r){e._drawMarkers(t,i,n,a,D,B,W(t),N(t),r)},R=function(t,a){var r;return"step"===n.interpolation&&n[t]._hasCategories()?(r=e._helpers[t](a,i,n)+("y"===t?e._helpers.height(a,i,n):0),n[t].categoryFields.length<2&&(r+=("y"===t?1:-1)*e._helpers[t+"Gap"](i,n))):r=e._helpers["c"+t](a,i,n),parseFloat(r)},j=function(e,i){return t.svg.line().x(function(t){return n.x._hasCategories()||!i?t.x:n.x[i]}).y(function(t){return n.y._hasCategories()||!i?t.y:n.y[i]}).interpolate(e)},O=function(t,e){return parseFloat(t)-parseFloat(e)},H=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},X=function(t,e,i){var n,a,r=e[e.length-1],o=9999,s=r;for(n=0;n<t.length;n+=1)(t[n].x!==r.x||t[n].y!==r.y)&&(a=180-Math.atan2(t[n].x-r.x,t[n].y-r.y)*(180/Math.PI),a>i&&o>a&&(s=t[n],o=a));return e.push(s),o};for(r="step"===n.interpolation?"step-after":n.interpolation,f=e._getSeriesOrder(n.data||i.data,n),n.c&&(n.x._hasCategories()&&n.y._hasMeasure()||n.y._hasCategories()&&n.x._hasMeasure())&&(B=!0),n.x._hasCategories()?(C="x",k="y"):n.y._hasCategories()&&(C="y",k="x"),o=0;o<A.length;o+=1){for(h=[],c=-1,l=L;l<A[o].aggField.length;l+=1)h.push(A[o].aggField[l]);for(u=e._createClass(h),l=0;l<P.length;l+=1)if(P[l].keyString===u){c=l;break}-1===c&&(c=P.length,P.push({key:h,keyString:u,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:C&&A[o][C+"Field"]&&A[o][C+"Field"].length>=2?A[o][C+"Field"][0]:"All"})),P[c].data.push(A[o])}for(f&&P.sort(function(t,i){return e._arrayIndexCompare(f,t.key,i.key)}),o=0;o<P.length;o+=1){for(P[o].data.sort(e._getSeriesSortPredicate(i,n,f)),s=0;s<P[o].data.length;s+=1)P[o].points.push({x:R("x",P[o].data[s]),y:R("y",P[o].data[s])}),C&&(I[P[o].group]||(I[P[o].group]={}),I[P[o].group][P[o].points[P[o].points.length-1][C]]=n[k]._origin);g=P[o].points,"step"===n.interpolation&&g.length>1&&C&&(n.x._hasCategories()?(g.push({x:2*g[g.length-1].x-g[g.length-2].x,y:g[g.length-1].y}),I[P[o].group][g[g.length-1][C]]=n[k]._origin):n.y._hasCategories()&&(g=[{x:g[0].x,y:2*g[0].y-g[1].y}].concat(g),I[P[o].group][g[0][C]]=n[k]._origin,P[o].points=g))}for(v in I)if(I.hasOwnProperty(v)){E[v]=[];for(y in I[v])I[v].hasOwnProperty(y)&&E[v].push(parseFloat(y));E[v].sort(O)}for(o=0;o<P.length;o+=1){if(g=P[o].points,b=P[o].group,m=[],z=[],B&&e._addGradient(P[o].key,"fill-area-gradient-"+P[o].keyString,n.x._hasCategories()?n.x:n.y,A,i,a,"fill"),E[b]&&E[b].length>0)for(s=0,l=0;s<E[b].length;s+=1)E[b][s]>=g[0][C]&&E[b][s]<=g[g.length-1][C]&&(x={},x[C]=E[b][s],x[k]=I[b][E[b][s]],m.push(x),g[l][C]>E[b][s]?z.push(x):(z.push(g[l]),I[P[o].group][E[b][s]]=g[l][k],l+=1));else if(n._orderRules&&n._orderRules.length>0)z=g.concat(g[0]);else{g=g.sort(H),z.push(g[0]),S=0;do S=X(g,z,S);while(z.length<=g.length&&(z[0].x!==z[z.length-1].x||z[0].y!==z[z.length-1].y))}m=m.reverse(),_=j(r,"_previousOrigin")(z),M=j("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_previousOrigin")(m),w=j("linear","_previousOrigin")(z),T=-1===w.indexOf("L")?void 0:w.indexOf("L"),P[o].entry=_+(M&&M.length>0?"L"+M.substring(1):"")+(w&&w.length>0?"L"+w.substring(1,T):0),_=j(r)(z),M=j("step-after"===r?"step-before":"step-before"===r?"step-after":r)(m),w=j("linear")(z),T=-1===w.indexOf("L")?void 0:w.indexOf("L"),P[o].update=_+(M&&M.length>0?"L"+M.substring(1):"")+(w&&w.length>0?"L"+w.substring(1,T):0),_=j(r,"_origin")(z),M=j("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_origin")(m),w=j("linear","_origin")(z),T=-1===w.indexOf("L")?void 0:w.indexOf("L"),P[o].exit=_+(M&&M.length>0?"L"+M.substring(1):"")+(w&&w.length>0?"L"+w.substring(1,T):0),P[o].color=i.getColor(P[o].key.length>0?P[o].key[P[o].key.length-1]:"All"),P[o].css=i.getClass(P[o].key.length>0?P[o].key[P[o].key.length-1]:"All")}null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),F=null===n.shapes||void 0===n.shapes?n._group.selectAll("."+D).data(P):n.shapes.data(P,function(t){return t.key}),F.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return D+" dimple-line "+t.keyString+" "+i.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){i.noFormats||this.attr("opacity",function(t){return B?1:t.color.opacity}).style("fill",function(t){return B?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return B?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",n.lineWeight)}).each(function(t){t.markerData=t.data,V(t,this)}),d=i._handleTransition(F,a,i).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,V(t,this)}),p=i._handleTransition(F.exit(),a,i).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],V(t,this)}),e._postDrawHandling(n,d,p,a),n.shapes=F}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,i,n){var a,r,o=i._positionData,s=null,l=["dimple-series-"+t.series.indexOf(i),"dimple-bar"],h=!i._isStacked()&&i.x._hasMeasure(),u=!i._isStacked()&&i.y._hasMeasure(),c="none";i.x._hasCategories()&&i.y._hasCategories()?c="both":i.x._hasCategories()?c="x":i.y._hasCategories()&&(c="y"),null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),s=null===i.shapes||void 0===i.shapes?i._group.selectAll("."+l.join(".")).data(o):i.shapes.data(o,function(t){return t.key}),s.enter().append("rect").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(i){var n=[];return n=n.concat(i.aggField),n=n.concat(i.xField),n=n.concat(i.yField),l.join(" ")+" "+e._createClass(n)+" "+t.customClassList.barSeries+" "+e._helpers.css(i,t)}).attr("x",function(n){var a=i.x._previousOrigin;return"x"===c?a=e._helpers.x(n,t,i):"both"===c&&(a=e._helpers.cx(n,t,i)),a}).attr("y",function(n){var a=i.y._previousOrigin;return"y"===c?a=e._helpers.y(n,t,i):"both"===c&&(a=e._helpers.cy(n,t,i)),a}).attr("width",function(n){return"x"===c?e._helpers.width(n,t,i):0}).attr("height",function(n){return"y"===c?e._helpers.height(n,t,i):0}).on("mouseover",function(n){e._showBarTooltip(n,this,t,i)}).on("mouseleave",function(n){e._removeTooltip(n,this,t,i)}).call(function(){t.noFormats||this.attr("opacity",function(n){return e._helpers.opacity(n,t,i)}).style("fill",function(n){return e._helpers.fill(n,t,i)}).style("stroke",function(n){return e._helpers.stroke(n,t,i)})}),a=t._handleTransition(s,n,t,i).attr("x",function(n){return h?e._helpers.cx(n,t,i)-i.x.floatingBarWidth/2:e._helpers.x(n,t,i)}).attr("y",function(n){return u?e._helpers.cy(n,t,i)-i.y.floatingBarWidth/2:e._helpers.y(n,t,i)}).attr("width",function(n){return h?i.x.floatingBarWidth:e._helpers.width(n,t,i)}).attr("height",function(n){return u?i.y.floatingBarWidth:e._helpers.height(n,t,i)}).call(function(){t.noFormats||this.attr("fill",function(n){return e._helpers.fill(n,t,i)}).attr("stroke",function(n){return e._helpers.stroke(n,t,i)})}),r=t._handleTransition(s.exit(),n,t,i).attr("x",function(n){var a=i.x._origin;return"x"===c?a=e._helpers.x(n,t,i):"both"===c&&(a=e._helpers.cx(n,t,i)),a}).attr("y",function(n){var a=i.y._origin;return"y"===c?a=e._helpers.y(n,t,i):"both"===c&&(a=e._helpers.cy(n,t,i)),a}).attr("width",function(n){return"x"===c?e._helpers.width(n,t,i):0}).attr("height",function(n){return"y"===c?e._helpers.height(n,t,i):0}),e._postDrawHandling(i,a,r,n),i.shapes=s}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,i,n){var a,r,o=i._positionData,s=null,l=["dimple-series-"+t.series.indexOf(i),"dimple-bubble"];null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),s=null===i.shapes||void 0===i.shapes?i._group.selectAll("."+l.join(".")).data(o):i.shapes.data(o,function(t){return t.key}),s.enter().append("circle").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(i){var n=[];return n=n.concat(i.aggField),n=n.concat(i.xField),n=n.concat(i.yField),n=n.concat(i.zField),l.join(" ")+" "+e._createClass(n)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(i,t)}).attr("cx",function(n){return i.x._hasCategories()?e._helpers.cx(n,t,i):i.x._previousOrigin}).attr("cy",function(n){return i.y._hasCategories()?e._helpers.cy(n,t,i):i.y._previousOrigin}).attr("r",0).on("mouseover",function(n){e._showPointTooltip(n,this,t,i)}).on("mouseleave",function(n){e._removeTooltip(n,this,t,i)}).call(function(){t.noFormats||this.attr("opacity",function(n){return e._helpers.opacity(n,t,i)}).style("fill",function(n){return e._helpers.fill(n,t,i)}).style("stroke",function(n){return e._helpers.stroke(n,t,i)})}),a=t._handleTransition(s,n,t,i).attr("cx",function(n){return e._helpers.cx(n,t,i)}).attr("cy",function(n){return e._helpers.cy(n,t,i)}).attr("r",function(n){return e._helpers.r(n,t,i)}).call(function(){t.noFormats||this.attr("fill",function(n){return e._helpers.fill(n,t,i)}).attr("stroke",function(n){return e._helpers.stroke(n,t,i)})}),r=t._handleTransition(s.exit(),n,t,i).attr("r",0).attr("cx",function(n){return i.x._hasCategories()?e._helpers.cx(n,t,i):i.x._origin}).attr("cy",function(n){return i.y._hasCategories()?e._helpers.cy(n,t,i):i.y._origin}),e._postDrawHandling(i,a,r,n),i.shapes=s}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(i,n,a){var r,o,s,l,h,u,c,d,p,f,g=n._positionData,m=[],x=null,v="dimple-series-"+i.series.indexOf(n),y=n.x._hasCategories()||n.y._hasCategories()?0:1,b=!1,_=function(){return function(i,n,a,r){t.select(n).style("opacity",1),e._showPointTooltip(i,n,a,r)}},M=function(i){return function(n,a,r,o){t.select(a).style("opacity",o.lineMarkers||i.data.length<2?e._helpers.opacity(n,r,o):0),e._removeTooltip(n,a,r,o)}},w=function(t,r){e._drawMarkers(t,i,n,a,v,b,_(t),M(t),r)},T=function(t,a){var r;return"step"===n.interpolation&&n[t]._hasCategories()?(n.barGap=0,n.clusterBarGap=0,r=e._helpers[t](a,i,n)+("y"===t?e._helpers.height(a,i,n):0)):r=e._helpers["c"+t](a,i,n),parseFloat(r.toFixed(1))},S=function(e,i){return t.svg.line().x(function(t){return n.x._hasCategories()||!i?t.x:n.x[i]}).y(function(t){return n.y._hasCategories()||!i?t.y:n.y[i]}).interpolate(e)};for(r="step"===n.interpolation?"step-after":n.interpolation,f=e._getSeriesOrder(n.data||i.data,n),n.c&&(n.x._hasCategories()&&n.y._hasMeasure()||n.y._hasCategories()&&n.x._hasMeasure())&&(b=!0),o=0;o<g.length;o+=1){for(h=[],c=-1,l=y;l<g[o].aggField.length;l+=1)h.push(g[o].aggField[l]);for(u=e._createClass(h),l=0;l<m.length;l+=1)if(m[l].keyString===u){c=l;break}-1===c&&(c=m.length,m.push({key:h,keyString:u,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),m[c].data.push(g[o])}for(f&&m.sort(function(t,i){return e._arrayIndexCompare(f,t.key,i.key)}),o=0;o<m.length;o+=1){for(m[o].data.sort(e._getSeriesSortPredicate(i,n,f)),b&&e._addGradient(m[o].key,"fill-line-gradient-"+m[o].keyString,n.x._hasCategories()?n.x:n.y,g,i,a,"fill"),s=0;s<m[o].data.length;s+=1)m[o].points.push({x:T("x",m[o].data[s]),y:T("y",m[o].data[s])});"step"===n.interpolation&&m[o].points.length>1&&(n.x._hasCategories()?m[o].points.push({x:2*m[o].points[m[o].points.length-1].x-m[o].points[m[o].points.length-2].x,y:m[o].points[m[o].points.length-1].y}):n.y._hasCategories()&&(m[o].points=[{x:m[o].points[0].x,y:2*m[o].points[0].y-m[o].points[1].y}].concat(m[o].points))),m&&m[o]&&m[o].points&&1===m[o].points.length&&m[o].points.push({x:m[o].points[0].x,y:m[o].points[0].y}),m[o].entry=S(r,"_previousOrigin")(m[o].points),m[o].update=S(r)(m[o].points),m[o].exit=S(r,"_origin")(m[o].points),m[o].color=i.getColor(m[o].key.length>0?m[o].key[m[o].key.length-1]:"All"),m[o].css=i.getClass(m[o].key.length>0?m[o].key[m[o].key.length-1]:"All")}null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),x=null===n.shapes||void 0===n.shapes?n._group.selectAll("."+v).data(m):n.shapes.data(m,function(t){return t.key}),x.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return v+" dimple-line "+t.keyString+" "+i.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){i.noFormats||this.attr("opacity",function(t){return b?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return b?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",n.lineWeight)}).each(function(t){t.markerData=t.data,w(t,this)}),d=i._handleTransition(x,a,i).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,w(t,this)}),p=i._handleTransition(x.exit(),a,i).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],w(t,this)}),e._postDrawHandling(n,d,p,a),n.shapes=x}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(i,n,a){var r,o,s=n._positionData,l=null,h=["dimple-series-"+i.series.indexOf(n),"dimple-pie"],u=function(t){var a;return a=n.x&&n.y?e._helpers.r(t,i,n):i._widthPixels()<i._heightPixels()?i._widthPixels()/2:i._heightPixels()/2},c=function(t){var i=u(t);return n.outerRadius&&(i=e._parsePosition(n.outerRadius,i)),Math.max(i,0)},d=function(t){var i=0;return n.innerRadius&&(i=e._parsePosition(n.innerRadius,u(t))),Math.max(i,0)},p=function(e){var i;return(i=t.svg.arc().innerRadius(d(e)).outerRadius(c(e)))(e)},f=function(e){e.innerRadius=d(e),e.outerRadius=c(e);var i,n=t.interpolate(this._current,e);return i=t.svg.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=n(0),function(t){return i(n(t))}},g=function(t){return function(a){var r,o;return n.x&&n.y?(r=!t||n.x._hasCategories()?e._helpers.cx(a,i,n):n.x._previousOrigin,o=!t||n.y._hasCategories()?e._helpers.cy(a,i,n):n.y._previousOrigin):(r=i._xPixels()+i._widthPixels()/2,o=i._yPixels()+i._heightPixels()/2),"translate("+r+","+o+")"}};null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),l=null===n.shapes||void 0===n.shapes?n._group.selectAll("."+h.join(".")).data(s):n.shapes.data(s,function(t){
return t.key}),l.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){var n=[];return n=n.concat(t.aggField),n=n.concat(t.pField),h.join(" ")+" "+e._createClass(n)+" "+i.customClassList.pieSeries+" "+e._helpers.css(t,i)}).attr("d",p).on("mouseover",function(t){e._showBarTooltip(t,this,i,n)}).on("mouseleave",function(t){e._removeTooltip(t,this,i,n)}).call(function(){i.noFormats||this.attr("opacity",function(t){return e._helpers.opacity(t,i,n)}).style("fill",function(t){return e._helpers.fill(t,i,n)}).style("stroke",function(t){return e._helpers.stroke(t,i,n)})}).attr("transform",g(!0)).each(function(t){this._current=t,t.innerRadius=d(t),t.outerRadius=c(t)}),r=i._handleTransition(l,a,i,n).call(function(){a&&a>0?this.attrTween("d",f):this.attr("d",p),i.noFormats||this.attr("fill",function(t){return e._helpers.fill(t,i,n)}).attr("stroke",function(t){return e._helpers.stroke(t,i,n)})}).attr("transform",g(!1)),o=i._handleTransition(l.exit(),a,i,n).attr("transform",g(!0)).attr("d",p),e._postDrawHandling(n,r,o,a),n.shapes=l}},e._addGradient=function(t,i,n,a,r,o,s){var l=[].concat(t),h=r.svg.select("#"+e._createClass([i])),u=[],c=n.position+"Field",d=!0,p=[];a.forEach(function(t){-1===u.indexOf(t[c])&&t.aggField.join("_")===l.join("_")&&u.push(t[c])},this),u=u.sort(function(t,e){return n._scale(t)-n._scale(e)}),null===h.node()&&(d=!1,h=r.svg.append("defs").append("linearGradient").attr("id",e._createClass([i])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===n.position?n._scale(u[0])+r._widthPixels()/u.length/2:0).attr("y1","y"===n.position?n._scale(u[0])-r._heightPixels()/u.length/2:0).attr("x2","x"===n.position?n._scale(u[u.length-1])+r._widthPixels()/u.length/2:0).attr("y2","y"===n.position?n._scale(u[u.length-1])-r._heightPixels()/u.length/2:0)),u.forEach(function(t,e){var i={},n=0;for(n=0;n<a.length;n+=1)if(a[n].aggField.join("_")===l.join("_")&&a[n][c].join("_")===t.join("_")){i=a[n];break}p.push({offset:Math.round(e/(u.length-1)*100)+"%",color:i[s]})},this),d?r._handleTransition(h.selectAll("stop").data(p),o,r).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):h.selectAll("stop").data(p).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},e._arrayIndexCompare=function(t,e,i){var n,a,r,o,s,l;for(a=0;a<t.length;a+=1){for(o=!0,s=!0,l=[].concat(t[a]),r=0;r<e.length;r+=1)o=o&&e[r]===l[r];for(r=0;r<i.length;r+=1)s=s&&i[r]===l[r];if(o&&s){n=0;break}if(o){n=-1;break}if(s){n=1;break}}return n},e._createClass=function(t){var e,i,n=[];if(i=function(t){var e=t.charCodeAt(0),i="-";return e>=65&&90>=e&&(i=t.toLowerCase()),i},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&n.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,i));else n=["dimple-all"];return n.join(" ")},e._drawMarkerBacks=function(i,n,a,r,o,s){var l,h,u,c=["dimple-marker-back",o,i.keyString];a.lineMarkers&&(l=null===a._markerBacks||void 0===a._markerBacks||void 0===a._markerBacks[i.keyString]?a._group.selectAll("."+c.join(".")).data(i.markerData):a._markerBacks[i.keyString].data(i.markerData,function(t){return t.key}),u=s.nextSibling&&s.nextSibling.id?l.enter().insert("circle","#"+s.nextSibling.id):l.enter().append("circle"),u.attr("id",function(t){return e._createClass([t.key+" Marker Back"])}).attr("class",function(t){var i=[];return a.x._hasCategories()&&(i=i.concat(t.xField)),a.y._hasCategories()&&(i=i.concat(t.yField)),e._createClass(i)+" "+c.join(" ")}).attr("cx",function(t){return a.x._hasCategories()?e._helpers.cx(t,n,a):a.x._previousOrigin}).attr("cy",function(t){return a.y._hasCategories()?e._helpers.cy(t,n,a):a.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),n._handleTransition(l,r,n).attr("cx",function(t){return e._helpers.cx(t,n,a)}).attr("cy",function(t){return e._helpers.cy(t,n,a)}).attr("r",2+a.lineWeight),h=n._handleTransition(l.exit(),r,n).attr("cx",function(t){return a.x._hasCategories()?e._helpers.cx(t,n,a):a.x._origin}).attr("cy",function(t){return a.y._hasCategories()?e._helpers.cy(t,n,a):a.y._origin}).attr("r",0),0===r?h.remove():h.each("end",function(){t.select(this).remove()}),(void 0===a._markerBacks||null===a._markerBacks)&&(a._markerBacks={}),a._markerBacks[i.keyString]=l)},e._drawMarkers=function(i,n,a,r,o,s,l,h,u){var c,d,p,f=["dimple-marker",o,i.keyString];c=null===a._markers||void 0===a._markers||void 0===a._markers[i.keyString]?a._group.selectAll("."+f.join(".")).data(i.markerData):a._markers[i.keyString].data(i.markerData,function(t){return t.key}),p=u.nextSibling&&u.nextSibling.id?c.enter().insert("circle","#"+u.nextSibling.id):c.enter().append("circle"),p.attr("id",function(t){return e._createClass([t.key+" Marker"])}).attr("class",function(t){var i=[],r=n.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return a.x._hasCategories()&&(i=i.concat(t.xField)),a.y._hasCategories()&&(i=i.concat(t.yField)),e._createClass(i)+" "+f.join(" ")+" "+n.customClassList.lineMarker+" "+r}).on("mouseover",function(t){l(t,this,n,a)}).on("mouseleave",function(t){h(t,this,n,a)}).attr("cx",function(t){return a.x._hasCategories()?e._helpers.cx(t,n,a):a.x._previousOrigin}).attr("cy",function(t){return a.y._hasCategories()?e._helpers.cy(t,n,a):a.y._previousOrigin}).attr("r",0).attr("opacity",a.lineMarkers||i.data.length<2?i.color.opacity:0).call(function(){n.noFormats||this.attr("fill","white").style("stroke-width",a.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,n,a):i.color.stroke})}),n._handleTransition(c,r,n).attr("cx",function(t){return e._helpers.cx(t,n,a)}).attr("cy",function(t){return e._helpers.cy(t,n,a)}).attr("r",2+a.lineWeight).attr("opacity",a.lineMarkers||i.data.length<2?i.color.opacity:0).call(function(){n.noFormats||this.attr("fill","white").style("stroke-width",a.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,n,a):i.color.stroke})}),d=n._handleTransition(c.exit(),r,n).attr("cx",function(t){return a.x._hasCategories()?e._helpers.cx(t,n,a):a.x._origin}).attr("cy",function(t){return a.y._hasCategories()?e._helpers.cy(t,n,a):a.y._origin}).attr("r",0),0===r?d.remove():d.each("end",function(){t.select(this).remove()}),(void 0===a._markers||null===a._markers)&&(a._markers={}),a._markers[i.keyString]=c,e._drawMarkerBacks(i,n,a,r,o,u)},e._getOrderedList=function(t,i,n){var a,r=[],o=[],s=[].concat(i),l=[].concat(i),h=[];return null!==n&&void 0!==n&&(h=h.concat(n)),h=h.concat({ordering:s,desc:!1}),h.forEach(function(e){var i,n=[],a=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(i in t[0])t[0].hasOwnProperty(i)&&-1===l.indexOf(i)&&l.push(i)}else if(e.ordering instanceof Array){for(i=0;i<e.ordering.length;i+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[i])&&a.push(e.ordering[i]),n.push(e.ordering[i]);a.length>n.length/2?l.concat(a):e.values=n}else l.push(e.ordering)},this),a=e._rollUp(t,s,l),h.length>=1&&(h.forEach(function(t){var e=null!==t.desc&&void 0!==t.desc&&t.desc,i=t.ordering,n=[],a=function(t){var e,i=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){i=void 0;break}i+=parseFloat(t[e])}return i},o=function(t,e){var i=0,n=a(t),r=a(e);return isNaN(n)||isNaN(r)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?i=-1:t[0]>e[0]&&(i=1):i=Date.parse(t[0])-Date.parse(e[0]):i=parseFloat(n)-parseFloat(r),i};"function"==typeof i?r.push(function(t,n){return(e?-1:1)*i(t,n)}):t.values&&t.values.length>0?(t.values.forEach(function(t){n.push([].concat(t).join("|"))},this),r.push(function(t,i){var a,r,o,l="",h="";for(o=0;o<s.length;o+=1)o>0&&(l+="|",h+="|"),l+=t[s[o]],h+=i[s[o]];return a=n.indexOf(l),r=n.indexOf(h),a=0>a?e?-1:n.length:a,r=0>r?e?-1:n.length:r,(e?-1:1)*(a-r)})):[].concat(t.ordering).forEach(function(t){r.push(function(i,n){var a=0;return void 0!==i[t]&&void 0!==n[t]&&(a=o([].concat(i[t]),[].concat(n[t]))),(e?-1:1)*a})})}),a.sort(function(t,e){for(var i=0,n=0;i<r.length&&0===n;)n=r[i](t,e),i+=1;return n}),a.forEach(function(t){var e,i=[];if(1===s.length)o.push(t[s[0]]);else{for(e=0;e<s.length;e+=1)i.push(t[s[e]]);o.push(i)}},this)),o},e._getSeriesOrder=function(t,i){var n=[].concat(i._orderRules),a=i.categoryFields,r=[];return null!==a&&void 0!==a&&a.length>0&&(null!==i.c&&void 0!==i.c&&i.c._hasMeasure()&&n.push({ordering:i.c.measure,desc:!0}),i.x._hasMeasure()&&n.push({ordering:i.x.measure,desc:!0}),i.y._hasMeasure()&&n.push({ordering:i.y.measure,desc:!0}),r=e._getOrderedList(t,a,n)),r},e._getSeriesSortPredicate=function(t,i,n){return function(a,r){var o=0;return i.x._hasCategories()&&(o=e._helpers.cx(a,t,i)-e._helpers.cx(r,t,i)),0===o&&i.y._hasCategories()&&(o=e._helpers.cy(a,t,i)-e._helpers.cy(r,t,i)),0===o&&n&&(o=e._arrayIndexCompare(n,a.aggField,r.aggField)),o}},e._helpers={cx:function(t,i,n){var a=0;return a=null!==n.x.measure&&void 0!==n.x.measure?n.x._scale(t.cx):n.x._hasCategories()&&n.x.categoryFields.length>=2?n.x._scale(t.cx)+e._helpers.xGap(i,n)+(t.xOffset+.5)*((i._widthPixels()/n.x._max-2*e._helpers.xGap(i,n))*t.width):n.x._scale(t.cx)+i._widthPixels()/n.x._max/2},cy:function(t,i,n){var a=0;return a=null!==n.y.measure&&void 0!==n.y.measure?n.y._scale(t.cy):null!==n.y.categoryFields&&void 0!==n.y.categoryFields&&n.y.categoryFields.length>=2?n.y._scale(t.cy)-i._heightPixels()/n.y._max+e._helpers.yGap(i,n)+(t.yOffset+.5)*((i._heightPixels()/n.y._max-2*e._helpers.yGap(i,n))*t.height):n.y._scale(t.cy)-i._heightPixels()/n.y._max/2},r:function(t,e,i){var n=0,a=1;return null===i.z||void 0===i.z?n=i.radius&&"auto"!==i.radius?i.radius:5:(i.radius&&"auto"!==i.radius&&i.radius>1&&(a=i.radius/i.z._scale(i.z._max)),n=i.z._hasMeasure()?i.z._scale(t.r)*a:i.z._scale(e._heightPixels()/100)*a),n},xGap:function(t,e){var i=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(i=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),i},xClusterGap:function(t,i,n){var a=0;return null!==n.x.categoryFields&&void 0!==n.x.categoryFields&&n.x.categoryFields.length>=2&&n.clusterBarGap>0&&!n.x._hasMeasure()&&(a=t.width*(i._widthPixels()/n.x._max-2*e._helpers.xGap(i,n))*(n.clusterBarGap>.99?.99:n.clusterBarGap)/2),a},yGap:function(t,e){var i=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(i=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),i},yClusterGap:function(t,i,n){var a=0;return null!==n.y.categoryFields&&void 0!==n.y.categoryFields&&n.y.categoryFields.length>=2&&n.clusterBarGap>0&&!n.y._hasMeasure()&&(a=t.height*(i._heightPixels()/n.y._max-2*e._helpers.yGap(i,n))*(n.clusterBarGap>.99?.99:n.clusterBarGap)/2),a},x:function(t,i,n){var a=0;return a=n.x._hasTimeField()?n.x._scale(t.x)-e._helpers.width(t,i,n)/2:null!==n.x.measure&&void 0!==n.x.measure?n.x._scale(t.x):n.x._scale(t.x)+e._helpers.xGap(i,n)+t.xOffset*(e._helpers.width(t,i,n)+2*e._helpers.xClusterGap(t,i,n))+e._helpers.xClusterGap(t,i,n)},y:function(t,i,n){var a=0;return a=n.y._hasTimeField()?n.y._scale(t.y)-e._helpers.height(t,i,n)/2:null!==n.y.measure&&void 0!==n.y.measure?n.y._scale(t.y):n.y._scale(t.y)-i._heightPixels()/n.y._max+e._helpers.yGap(i,n)+t.yOffset*(e._helpers.height(t,i,n)+2*e._helpers.yClusterGap(t,i,n))+e._helpers.yClusterGap(t,i,n)},width:function(t,i,n){var a=0;return a=null!==n.x.measure&&void 0!==n.x.measure?Math.abs(n.x._scale(t.x<0?t.x-t.width:t.x+t.width)-n.x._scale(t.x)):n.x._hasTimeField()?n.x.floatingBarWidth:t.width*(i._widthPixels()/n.x._max-2*e._helpers.xGap(i,n))-2*e._helpers.xClusterGap(t,i,n)},height:function(t,i,n){var a=0;return a=n.y._hasTimeField()?n.y.floatingBarWidth:null!==n.y.measure&&void 0!==n.y.measure?Math.abs(n.y._scale(t.y)-n.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(i._heightPixels()/n.y._max-2*e._helpers.yGap(i,n))-2*e._helpers.yClusterGap(t,i,n)},opacity:function(t,e,i){var n=0;return n=null!==i.c&&void 0!==i.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,i){var n=0;return n=null!==i.c&&void 0!==i.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,i){var n=0;return n=null!==i.c&&void 0!==i.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._parentHeight=function(t){var e=t.getBoundingClientRect().height;return(!e||0>e)&&(e=t.clientHeight),e},e._parentWidth=function(t){var e=t.getBoundingClientRect().width;return(!e||0>e)&&(e=t.clientWidth),e},e._parsePosition=function(t,e){var i,n=0;return t&&(i=t.toString().split(","),i.forEach(function(i){i&&(isNaN(i)?"%"===i.slice(-1)?n+=e*(parseFloat(i.slice(0,i.length-1))/100):"px"===i.slice(-2)?n+=parseFloat(i.slice(0,i.length-2)):n=t:n+=parseFloat(i))},this)),0>n&&(n=e+n),n},e._parseXPosition=function(t,i){return e._parsePosition(t,e._parentWidth(i))},e._parseYPosition=function(t,i){return e._parsePosition(t,e._parentHeight(i))},e._postDrawHandling=function(e,i,n,a){0===a?(i.each(function(t,i){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,i)}),n.remove()):(i.each("end",function(t,i){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,i)}),n.each("end",function(){t.select(this).remove()}))},e._removeTooltip=function(t,e,i){i._tooltipGroup&&i._tooltipGroup.remove()},e._rollUp=function(t,e,i){var n=[];return e=null!==e&&void 0!==e?[].concat(e):[],t.forEach(function(t){var a=-1,r={},o=!0;n.forEach(function(i,n){-1===a&&(o=!0,e.forEach(function(e){o=o&&t[e]===i[e]},this),o&&(a=n))},this),-1!==a?r=n[a]:(e.forEach(function(e){r[e]=t[e]},this),n.push(r),a=n.length-1),i.forEach(function(i){-1===e.indexOf(i)&&(void 0===r[i]&&(r[i]=[]),r[i]=r[i].concat(t[i]))},this),n[a]=r},this),n},e._showBarTooltip=function(e,i,n,a){var r,o,s,l,h,u,c=5,d=10,p=750,f=t.select(i),g=f.node().getBBox().x,m=f.node().getBBox().y,x=f.node().getBBox().width,v=f.node().getBBox().height,y=f.attr("opacity"),b=f.attr("fill"),_=a._dropLineOrigin(),M=t.rgb(t.rgb(b).r+.6*(255-t.rgb(b).r),t.rgb(b).g+.6*(255-t.rgb(b).g),t.rgb(b).b+.6*(255-t.rgb(b).b)),w=t.rgb(t.rgb(b).r+.8*(255-t.rgb(b).r),t.rgb(b).g+.8*(255-t.rgb(b).g),t.rgb(b).b+.8*(255-t.rgb(b).b)),T=a.getTooltipText(e),S=0,C=0,k=0,A=function(t,e){var i=f.node().getCTM(),a=n.svg.node().createSVGPoint();return a.x=t||0,a.y=e||0,a.matrixTransform(i)};null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),n._tooltipGroup=n.svg.append("g"),a.p||(u=a._isStacked()?1:x/2,a.x._hasCategories()||null===_.y||n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",g<a.x._origin?g+u:g+x-u).attr("y1",m<_.y?m+v:m).attr("x2",g<a.x._origin?g+u:g+x-u).attr("y2",m<_.y?m+v:m).call(function(){n.noFormats||this.style("fill","none").style("stroke",b).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",y)}).transition().delay(p/2).duration(p/2).ease("linear").attr("y2",m<_.y?_.y-1:_.y+1),u=a._isStacked()?1:v/2,a.y._hasCategories()||null===_.x||n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",g<_.x?g+x:g).attr("y1",m<a.y._origin?m+u:m+v-u).attr("x2",g<_.x?g+x:g).attr("y2",m<a.y._origin?m+u:m+v-u).call(function(){n.noFormats||this.style("fill","none").style("stroke",b).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",y)}).transition().delay(p/2).duration(p/2).ease("linear").attr("x2",g<_.x?_.x-1:_.x+1)),r=n._tooltipGroup.append("g"),o=r.append("rect").attr("class","dimple-tooltip "+n.customClassList.tooltipBox),r.selectAll(".dimple-dont-select-any").data(T).enter().append("text").attr("class","dimple-tooltip "+n.customClassList.tooltipLabel).text(function(t){return t}).call(function(){n.noFormats||this.style("font-family",a.tooltipFontFamily).style("font-size",a._getTooltipFontSize())}),r.each(function(){C=this.getBBox().width>C?this.getBBox().width:C,k=this.getBBox().width>k?this.getBBox().height:k}),r.selectAll("text").attr("x",0).attr("y",function(){return S+=this.getBBox().height,S-this.getBBox().height/2}),o.attr("x",-c).attr("y",-c).attr("height",Math.floor(S+c)-.5).attr("width",C+2*c).attr("rx",5).attr("ry",5).call(function(){n.noFormats||this.style("fill",w).style("stroke",M).style("stroke-width",2).style("opacity",.95)}),A(g+x+c+d+C).x<parseFloat(n.svg.node().getBBox().width)?(s=g+x+c+d,l=m+v/2-(S-(k-c))/2):A(g-(c+d+C)).x>0?(s=g-(c+d+C),l=m+v/2-(S-(k-c))/2):A(0,m+v+S+d+c).y<parseFloat(n.svg.node().getBBox().height)?(s=g+x/2-(2*c+C)/2,s=s>0?s:d,s=s+C<parseFloat(n.svg.node().getBBox().width)?s:parseFloat(n.svg.node().getBBox().width)-C-d,l=m+v+2*c):(s=g+x/2-(2*c+C)/2,s=s>0?s:d,s=s+C<parseFloat(n.svg.node().getBBox().width)?s:parseFloat(n.svg.node().getBBox().width)-C-d,l=m-S-(k-c)),h=A(s,l),r.attr("transform","translate("+h.x+" , "+h.y+")")},e._showPointTooltip=function(i,n,a,r){var o,s,l,h,u=5,c=10,d=750,p=t.select(n),f=parseFloat(p.attr("cx")),g=parseFloat(p.attr("cy")),m=parseFloat(p.attr("r")),x=e._helpers.opacity(i,a,r),v=p.attr("stroke"),y=r._dropLineOrigin(),b=t.rgb(t.rgb(v).r+.6*(255-t.rgb(v).r),t.rgb(v).g+.6*(255-t.rgb(v).g),t.rgb(v).b+.6*(255-t.rgb(v).b)),_=t.rgb(t.rgb(v).r+.8*(255-t.rgb(v).r),t.rgb(v).g+.8*(255-t.rgb(v).g),t.rgb(v).b+.8*(255-t.rgb(v).b)),M=0,w=0,T=0,S=r.getTooltipText(i);null!==a._tooltipGroup&&void 0!==a._tooltipGroup&&a._tooltipGroup.remove(),a._tooltipGroup=a.svg.append("g"),a._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+a.customClassList.lineMarkerCircle).attr("cx",f).attr("cy",g).attr("r",m).call(function(){a.noFormats||this.attr("opacity",0).style("fill","none").style("stroke",v).style("stroke-width",1)}).transition().duration(d/2).ease("linear").attr("r",m+r.lineWeight+2).call(function(){a.noFormats||this.attr("opacity",1).style("stroke-width",2)}),null!==y.y&&a._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+a.customClassList.tooltipDropLine).attr("x1",f).attr("y1",g<y.y?g+m+r.lineWeight+2:g-m-r.lineWeight-2).attr("x2",f).attr("y2",g<y.y?g+m+r.lineWeight+2:g-m-r.lineWeight-2).call(function(){a.noFormats||this.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",x)}).transition().delay(d/2).duration(d/2).ease("linear").attr("y2",g<y.y?y.y-1:y.y+1),null!==y.x&&a._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+a.customClassList.tooltipDropLine).attr("x1",f<y.x?f+m+r.lineWeight+2:f-m-r.lineWeight-2).attr("y1",g).attr("x2",f<y.x?f+m+r.lineWeight+2:f-m-r.lineWeight-2).attr("y2",g).call(function(){a.noFormats||this.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",x)}).transition().delay(d/2).duration(d/2).ease("linear").attr("x2",f<y.x?y.x-1:y.x+1),o=a._tooltipGroup.append("g"),s=o.append("rect").attr("class","dimple-tooltip "+a.customClassList.tooltipBox),o.selectAll(".dont-select-any").data(S).enter().append("text").attr("class","dimple-tooltip "+a.customClassList.tooltipLabel).text(function(t){return t}).call(function(){a.noFormats||this.style("font-family",r.tooltipFontFamily).style("font-size",r._getTooltipFontSize())}),o.each(function(){w=this.getBBox().width>w?this.getBBox().width:w,T=this.getBBox().width>T?this.getBBox().height:T}),o.selectAll("text").attr("x",0).attr("y",function(){return M+=this.getBBox().height,M-this.getBBox().height/2}),s.attr("x",-u).attr("y",-u).attr("height",Math.floor(M+u)-.5).attr("width",w+2*u).attr("rx",5).attr("ry",5).call(function(){a.noFormats||this.style("fill",_).style("stroke",b).style("stroke-width",2).style("opacity",.95)}),f+m+u+c+w<parseFloat(a.svg.node().getBBox().width)?(l=f+m+u+c,h=g-(M-(T-u))/2):f-m-(u+c+w)>0?(l=f-m-(u+c+w),h=g-(M-(T-u))/2):g+m+M+c+u<parseFloat(a.svg.node().getBBox().height)?(l=f-(2*u+w)/2,l=l>0?l:c,l=l+w<parseFloat(a.svg.node().getBBox().width)?l:parseFloat(a.svg.node().getBBox().width)-w-c,h=g+m+2*u):(l=f-(2*u+w)/2,l=l>0?l:c,l=l+w<parseFloat(a.svg.node().getBBox().width)?l:parseFloat(a.svg.node().getBBox().width)-w-c,h=g-M-(T-u)),o.attr("transform","translate("+l+" , "+h+")")},e.filterData=function(t,e,i){var n=t;return null!==e&&null!==i&&(null!==i&&void 0!==i&&(i=[].concat(i)),n=[],t.forEach(function(t){null===t[e]?n.push(t):i.indexOf([].concat(t[e]).join("/"))>-1&&n.push(t)},this)),n},e.getUniqueValues=function(t,e){var i=[];return null!==e&&void 0!==e&&(e=[].concat(e),t.forEach(function(t){var n="";e.forEach(function(e,i){i>0&&(n+="/"),n+=t[e]},this),-1===i.indexOf(n)&&i.push(n)},this)),i},e.newSvg=function(e,i,n){var a=null;if((null===e||void 0===e)&&(e="body"),a=t.select(e),a.empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return a.append("svg").attr("width",i).attr("height",n)},e}),$(function(){setTimeout(function(){$(".alert").fadeOut("slow"),$(document).removeClass("in")},2e3),jQuery(function(){jQuery.validator.addMethod("loginRegex",function(t,e){return this.optional(e)||/^[a-zA-Z]+$/i.test(t)},"Please enter valid name")}),jQuery(function(){jQuery.validator.addMethod("emailRegex",function(t,e){return t=$.trim(t),jQuery("#UserEmail").val(t),this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},"Please enter valid email")}),$("#new_user, .edit_user").validate({rules:{first_name:{required:!0,loginRegex:!0,minlength:3,maxlength:20},last_name:{required:!0,loginRegex:!0,minlength:3,maxlength:20},email:{required:!0,emailRegex:!0,email:!0},role:{required:!0}},messages:{first_name:{required:"Please enter first name"},last_name:{required:"Please enter last name"},email:{required:"Please enter email",email:"Please enter valid email"},role:{required:"Please select role"}},highlight:function(t){$(t).removeClass("error")}}),$("#from_email_url").validate({rules:{"mailbox[from_email]":{required:!0,emailRegex:!0,email:!0}},messages:{"mailbox[from_email]":{required:"Please enter email",email:"Please enter valid email"}},highlight:function(t){$(t).removeClass("error")}}),$("#my_user").on("change",function(){$("#switch").submit()})}),function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var i=t.data(this[0],"validator");return i?i:(i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(e){function n(){if(i.settings.submitHandler){if(i.submitButton)var e=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&e.remove(),!1}return!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e&=i.element(this)}),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n=this[0];if(e){var a=t.data(n.form,"validator").settings,r=a.rules,o=t.validator.staticRules(n);switch(e){case"add":t.extend(o,t.validator.normalizeRule(i)),r[n.name]=o,i.messages&&(a.messages[n.name]=t.extend(a.messages[n.name],i.messages));break;case"remove":if(!i)return delete r[n.name],o;var s={};return t.each(i.split(/\s/),function(t,e){s[e]=o[e],delete o[e]}),s}}var l=t.validator.normalizeRules(t.extend({},t.validator.metadataRules(n),t.validator.classRules(n),t.validator.attributeRules(n),t.validator.staticRules(n)),n);if(l.required){var h=l.required;delete l.required,l=t.extend({required:h},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+e.value)},filled:function(e){return!!t.trim(""+e.value)},unchecked:function(t){return!t.checked}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1==arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),i)}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t){(t.name in this.submitted||t==this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a image with a valid extension.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,"");i.settings[n]&&i.settings[n].call(i,this[0])}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,n){t.each(n.split(/\s/),function(t,n){i[n]=e})});var n=this.settings.rules;t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.clean(e),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e);return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1==t.grep(this.errorList,function(t){return t.element.name==e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){return t(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},check:function(e){e=this.clean(e),this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]);var i=t(e).rules(),n=!1;for(var a in i){var r={method:a,parameters:i[a]};try{var o=t.validator.methods[a].call(this,e.value.replace(/\r/g,""),e,r.parameters);if("dependency-mismatch"==o){n=!0;continue}if(n=!1,"pending"==o)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!o)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+r.method+"' method",t),t}}if(!n)return this.objectLength(i)&&this.successList.push(e),!0},customMetaMessage:function(e,i){if(t.metadata){var n=this.settings.meta?t(e).metadata()[this.settings.meta]:t(e).metadata();return n&&n.messages&&n.messages[i]}},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor==String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customMetaMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=jQuery.format(i.replace(n,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){for(var t=0;this.errorList[t];t++){var e=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),
this.settings.success)for(var t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(var t=0,i=this.validElements();i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n=this.errorsFor(e);n.length?(n.removeClass().addClass(this.settings.errorClass),n.attr("generated")&&n.html(i)):(n=t("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")==i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){var i=this.currentForm;return t(document.getElementsByName(e)).map(function(t,n){return n.form==i&&n.name==e&&n||null})},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){return!t.validator.methods.required.call(this,t.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor==String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},n=t(e);for(var a in t.validator.methods){var r=n.attr(a);r&&(i[a]=r)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(e){if(!t.metadata)return{};var i=t.data(e.form,"validator").settings.meta;return i?t(e).metadata()[i]:t(e).metadata()},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,a){if(a===!1)return void delete e[n];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!t(a.depends,i.form).length;break;case"function":r=a.depends.call(i,i)}r?e[n]=void 0===a.param||a.param:delete e[n]}}),t.each(e,function(n,a){e[n]=t.isFunction(a)?a(i):a}),t.each(["minlength","maxlength","min","max"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e.messages&&delete e.messages,e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!=n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var a=t(i).val();return a&&a.length>0;case"input":if(this.checkable(i))return this.getLength(e,i)>0;default:return t.trim(e).length>0}},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var a=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,n="string"==typeof n&&{url:n}||n,this.pending[i.name])return"pending";if(a.old===e)return a.valid;a.old=e;var r=this;this.startRequest(i);var o={};return o[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:o,success:function(n){r.settings.messages[i.name].remote=a.originalMessage;var o=n===!0;if(o){var s=r.formSubmitted;r.prepareElement(i),r.formSubmitted=s,r.successList.push(i),r.showErrors()}else{var l={},h=n||r.defaultMessage(i,"remote");l[i.name]=a.message=t.isFunction(h)?h(e):h,r.showErrors(l)}a.valid=o,r.stopRequest(i,o)}},n)),"pending"},minlength:function(e,i,n){return this.optional(i)||this.getLength(t.trim(e),i)>=n},maxlength:function(e,i,n){return this.optional(i)||this.getLength(t.trim(e),i)<=n},rangelength:function(e,i,n){var a=this.getLength(t.trim(e),i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9-]+/.test(t))return!1;var i=0,n=0,a=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var o=t.charAt(r),n=parseInt(o,10);a&&(n*=2)>9&&(n-=9),i+=n,a=!a}return i%10==0},accept:function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp(".("+i+")$","i"))},equalTo:function(e,i,n){var a=t(n).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()});return e==a.val()}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,n){var a=t.port;"abort"==t.mode&&(e[a]&&e[a].abort(),e[a]=n)});else{var i=t.ajax;t.ajax=function(n){var a=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"==a?(e[r]&&e[r].abort(),e[r]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(t){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||t.each({focus:"focusin",blur:"focusout"},function(e,i){function n(e){return e=t.event.fix(e),e.type=i,t.event.handle.call(this,e)}t.event.special[i]={setup:function(){this.addEventListener(e,n,!0)},teardown:function(){this.removeEventListener(e,n,!0)},handler:function(e){return arguments[0]=t.event.fix(e),arguments[0].type=i,t.event.handle.apply(this,arguments)}}}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var a=t(i.target);if(a.is(e))return n.apply(a,arguments)})}})}(jQuery),function(){}.call(this),function(){}.call(this),window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",i=function(i){var n=t.length;return t.push(i),window.postMessage(e+n.toString(36),"*"),n};return window.addEventListener("message",function(i){if("string"==typeof i.data&&i.data.substr(0,e.length)===e){i.stopImmediatePropagation();var n=parseInt(i.data.substr(e.length),36);t[n]&&(t[n](),t[n]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},i}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}()),function(t){var e=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),i=function(){if(e){for(var t,i,n=document.createElement("canvas").getContext("2d"),a=20;a;){if(n.font=a.toString(10)+"px sans-serif",n.measureText("\uff37").width===t&&n.measureText("m").width===i)return a+1;t=n.measureText("\uff37").width,i=n.measureText("m").width,a--}return 0}}(),n=function(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t},a=function(t,a){function r(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(e){Array.isArray(t)||(t=[t]),t.forEach(function(e,i){if("string"==typeof e){if(t[i]=document.getElementById(e),!t[i])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var o={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5fae\u8edf\u6b63\u9ed1\u9ad4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(a)for(var s in a)s in o&&(o[s]=a[s]);if("function"!=typeof o.weightFactor){var l=o.weightFactor;o.weightFactor=function(t){return t*l}}if("function"!=typeof o.shape)switch(o.shape){case"circle":default:o.shape="circle";break;case"cardioid":o.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":o.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":o.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":o.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":o.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":o.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}o.gridSize=Math.max(Math.floor(o.gridSize),4);var h,u,c,d,p,f,g,m=o.gridSize,x=m-o.maskGapWidth,v=Math.abs(o.maxRotation-o.minRotation),y=Math.min(o.maxRotation,o.minRotation);switch(o.color){case"random-dark":g=function(){return r(10,50)};break;case"random-light":g=function(){return r(50,90)};break;default:"function"==typeof o.color&&(g=o.color)}var b=null;"function"==typeof o.classes&&(b=o.classes);var _,M=!1,w=[],T=function(t){var e,i,n=t.currentTarget,a=n.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,i=t.touches[0].clientY):(e=t.clientX,i=t.clientY);var r=e-a.left,o=i-a.top,s=Math.floor(r*(n.width/a.width||1)/m),l=Math.floor(o*(n.height/a.height||1)/m);return w[s][l]},S=function(t){var e=T(t);if(_!==e)return _=e,e?void o.hover(e.item,e.dimension,t):void o.hover(void 0,void 0,t)},C=function(t){var e=T(t);e&&(o.click(e.item,e.dimension,t),t.preventDefault())},k=[],A=function(t){if(k[t])return k[t];var e=8*t,i=e,n=[];for(0===t&&n.push([d[0],d[1],0]);i--;){var a=1;"circle"!==o.shape&&(a=o.shape(i/e*2*Math.PI)),n.push([d[0]+t*a*Math.cos(-i/e*2*Math.PI),d[1]+t*a*Math.sin(-i/e*2*Math.PI)*o.ellipticity,i/e*2*Math.PI])}return k[t]=n,n},P=function(){return o.abortThreshold>0&&(new Date).getTime()-f>o.abortThreshold},F=function(){return 0===o.rotateRatio?0:Math.random()>o.rotateRatio?0:0===v?y:y+Math.random()*v},D=function(t,e,n){var a=!1,r=o.weightFactor(e);if(r<=o.minSize)return!1;var s=1;r<i&&(s=function(){for(var t=2;t*r<i;)t+=2;return t}());var l=document.createElement("canvas"),h=l.getContext("2d",{willReadFrequently:!0});h.font=o.fontWeight+" "+(r*s).toString(10)+"px "+o.fontFamily;var u=h.measureText(t).width/s,c=Math.max(r*s,h.measureText("m").width,h.measureText("\uff37").width)/s,d=u+2*c,p=3*c,f=Math.ceil(d/m),g=Math.ceil(p/m);d=f*m,p=g*m;var x=-u/2,v=.4*-c,y=Math.ceil((d*Math.abs(Math.sin(n))+p*Math.abs(Math.cos(n)))/m),b=Math.ceil((d*Math.abs(Math.cos(n))+p*Math.abs(Math.sin(n)))/m),_=b*m,M=y*m;l.setAttribute("width",_),l.setAttribute("height",M),a&&(document.body.appendChild(l),h.save()),h.scale(1/s,1/s),h.translate(_*s/2,M*s/2),h.rotate(-n),h.font=o.fontWeight+" "+(r*s).toString(10)+"px "+o.fontFamily,h.fillStyle="#000",h.textBaseline="middle",h.fillText(t,x*s,(v+.5*r)*s);var w=h.getImageData(0,0,_,M).data;if(P())return!1;a&&(h.strokeRect(x*s,v,u*s,c*s),h.restore());for(var T,S,C,k=[],A=b,F=[y/2,b/2,y/2,b/2];A--;)for(T=y;T--;){C=m;t:{for(;C--;)for(S=m;S--;)if(w[4*((T*m+C)*_+(A*m+S))+3]){k.push([A,T]),A<F[3]&&(F[3]=A),A>F[1]&&(F[1]=A),T<F[0]&&(F[0]=T),T>F[2]&&(F[2]=T),a&&(h.fillStyle="rgba(255, 0, 0, 0.5)",h.fillRect(A*m,T*m,m-.5,m-.5));break t}a&&(h.fillStyle="rgba(0, 0, 255, 0.5)",h.fillRect(A*m,T*m,m-.5,m-.5))}}return a&&(h.fillStyle="rgba(0, 255, 0, 0.5)",h.fillRect(F[3]*m,F[0]*m,(F[1]-F[3]+1)*m,(F[2]-F[0]+1)*m)),{mu:s,occupied:k,bounds:F,gw:b,gh:y,fillTextOffsetX:x,fillTextOffsetY:v,fillTextWidth:u,fillTextHeight:c,fontSize:r}},L=function(t,e,i,n,a){for(var r=a.length;r--;){var s=t+a[r][0],l=e+a[r][1];if(s>=u||l>=c||s<0||l<0){if(!o.drawOutOfBound)return!1}else if(!h[s][l])return!1}return!0},B=function(e,i,n,a,r,s,l,h,u){var c,d=n.fontSize;c=g?g(a,r,d,s,l):o.color;var p;p=b?b(a,r,d,s,l):o.classes;var f,x=n.bounds;f={x:(e+x[3])*m,y:(i+x[0])*m,w:(x[1]-x[3]+1)*m,h:(x[2]-x[0]+1)*m},t.forEach(function(t){if(t.getContext){var r=t.getContext("2d"),s=n.mu;r.save(),r.scale(1/s,1/s),r.font=o.fontWeight+" "+(d*s).toString(10)+"px "+o.fontFamily,r.fillStyle=c,r.translate((e+n.gw/2)*m*s,(i+n.gh/2)*m*s),0!==h&&r.rotate(-h),r.textBaseline="middle",r.fillText(a,n.fillTextOffsetX*s,(n.fillTextOffsetY+.5*d)*s),r.restore()}else{var l=document.createElement("span"),f="";f="rotate("+-h/Math.PI*180+"deg) ",1!==n.mu&&(f+="translateX(-"+n.fillTextWidth/4+"px) scale("+1/n.mu+")");var g={position:"absolute",display:"block",font:o.fontWeight+" "+d*n.mu+"px "+o.fontFamily,left:(e+n.gw/2)*m+n.fillTextOffsetX+"px",top:(i+n.gh/2)*m+n.fillTextOffsetY+"px",width:n.fillTextWidth+"px",height:n.fillTextHeight+"px",lineHeight:d+"px",whiteSpace:"nowrap",transform:f,webkitTransform:f,msTransform:f,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};c&&(g.color=c),l.textContent=a;for(var x in g)l.style[x]=g[x];if(u)for(var v in u)l.setAttribute(v,u[v]);p&&(l.className+=p),t.appendChild(l)}})},I=function(e,i,n,a,r){if(!(e>=u||i>=c||e<0||i<0)){if(h[e][i]=!1,n){var o=t[0].getContext("2d");o.fillRect(e*m,i*m,x,x)}M&&(w[e][i]={item:r,dimension:a})}},E=function(e,i,n,a,r,s){var l,h=r.occupied,d=o.drawMask;d&&(l=t[0].getContext("2d"),l.save(),l.fillStyle=o.maskColor);var p;if(M){var f=r.bounds;p={x:(e+f[3])*m,y:(i+f[0])*m,w:(f[1]-f[3]+1)*m,h:(f[2]-f[0]+1)*m}}for(var g=h.length;g--;){var x=e+h[g][0],v=i+h[g][1];x>=u||v>=c||x<0||v<0||I(x,v,d,p,s)}d&&l.restore()},z=function(t){var e,i,a;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,a=t.attributes);var r=F(),s=D(e,i,r);if(!s)return!1;if(P())return!1;if(!o.drawOutOfBound){var l=s.bounds;if(l[1]-l[3]+1>u||l[2]-l[0]+1>c)return!1}for(var h=p+1,d=function(n){var o=Math.floor(n[0]-s.gw/2),l=Math.floor(n[1]-s.gh/2),u=s.gw,c=s.gh;return!!L(o,l,u,c,s.occupied)&&(B(o,l,s,e,i,p-h,n[2],r,a),E(o,l,u,c,s,t),!0)};h--;){var f=A(p-h);o.shuffle&&(f=[].concat(f),n(f));var g=f.some(d);if(g)return!0}return!1},W=function(e,i,n){return i?!t.some(function(t){var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,!0,i,n||{}),!t.dispatchEvent(a)},this):void t.forEach(function(t){var a=document.createEvent("CustomEvent");a.initCustomEvent(e,!0,i,n||{}),t.dispatchEvent(a)},this)},N=function(){var e=t[0];if(e.getContext)u=Math.ceil(e.width/m),c=Math.ceil(e.height/m);else{var i=e.getBoundingClientRect();u=Math.ceil(i.width/m),c=Math.ceil(i.height/m)}if(W("wordcloudstart",!0)){d=o.origin?[o.origin[0]/m,o.origin[1]/m]:[u/2,c/2],p=Math.floor(Math.sqrt(u*u+c*c)),h=[];var n,a,r;if(!e.getContext||o.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=o.backgroundColor,e.clearRect(0,0,u*(m+1),c*(m+1)),e.fillRect(0,0,u*(m+1),c*(m+1))}else t.textContent="",t.style.backgroundColor=o.backgroundColor,t.style.position="relative"}),n=u;n--;)for(h[n]=[],a=c;a--;)h[n][a]=!0;else{var s=document.createElement("canvas").getContext("2d");s.fillStyle=o.backgroundColor,s.fillRect(0,0,1,1);var l=s.getImageData(0,0,1,1).data,g=e.getContext("2d").getImageData(0,0,u*m,c*m).data;n=u;for(var x,v;n--;)for(h[n]=[],a=c;a--;){v=m;t:for(;v--;)for(x=m;x--;)for(r=4;r--;)if(g[4*((a*m+v)*u*m+(n*m+x))+r]!==l[r]){h[n][a]=!1;break t}h[n][a]!==!1&&(h[n][a]=!0)}g=s=l=void 0}if(o.hover||o.click){for(M=!0,n=u+1;n--;)w[n]=[];o.hover&&e.addEventListener("mousemove",S),o.click&&(e.addEventListener("click",C),e.addEventListener("touchstart",C),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",S),e.removeEventListener("click",C),_=void 0})}r=0;var y,b;0!==o.wait?(y=window.setTimeout,b=window.clearTimeout):(y=window.setImmediate,b=window.clearImmediate);var T=function(e,i){t.forEach(function(t){t.addEventListener(e,i)},this)},k=function(e,i){t.forEach(function(t){t.removeEventListener(e,i)},this)},A=function t(){k("wordcloudstart",t),b(F)};T("wordcloudstart",A);var F=y(function t(){if(r>=o.list.length)return b(F),W("wordcloudstop",!1),void k("wordcloudstart",A);f=(new Date).getTime();var e=z(o.list[r]),i=!W("wordclouddrawn",!0,{item:o.list[r],drawn:e});return P()||i?(b(F),o.abort(),W("wordcloudabort",!1),W("wordcloudstop",!1),void k("wordcloudstart",A)):(r++,void(F=y(t,o.wait)))},o.wait)}};N()}};a.isSupported=e,a.minFontSize=i,"function"==typeof define&&define.amd?(t.WordCloud=a,define("wordcloud",[],function(){return a})):"undefined"!=typeof module&&module.exports?module.exports=a:t.WordCloud=a}(this);